(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e2b1a048"],{"02d1":function(t,e,i){"use strict";i.d(e,"a",(function(){return xt})),i.d(e,"b",(function(){return kt})),i.d(e,"c",(function(){return oe})),i.d(e,"d",(function(){return xn})),i.d(e,"e",(function(){return $t})),i.d(e,"f",(function(){return Jt})),i.d(e,"g",(function(){return yt})),i.d(e,"h",(function(){return Fn})),i.d(e,"i",(function(){return ls})),i.d(e,"j",(function(){return ts})),i.d(e,"k",(function(){return _n})),i.d(e,"l",(function(){return Qt})),i.d(e,"m",(function(){return Bn}));for(var n=i("e1ea"),s=i("b99a"),r=i("ae49"),o=i("c06e"),l={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",229:"q"},a={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"',229:"Q"},h="undefined"!=typeof navigator&&/Chrome\/(\d+)/.exec(navigator.userAgent),c="undefined"!=typeof navigator&&/Apple Computer/.test(navigator.vendor),u="undefined"!=typeof navigator&&/Gecko\/\d+/.test(navigator.userAgent),d="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),f="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),p=h&&(d||+h[1]<57)||u&&d,g=0;g<10;g++)l[48+g]=l[96+g]=String(g);for(g=1;g<=24;g++)l[g+111]="F"+g;for(g=65;g<=90;g++)l[g]=String.fromCharCode(g+32),a[g]=String.fromCharCode(g);for(var m in l)a.hasOwnProperty(m)||(a[m]=l[m]);function v(t){var e=p&&(t.ctrlKey||t.altKey||t.metaKey)||(c||f)&&t.shiftKey&&t.key&&1==t.key.length,i=!e&&t.key||(t.shiftKey?a:l)[t.keyCode]||t.key||"Unidentified";return"Esc"==i&&(i="Escape"),"Del"==i&&(i="Delete"),"Left"==i&&(i="ArrowLeft"),"Up"==i&&(i="ArrowUp"),"Right"==i&&(i="ArrowRight"),"Down"==i&&(i="ArrowDown"),i}function w(t){let e;return e=11==t.nodeType?t.getSelection?t:t.ownerDocument:t,e.getSelection()}function b(t,e){return!!e&&(t==e||t.contains(1!=e.nodeType?e.parentNode:e))}function y(){let t=document.activeElement;while(t&&t.shadowRoot)t=t.shadowRoot.activeElement;return t}function x(t,e){if(!e.anchorNode)return!1;try{return b(t,e.anchorNode)}catch(i){return!1}}function k(t){return 3==t.nodeType?N(t,0,t.nodeValue.length).getClientRects():1==t.nodeType?t.getClientRects():[]}function S(t,e,i,n){return!!i&&(C(t,e,i,n,-1)||C(t,e,i,n,1))}function O(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e}function C(t,e,i,n,s){for(;;){if(t==i&&e==n)return!0;if(e==(s<0?0:A(t))){if("DIV"==t.nodeName)return!1;let i=t.parentNode;if(!i||1!=i.nodeType)return!1;e=O(t)+(s<0?0:1),t=i}else{if(1!=t.nodeType)return!1;if(t=t.childNodes[e+(s<0?-1:0)],1==t.nodeType&&"false"==t.contentEditable)return!1;e=s<0?A(t):0}}}function A(t){return 3==t.nodeType?t.nodeValue.length:t.childNodes.length}const M={left:0,right:0,top:0,bottom:0};function T(t,e){let i=e?t.left:t.right;return{left:i,right:i,top:t.top,bottom:t.bottom}}function D(t){return{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight}}function P(t,e,i,n,s,r,o,l){let a=t.ownerDocument,h=a.defaultView;for(let c=t;c;)if(1==c.nodeType){let t,u=c==a.body;if(u)t=D(h);else{if(c.scrollHeight<=c.clientHeight&&c.scrollWidth<=c.clientWidth){c=c.parentNode;continue}let e=c.getBoundingClientRect();t={left:e.left,right:e.left+c.clientWidth,top:e.top,bottom:e.top+c.clientHeight}}let d=0,f=0;if("nearest"==s)e.top<t.top?(f=-(t.top-e.top+o),i>0&&e.bottom>t.bottom+f&&(f=e.bottom-t.bottom+f+o)):e.bottom>t.bottom&&(f=e.bottom-t.bottom+o,i<0&&e.top-f<t.top&&(f=-(t.top+f-e.top+o)));else{let n=e.bottom-e.top,r=t.bottom-t.top,l="center"==s&&n<=r?e.top+n/2-r/2:"start"==s||"center"==s&&i<0?e.top-o:e.bottom-r+o;f=l-t.top}if("nearest"==n)e.left<t.left?(d=-(t.left-e.left+r),i>0&&e.right>t.right+d&&(d=e.right-t.right+d+r)):e.right>t.right&&(d=e.right-t.right+r,i<0&&e.left<t.left+d&&(d=-(t.left+d-e.left+r)));else{let i="center"==n?e.left+(e.right-e.left)/2-(t.right-t.left)/2:"start"==n==l?e.left-r:e.right-(t.right-t.left)+r;d=i-t.left}if(d||f)if(u)h.scrollBy(d,f);else{if(f){let t=c.scrollTop;c.scrollTop+=f,f=c.scrollTop-t}if(d){let t=c.scrollLeft;c.scrollLeft+=d,d=c.scrollLeft-t}e={left:e.left-d,top:e.top-f,right:e.right-d,bottom:e.bottom-f}}if(u)break;c=c.assignedSlot||c.parentNode,n=s="nearest"}else{if(11!=c.nodeType)break;c=c.host}}class _{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(t){return this.anchorNode==t.anchorNode&&this.anchorOffset==t.anchorOffset&&this.focusNode==t.focusNode&&this.focusOffset==t.focusOffset}setRange(t){this.set(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset)}set(t,e,i,n){this.anchorNode=t,this.anchorOffset=e,this.focusNode=i,this.focusOffset=n}}let E,R=null;function B(t){if(t.setActive)return t.setActive();if(R)return t.focus(R);let e=[];for(let i=t;i;i=i.parentNode)if(e.push(i,i.scrollTop,i.scrollLeft),i==i.ownerDocument)break;if(t.focus(null==R?{get preventScroll(){return R={preventScroll:!0},!0}}:void 0),!R){R=!1;for(let t=0;t<e.length;){let i=e[t++],n=e[t++],s=e[t++];i.scrollTop!=n&&(i.scrollTop=n),i.scrollLeft!=s&&(i.scrollLeft=s)}}}function N(t,e,i=e){let n=E||(E=document.createRange());return n.setEnd(t,i),n.setStart(t,e),n}function L(t,e,i){let n={key:e,code:e,keyCode:i,which:i,cancelable:!0},s=new KeyboardEvent("keydown",n);s.synthetic=!0,t.dispatchEvent(s);let r=new KeyboardEvent("keyup",n);return r.synthetic=!0,t.dispatchEvent(r),s.defaultPrevented||r.defaultPrevented}function I(t){while(t){if(t&&(9==t.nodeType||11==t.nodeType&&t.host))return t;t=t.assignedSlot||t.parentNode}return null}function V(t){while(t.attributes.length)t.removeAttributeNode(t.attributes[0])}class z{constructor(t,e,i=!0){this.node=t,this.offset=e,this.precise=i}static before(t,e){return new z(t.parentNode,O(t),e)}static after(t,e){return new z(t.parentNode,O(t)+1,e)}}const H=[];class W{constructor(){this.parent=null,this.dom=null,this.dirty=2}get editorView(){if(!this.parent)throw new Error("Accessing view in orphan content view");return this.parent.editorView}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(t){let e=this.posAtStart;for(let i of this.children){if(i==t)return e;e+=i.length+i.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(t){return this.posBefore(t)+t.length}coordsAt(t,e){return null}sync(t){if(2&this.dirty){let e=this.dom,i=e.firstChild;for(let n of this.children){if(n.dirty){if(!n.dom&&i){let t=W.get(i);t&&(t.parent||t.constructor!=n.constructor)||n.reuseDOM(i)}n.sync(t),n.dirty=0}if(t&&!t.written&&t.node==e&&i!=n.dom&&(t.written=!0),n.dom.parentNode==e){while(i&&i!=n.dom)i=q(i);i=n.dom.nextSibling}else e.insertBefore(n.dom,i)}i&&t&&t.node==e&&(t.written=!0);while(i)i=q(i)}else if(1&this.dirty)for(let e of this.children)e.dirty&&(e.sync(t),e.dirty=0)}reuseDOM(t){}localPosFromDOM(t,e){let i;if(t==this.dom)i=this.dom.childNodes[e];else{let n=0==A(t)?0:0==e?-1:1;for(;;){let e=t.parentNode;if(e==this.dom)break;0==n&&e.firstChild!=e.lastChild&&(n=t==e.firstChild?-1:1),t=e}i=n<0?t:t.nextSibling}if(i==this.dom.firstChild)return 0;while(i&&!W.get(i))i=i.nextSibling;if(!i)return this.length;for(let n=0,s=0;;n++){let t=this.children[n];if(t.dom==i)return s;s+=t.length+t.breakAfter}}domBoundsAround(t,e,i=0){let n=-1,s=-1,r=-1,o=-1;for(let l=0,a=i,h=i;l<this.children.length;l++){let i=this.children[l],c=a+i.length;if(a<t&&c>e)return i.domBoundsAround(t,e,a);if(c>=t&&-1==n&&(n=l,s=a),a>e&&i.dom.parentNode==this.dom){r=l,o=h;break}h=c,a=c+i.breakAfter}return{from:s,to:o<0?i+this.length:o,startDOM:(n?this.children[n-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:r<this.children.length&&r>=0?this.children[r].dom:null}}markDirty(t=!1){this.dirty|=2,this.markParentsDirty(t)}markParentsDirty(t){for(let e=this.parent;e;e=e.parent){if(t&&(e.dirty|=2),1&e.dirty)return;e.dirty|=1,t=!1}}setParent(t){this.parent!=t&&(this.parent=t,this.dirty&&this.markParentsDirty(!0))}setDOM(t){this.dom&&(this.dom.cmView=null),this.dom=t,t.cmView=this}get rootView(){for(let t=this;;){let e=t.parent;if(!e)return t;t=e}}replaceChildren(t,e,i=H){this.markDirty();for(let n=t;n<e;n++){let t=this.children[n];t.parent==this&&t.destroy()}this.children.splice(t,e-t,...i);for(let n=0;n<i.length;n++)i[n].setParent(this)}ignoreMutation(t){return!1}ignoreEvent(t){return!1}childCursor(t=this.length){return new j(this.children,t,this.children.length)}childPos(t,e=1){return this.childCursor().findPos(t,e)}toString(){let t=this.constructor.name.replace("View","");return t+(this.children.length?"("+this.children.join()+")":this.length?"["+("Text"==t?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(t){return t.cmView}get isEditable(){return!0}merge(t,e,i,n,s,r){return!1}become(t){return!1}getSide(){return 0}destroy(){this.parent=null}}function q(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}W.prototype.breakAfter=0;class j{constructor(t,e,i){this.children=t,this.pos=e,this.i=i,this.off=0}findPos(t,e=1){for(;;){if(t>this.pos||t==this.pos&&(e>0||0==this.i||this.children[this.i-1].breakAfter))return this.off=t-this.pos,this;let i=this.children[--this.i];this.pos-=i.length+i.breakAfter}}}function F(t,e,i,n,s,r,o,l,a){let{children:h}=t,c=h.length?h[e]:null,u=r.length?r[r.length-1]:null,d=u?u.breakAfter:o;if(!(e==n&&c&&!o&&!d&&r.length<2&&c.merge(i,s,r.length?u:null,0==i,l,a))){if(n<h.length){let t=h[n];t&&s<t.length?(e==n&&(t=t.split(s),s=0),!d&&u&&t.merge(0,s,u,!0,0,a)?r[r.length-1]=t:(s&&t.merge(0,s,null,!1,0,a),r.push(t))):(null===t||void 0===t?void 0:t.breakAfter)&&(u?u.breakAfter=1:o=1),n++}c&&(c.breakAfter=o,i>0&&(!o&&r.length&&c.merge(i,c.length,r[0],!1,l,0)?c.breakAfter=r.shift().breakAfter:(i<c.length||c.children.length&&0==c.children[c.children.length-1].length)&&c.merge(i,c.length,null,!1,l,0),e++));while(e<n&&r.length)if(h[n-1].become(r[r.length-1]))n--,r.pop(),a=r.length?0:l;else{if(!h[e].become(r[0]))break;e++,r.shift(),l=r.length?0:a}!r.length&&e&&n<h.length&&!h[e-1].breakAfter&&h[n].merge(0,0,h[e-1],!1,l,a)&&e--,(e<n||r.length)&&t.replaceChildren(e,n,r)}}function Q(t,e,i,n,s,r){let o=t.childCursor(),{i:l,off:a}=o.findPos(i,1),{i:h,off:c}=o.findPos(e,-1),u=e-i;for(let d of n)u+=d.length;t.length+=u,F(t,h,c,l,a,n,0,s,r)}let U="undefined"!=typeof navigator?navigator:{userAgent:"",vendor:"",platform:""},K="undefined"!=typeof document?document:{documentElement:{style:{}}};const $=/Edge\/(\d+)/.exec(U.userAgent),G=/MSIE \d/.test(U.userAgent),X=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(U.userAgent),J=!!(G||X||$),Y=!J&&/gecko\/(\d+)/i.test(U.userAgent),Z=!J&&/Chrome\/(\d+)/.exec(U.userAgent),tt="webkitFontSmoothing"in K.documentElement.style,et=!J&&/Apple Computer/.test(U.vendor),it=et&&(/Mobile\/\w+/.test(U.userAgent)||U.maxTouchPoints>2);var nt={mac:it||/Mac/.test(U.platform),windows:/Win/.test(U.platform),linux:/Linux|X11/.test(U.platform),ie:J,ie_version:G?K.documentMode||6:X?+X[1]:$?+$[1]:0,gecko:Y,gecko_version:Y?+(/Firefox\/(\d+)/.exec(U.userAgent)||[0,0])[1]:0,chrome:!!Z,chrome_version:Z?+Z[1]:0,ios:it,android:/Android\b/.test(U.userAgent),webkit:tt,safari:et,webkit_version:tt?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:null!=K.documentElement.style.tabSize?"tab-size":"-moz-tab-size"};const st=256;class rt extends W{constructor(t){super(),this.text=t}get length(){return this.text.length}createDOM(t){this.setDOM(t||document.createTextNode(this.text))}sync(t){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(t&&t.node==this.dom&&(t.written=!0),this.dom.nodeValue=this.text)}reuseDOM(t){3==t.nodeType&&this.createDOM(t)}merge(t,e,i){return(!i||i instanceof rt&&!(this.length-(e-t)+i.length>st))&&(this.text=this.text.slice(0,t)+(i?i.text:"")+this.text.slice(e),this.markDirty(),!0)}split(t){let e=new rt(this.text.slice(t));return this.text=this.text.slice(0,t),this.markDirty(),e}localPosFromDOM(t,e){return t==this.dom?e:e?this.text.length:0}domAtPos(t){return new z(this.dom,t)}domBoundsAround(t,e,i){return{from:i,to:i+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(t,e){return lt(this.dom,t,e)}}class ot extends W{constructor(t,e=[],i=0){super(),this.mark=t,this.children=e,this.length=i;for(let n of e)n.setParent(this)}setAttrs(t){if(V(t),this.mark.class&&(t.className=this.mark.class),this.mark.attrs)for(let e in this.mark.attrs)t.setAttribute(e,this.mark.attrs[e]);return t}reuseDOM(t){t.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(t),this.dirty|=6)}sync(t){this.dom?4&this.dirty&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(t)}merge(t,e,i,n,s,r){return(!i||!(!(i instanceof ot&&i.mark.eq(this.mark))||t&&s<=0||e<this.length&&r<=0))&&(Q(this,t,e,i?i.children:[],s-1,r-1),this.markDirty(),!0)}split(t){let e=[],i=0,n=-1,s=0;for(let o of this.children){let r=i+o.length;r>t&&e.push(i<t?o.split(t-i):o),n<0&&i>=t&&(n=s),i=r,s++}let r=this.length-t;return this.length=t,n>-1&&(this.children.length=n,this.markDirty()),new ot(this.mark,e,r)}domAtPos(t){return pt(this.dom,this.children,t)}coordsAt(t,e){return mt(this,t,e)}}function lt(t,e,i){let n=t.nodeValue.length;e>n&&(e=n);let s=e,r=e,o=0;0==e&&i<0||e==n&&i>=0?nt.chrome||nt.gecko||(e?(s--,o=1):(r++,o=-1)):i<0?s--:r++;let l=N(t,s,r).getClientRects();if(!l.length)return M;let a=l[(o?o<0:i>=0)?0:l.length-1];return nt.safari&&!o&&0==a.width&&(a=Array.prototype.find.call(l,t=>t.width)||a),o?T(a,o<0):a||null}class at extends W{constructor(t,e,i){super(),this.widget=t,this.length=e,this.side=i,this.prevWidget=null}static create(t,e,i){return new(t.customView||at)(t,e,i)}split(t){let e=at.create(this.widget,this.length-t,this.side);return this.length-=t,e}sync(){this.dom&&this.widget.updateDOM(this.dom)||(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(this.editorView)),this.dom.contentEditable="false")}getSide(){return this.side}merge(t,e,i,n,s,r){return!(i&&(!(i instanceof at&&this.widget.compare(i.widget))||t>0&&s<=0||e<this.length&&r<=0))&&(this.length=t+(i?i.length:0)+(this.length-e),!0)}become(t){return t.length==this.length&&t instanceof at&&t.side==this.side&&this.widget.constructor==t.widget.constructor&&(this.widget.eq(t.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=t.widget,!0)}ignoreMutation(){return!0}ignoreEvent(t){return this.widget.ignoreEvent(t)}get overrideDOMText(){if(0==this.length)return s["a"].empty;let t=this;while(t.parent)t=t.parent;let e=t.editorView,i=e&&e.state.doc,n=this.posAtStart;return i?i.slice(n,n+this.length):s["a"].empty}domAtPos(t){return 0==t?z.before(this.dom):z.after(this.dom,t==this.length)}domBoundsAround(){return null}coordsAt(t,e){let i=this.dom.getClientRects(),n=null;if(!i.length)return M;for(let s=t>0?i.length-1:0;;s+=t>0?-1:1)if(n=i[s],t>0?0==s:s==i.length-1||n.top<n.bottom)break;return 0==t&&e>0||t==this.length&&e<=0?n:T(n,0==t)}get isEditable(){return!1}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class ht extends at{domAtPos(t){let{topView:e,text:i}=this.widget;return e?ct(t,0,e,i,(t,e)=>t.domAtPos(e),t=>new z(i,Math.min(t,i.nodeValue.length))):new z(i,Math.min(t,i.nodeValue.length))}sync(){this.setDOM(this.widget.toDOM())}localPosFromDOM(t,e){let{topView:i,text:n}=this.widget;return i?ut(t,e,i,n):Math.min(e,this.length)}ignoreMutation(){return!1}get overrideDOMText(){return null}coordsAt(t,e){let{topView:i,text:n}=this.widget;return i?ct(t,e,i,n,(t,e,i)=>t.coordsAt(e,i),(t,e)=>lt(n,t,e)):lt(n,t,e)}destroy(){var t;super.destroy(),null===(t=this.widget.topView)||void 0===t||t.destroy()}get isEditable(){return!0}}function ct(t,e,i,n,s,r){if(i instanceof ot){for(let o of i.children){let i=b(o.dom,n),l=i?n.nodeValue.length:o.length;if(t<l||t==l&&o.getSide()<=0)return i?ct(t,e,o,n,s,r):s(o,t,e);t-=l}return s(i,i.length,-1)}return i.dom==n?r(t,e):s(i,t,e)}function ut(t,e,i,n){if(i instanceof ot)for(let s of i.children){let i=0,r=b(s.dom,n);if(b(s.dom,t))return i+(r?ut(t,e,s,n):s.localPosFromDOM(t,e));i+=r?n.nodeValue.length:s.length}else if(i.dom==n)return Math.min(e,n.nodeValue.length);return i.localPosFromDOM(t,e)}class dt extends W{constructor(t){super(),this.side=t}get length(){return 0}merge(){return!1}become(t){return t instanceof dt&&t.side==this.side}split(){return new dt(this.side)}sync(){if(!this.dom){let t=document.createElement("img");t.className="cm-widgetBuffer",this.setDOM(t)}}getSide(){return this.side}domAtPos(t){return z.before(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(t){let e=this.dom.getBoundingClientRect(),i=ft(this,this.side>0?-1:1);return i&&i.top<e.bottom&&i.bottom>e.top?{left:e.left,right:e.right,top:i.top,bottom:i.bottom}:e}get overrideDOMText(){return s["a"].empty}}function ft(t,e){let i=t.parent,n=i?i.children.indexOf(t):-1;while(i&&n>=0)if(e<0?n>0:n<i.children.length){let t=i.children[n+e];if(t instanceof rt){let i=t.coordsAt(e<0?t.length:0,e);if(i)return i}n+=e}else{if(!(i instanceof ot&&i.parent)){let t=i.dom.lastChild;if(t&&"BR"==t.nodeName)return t.getClientRects()[0];break}n=i.parent.children.indexOf(i)+(e<0?0:1),i=i.parent}}function pt(t,e,i){let n=0;for(let s=0;n<e.length;n++){let r=e[n],o=s+r.length;if(!(o==s&&r.getSide()<=0)){if(i>s&&i<o&&r.dom.parentNode==t)return r.domAtPos(i-s);if(i<=s)break;s=o}}for(;n>0;n--){let i=e[n-1].dom;if(i.parentNode==t)return z.after(i)}return new z(t,0)}function gt(t,e,i){let n,{children:s}=t;i>0&&e instanceof ot&&s.length&&(n=s[s.length-1])instanceof ot&&n.mark.eq(e.mark)?gt(n,e.children[0],i-1):(s.push(e),e.setParent(t)),t.length+=e.length}function mt(t,e,i){for(let r=0,o=0;o<t.children.length;o++){let n,s=t.children[o],l=r+s.length;if((i<=0||l==t.length||s.getSide()>0?l>=e:l>e)&&(e<l||o+1==t.children.length||(n=t.children[o+1]).length||n.getSide()>0)){let t=0;if(l==r){if(s.getSide()<=0)continue;t=i=-s.getSide()}let n=s.coordsAt(Math.max(0,e-r),i);return t&&n?T(n,i<0):n}r=l}let n=t.dom.lastChild;if(!n)return t.dom.getBoundingClientRect();let s=k(n);return s[s.length-1]||null}function vt(t,e){for(let i in t)"class"==i&&e.class?e.class+=" "+t.class:"style"==i&&e.style?e.style+=";"+t.style:e[i]=t[i];return e}function wt(t,e){if(t==e)return!0;if(!t||!e)return!1;let i=Object.keys(t),n=Object.keys(e);if(i.length!=n.length)return!1;for(let s of i)if(-1==n.indexOf(s)||t[s]!==e[s])return!1;return!0}function bt(t,e,i){if(e)for(let n in e)i&&n in i||t.removeAttribute(n);if(i)for(let n in i)e&&e[n]==i[n]||t.setAttribute(n,i[n])}rt.prototype.children=at.prototype.children=dt.prototype.children=H;class yt{eq(t){return!1}updateDOM(t){return!1}compare(t){return this==t||this.constructor==t.constructor&&this.eq(t)}get estimatedHeight(){return-1}ignoreEvent(t){return!0}get customView(){return null}destroy(t){}}var xt=function(t){return t[t["Text"]=0]="Text",t[t["WidgetBefore"]=1]="WidgetBefore",t[t["WidgetAfter"]=2]="WidgetAfter",t[t["WidgetRange"]=3]="WidgetRange",t}(xt||(xt={}));class kt extends o["c"]{constructor(t,e,i,n){super(),this.startSide=t,this.endSide=e,this.widget=i,this.spec=n}get heightRelevant(){return!1}static mark(t){return new St(t)}static widget(t){let e=t.side||0,i=!!t.block;return e+=i?e>0?4e8:-5e8:e>0?1e8:-1e8,new Ct(t,e,e,i,t.widget||null,!1)}static replace(t){let e,i,n=!!t.block;if(t.isBlockGap)e=-4e8,i=3e8;else{let{start:s,end:r}=At(t,n);e=(s?n?-3e8:-1:5e8)-1,i=1+(r?n?2e8:1:-6e8)}return new Ct(t,e,i,n,t.widget||null,!0)}static line(t){return new Ot(t)}static set(t,e=!1){return o["a"].of(t,e)}hasHeight(){return!!this.widget&&this.widget.estimatedHeight>-1}}kt.none=o["a"].empty;class St extends kt{constructor(t){let{start:e,end:i}=At(t);super(e?-1:5e8,i?1:-6e8,null,t),this.tagName=t.tagName||"span",this.class=t.class||"",this.attrs=t.attributes||null}eq(t){return this==t||t instanceof St&&this.tagName==t.tagName&&this.class==t.class&&wt(this.attrs,t.attrs)}range(t,e=t){if(t>=e)throw new RangeError("Mark decorations may not be empty");return super.range(t,e)}}St.prototype.point=!1;class Ot extends kt{constructor(t){super(-2e8,-2e8,null,t)}eq(t){return t instanceof Ot&&wt(this.spec.attributes,t.spec.attributes)}range(t,e=t){if(e!=t)throw new RangeError("Line decoration ranges must be zero-length");return super.range(t,e)}}Ot.prototype.mapMode=n["h"].TrackBefore,Ot.prototype.point=!0;class Ct extends kt{constructor(t,e,i,s,r,o){super(e,i,r,t),this.block=s,this.isReplace=o,this.mapMode=s?e<=0?n["h"].TrackBefore:n["h"].TrackAfter:n["h"].TrackDel}get type(){return this.startSide<this.endSide?xt.WidgetRange:this.startSide<=0?xt.WidgetBefore:xt.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&this.widget.estimatedHeight>=5}eq(t){return t instanceof Ct&&Mt(this.widget,t.widget)&&this.block==t.block&&this.startSide==t.startSide&&this.endSide==t.endSide}range(t,e=t){if(this.isReplace&&(t>e||t==e&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&e!=t)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(t,e)}}function At(t,e=!1){let{inclusiveStart:i,inclusiveEnd:n}=t;return null==i&&(i=t.inclusive),null==n&&(n=t.inclusive),{start:null!==i&&void 0!==i?i:e,end:null!==n&&void 0!==n?n:e}}function Mt(t,e){return t==e||!!(t&&e&&t.compare(e))}function Tt(t,e,i,n=0){let s=i.length-1;s>=0&&i[s]+n>=t?i[s]=Math.max(i[s],e):i.push(t,e)}Ct.prototype.point=!0;class Dt extends W{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(t,e,i,n,s,r){if(i){if(!(i instanceof Dt))return!1;this.dom||i.transferDOM(this)}return n&&this.setDeco(i?i.attrs:null),Q(this,t,e,i?i.children:[],s,r),!0}split(t){let e=new Dt;if(e.breakAfter=this.breakAfter,0==this.length)return e;let{i:i,off:n}=this.childPos(t);n&&(e.append(this.children[i].split(n),0),this.children[i].merge(n,this.children[i].length,null,!1,0,0),i++);for(let s=i;s<this.children.length;s++)e.append(this.children[s],0);while(i>0&&0==this.children[i-1].length)this.children[--i].destroy();return this.children.length=i,this.markDirty(),this.length=t,e}transferDOM(t){this.dom&&(t.setDOM(this.dom),t.prevAttrs=void 0===this.prevAttrs?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(t){wt(this.attrs,t)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=t)}append(t,e){gt(this,t,e)}addLineDeco(t){let e=t.spec.attributes,i=t.spec.class;e&&(this.attrs=vt(e,this.attrs||{})),i&&(this.attrs=vt({class:i},this.attrs||{}))}domAtPos(t){return pt(this.dom,this.children,t)}reuseDOM(t){"DIV"==t.nodeName&&(this.setDOM(t),this.dirty|=6)}sync(t){var e;this.dom?4&this.dirty&&(V(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),void 0!==this.prevAttrs&&(bt(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(t);let i=this.dom.lastChild;while(i&&W.get(i)instanceof ot)i=i.lastChild;if(!i||"BR"!=i.nodeName&&0==(null===(e=W.get(i))||void 0===e?void 0:e.isEditable)&&(!nt.ios||!this.children.some(t=>t instanceof rt))){let t=document.createElement("BR");t.cmIgnore=!0,this.dom.appendChild(t)}}measureTextSize(){if(0==this.children.length||this.length>20)return null;let t=0;for(let e of this.children){if(!(e instanceof rt))return null;let i=k(e.dom);if(1!=i.length)return null;t+=i[0].width}return{lineHeight:this.dom.getBoundingClientRect().height,charWidth:t/this.length}}coordsAt(t,e){return mt(this,t,e)}become(t){return!1}get type(){return xt.Text}static find(t,e){for(let i=0,n=0;i<t.children.length;i++){let s=t.children[i],r=n+s.length;if(r>=e){if(s instanceof Dt)return s;if(r>e)break}n=r+s.breakAfter}return null}}class Pt extends W{constructor(t,e,i){super(),this.widget=t,this.length=e,this.type=i,this.breakAfter=0,this.prevWidget=null}merge(t,e,i,n,s,r){return!(i&&(!(i instanceof Pt&&this.widget.compare(i.widget))||t>0&&s<=0||e<this.length&&r<=0))&&(this.length=t+(i?i.length:0)+(this.length-e),!0)}domAtPos(t){return 0==t?z.before(this.dom):z.after(this.dom,t==this.length)}split(t){let e=this.length-t;this.length=t;let i=new Pt(this.widget,e,this.type);return i.breakAfter=this.breakAfter,i}get children(){return H}sync(){this.dom&&this.widget.updateDOM(this.dom)||(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(this.editorView)),this.dom.contentEditable="false")}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):s["a"].empty}domBoundsAround(){return null}become(t){return t instanceof Pt&&t.type==this.type&&t.widget.constructor==this.widget.constructor&&(t.widget.eq(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=t.widget,this.length=t.length,this.breakAfter=t.breakAfter,!0)}ignoreMutation(){return!0}ignoreEvent(t){return this.widget.ignoreEvent(t)}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class _t{constructor(t,e,i,n){this.doc=t,this.pos=e,this.end=i,this.disallowBlockEffectsBelow=n,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=t.iter(),this.skip=e}posCovered(){if(0==this.content.length)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let t=this.content[this.content.length-1];return!t.breakAfter&&!(t instanceof Pt&&t.type==xt.WidgetBefore)}getLine(){return this.curLine||(this.content.push(this.curLine=new Dt),this.atCursorPos=!0),this.curLine}flushBuffer(t){this.pendingBuffer&&(this.curLine.append(Et(new dt(-1),t),t.length),this.pendingBuffer=0)}addBlockWidget(t){this.flushBuffer([]),this.curLine=null,this.content.push(t)}finish(t){t?this.pendingBuffer=0:this.flushBuffer([]),this.posCovered()||this.getLine()}buildText(t,e,i){while(t>0){if(this.textOff==this.text.length){let{value:e,lineBreak:i,done:n}=this.cursor.next(this.skip);if(this.skip=0,n)throw new Error("Ran out of text content when drawing inline views");if(i){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer([]),this.curLine=null,t--;continue}this.text=e,this.textOff=0}let n=Math.min(this.text.length-this.textOff,t,512);this.flushBuffer(e.slice(0,i)),this.getLine().append(Et(new rt(this.text.slice(this.textOff,this.textOff+n)),e),i),this.atCursorPos=!0,this.textOff+=n,t-=n,i=0}}span(t,e,i,n){this.buildText(e-t,i,n),this.pos=e,this.openStart<0&&(this.openStart=n)}point(t,e,i,n,s){let r=e-t;if(i instanceof Ct)if(i.block){let{type:t}=i;t!=xt.WidgetAfter||this.posCovered()||this.getLine(),this.addBlockWidget(new Pt(i.widget||new Rt("div"),r,t))}else{let o=at.create(i.widget||new Rt("span"),r,i.startSide),l=this.atCursorPos&&!o.isEditable&&s<=n.length&&(t<e||i.startSide>0),a=!o.isEditable&&(t<e||i.startSide<=0),h=this.getLine();2!=this.pendingBuffer||l||(this.pendingBuffer=0),this.flushBuffer(n),l&&(h.append(Et(new dt(1),n),s),s=n.length+Math.max(0,s-n.length)),h.append(Et(o,n),s),this.atCursorPos=a,this.pendingBuffer=a?t<e?1:2:0}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(i);r&&(this.textOff+r<=this.text.length?this.textOff+=r:(this.skip+=r-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=e),this.openStart<0&&(this.openStart=s)}filterPoint(t,e,i,n){if(n<this.disallowBlockEffectsBelow&&i instanceof Ct){if(i.block)throw new RangeError("Block decorations may not be specified via plugins");if(e>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}return!0}static build(t,e,i,n,s){let r=new _t(t,e,i,s);return r.openEnd=o["a"].spans(n,e,i,r),r.openStart<0&&(r.openStart=r.openEnd),r.finish(r.openEnd),r}}function Et(t,e){for(let i of e)t=new ot(i,[t],t.length);return t}class Rt extends yt{constructor(t){super(),this.tag=t}eq(t){return t.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(t){return t.nodeName.toLowerCase()==this.tag}}const Bt=[],Nt=n["g"].define(),Lt=n["g"].define(),It=n["g"].define(),Vt=n["g"].define(),zt=n["g"].define(),Ht=n["g"].define(),Wt=n["j"].define({map:(t,e)=>t.map(e)}),qt=n["j"].define({map:(t,e)=>t.map(e)});class jt{constructor(t,e="nearest",i="nearest",n=5,s=5){this.range=t,this.y=e,this.x=i,this.yMargin=n,this.xMargin=s}map(t){return t.empty?this:new jt(this.range.map(t),this.y,this.x,this.yMargin,this.xMargin)}}const Ft=n["j"].define({map:(t,e)=>t.map(e)});function Qt(t,e,i){let n=t.facet(Vt);n.length?n[0](e):window.onerror?window.onerror(String(e),i,void 0,void 0,e):i?console.error(i+":",e):console.error(e)}const Ut=n["g"].define({combine:t=>!t.length||t[0]});class Kt{constructor(t,e){this.field=t,this.get=e}}class $t{from(t){return new Kt(this,t)}static define(){return new $t}}$t.decorations=$t.define(),$t.atomicRanges=$t.define(),$t.scrollMargins=$t.define();let Gt=0;const Xt=n["g"].define();class Jt{constructor(t,e,i){this.id=t,this.create=e,this.fields=i,this.extension=Xt.of(this)}static define(t,e){let{eventHandlers:i,provide:n,decorations:s}=e||{},r=[];if(n)for(let o of Array.isArray(n)?n:[n])r.push(o);return i&&r.push(Yt.from(t=>({plugin:t,handlers:i}))),s&&r.push($t.decorations.from(s)),new Jt(Gt++,t,r)}static fromClass(t,e){return Jt.define(e=>new t(e),e)}}const Yt=$t.define();class Zt{constructor(t){this.spec=t,this.mustUpdate=null,this.value=null}takeField(t,e){if(this.spec)for(let{field:i,get:n}of this.spec.fields)i==t&&e.push(n(this.value))}update(t){if(this.value){if(this.mustUpdate){let t=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(t)}catch(e){if(Qt(t.state,e,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch(i){}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(t)}catch(e){Qt(t.state,e,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(t){var e;if(null===(e=this.value)||void 0===e?void 0:e.destroy)try{this.value.destroy()}catch(i){Qt(t.state,i,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const te=n["g"].define(),ee=n["g"].define(),ie=n["g"].define(),ne=n["g"].define();class se{constructor(t,e,i,n){this.fromA=t,this.toA=e,this.fromB=i,this.toB=n}join(t){return new se(Math.min(this.fromA,t.fromA),Math.max(this.toA,t.toA),Math.min(this.fromB,t.fromB),Math.max(this.toB,t.toB))}addToSet(t){let e=t.length,i=this;for(;e>0;e--){let n=t[e-1];if(!(n.fromA>i.toA)){if(n.toA<i.fromA)break;i=i.join(n),t.splice(e-1,1)}}return t.splice(e,0,i),t}static extendWithRanges(t,e){if(0==e.length)return t;let i=[];for(let n=0,s=0,r=0,o=0;;n++){let l=n==t.length?null:t[n],a=r-o,h=l?l.fromB:1e9;while(s<e.length&&e[s]<h){let t=e[s],n=e[s+1],r=Math.max(o,t),l=Math.min(h,n);if(r<=l&&new se(r+a,l+a,r,l).addToSet(i),n>h)break;s+=2}if(!l)return i;new se(l.fromA,l.toA,l.fromB,l.toB).addToSet(i),r=l.toA,o=l.toB}}}class re{constructor(t,e,i=Bt){this.view=t,this.state=e,this.transactions=i,this.flags=0,this.startState=t.state,this.changes=n["c"].empty(this.startState.doc.length);for(let n of i)this.changes=this.changes.compose(n.changes);let s=[];this.changes.iterChangedRanges((t,e,i,n)=>s.push(new se(t,e,i,n))),this.changedRanges=s;let r=t.hasFocus;r!=t.inputState.notifiedFocused&&(t.inputState.notifiedFocused=r,this.flags|=1)}get viewportChanged(){return(4&this.flags)>0}get heightChanged(){return(2&this.flags)>0}get geometryChanged(){return this.docChanged||(10&this.flags)>0}get focusChanged(){return(1&this.flags)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(t=>t.selection)}get empty(){return 0==this.flags&&0==this.transactions.length}}var oe=function(t){return t[t["LTR"]=0]="LTR",t[t["RTL"]=1]="RTL",t}(oe||(oe={}));const le=oe.LTR,ae=oe.RTL;function he(t){let e=[];for(let i=0;i<t.length;i++)e.push(1<<+t[i]);return e}const ce=he("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),ue=he("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),de=Object.create(null),fe=[];for(let cs of["()","[]","{}"]){let t=cs.charCodeAt(0),e=cs.charCodeAt(1);de[t]=e,de[e]=-t}function pe(t){return t<=247?ce[t]:1424<=t&&t<=1524?2:1536<=t&&t<=1785?ue[t-1536]:1774<=t&&t<=2220?4:8192<=t&&t<=8203||8204==t?256:1}const ge=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;class me{constructor(t,e,i){this.from=t,this.to=e,this.level=i}get dir(){return this.level%2?ae:le}side(t,e){return this.dir==e==t?this.to:this.from}static find(t,e,i,n){let s=-1;for(let r=0;r<t.length;r++){let o=t[r];if(o.from<=e&&o.to>=e){if(o.level==i)return r;(s<0||(0!=n?n<0?o.from<e:o.to>e:t[s].level>o.level))&&(s=r)}}if(s<0)throw new RangeError("Index out of range");return s}}const ve=[];function we(t,e){let i=t.length,n=e==le?1:2,s=e==le?2:1;if(!t||1==n&&!ge.test(t))return be(i);for(let o=0,l=n,a=n;o<i;o++){let e=pe(t.charCodeAt(o));512==e?e=l:8==e&&4==a&&(e=16),ve[o]=4==e?2:e,7&e&&(a=e),l=e}for(let o=0,l=n,a=n;o<i;o++){let t=ve[o];if(128==t)o<i-1&&l==ve[o+1]&&24&l?t=ve[o]=l:ve[o]=256;else if(64==t){let t=o+1;while(t<i&&64==ve[t])t++;let e=o&&8==l||t<i&&8==ve[t]?1==a?1:8:256;for(let i=o;i<t;i++)ve[i]=e;o=t-1}else 8==t&&1==a&&(ve[o]=1);l=t,7&t&&(a=t)}for(let o,l,a,h=0,c=0,u=0;h<i;h++)if(l=de[o=t.charCodeAt(h)])if(l<0){for(let t=c-3;t>=0;t-=3)if(fe[t+1]==-l){let e=fe[t+2],i=2&e?n:4&e?1&e?s:n:0;i&&(ve[h]=ve[fe[t]]=i),c=t;break}}else{if(189==fe.length)break;fe[c++]=h,fe[c++]=o,fe[c++]=u}else if(2==(a=ve[h])||1==a){let t=a==n;u=t?0:1;for(let e=c-3;e>=0;e-=3){let i=fe[e+2];if(2&i)break;if(t)fe[e+2]|=2;else{if(4&i)break;fe[e+2]|=4}}}for(let o=0;o<i;o++)if(256==ve[o]){let t=o+1;while(t<i&&256==ve[t])t++;let e=1==(o?ve[o-1]:n),s=1==(t<i?ve[t]:n),r=e==s?e?1:2:n;for(let i=o;i<t;i++)ve[i]=r;o=t-1}let r=[];if(1==n)for(let o=0;o<i;){let t=o,e=1!=ve[o++];while(o<i&&e==(1!=ve[o]))o++;if(e)for(let i=o;i>t;){let e=i,n=2!=ve[--i];while(i>t&&n==(2!=ve[i-1]))i--;r.push(new me(i,e,n?2:1))}else r.push(new me(t,o,0))}else for(let o=0;o<i;){let t=o,e=2==ve[o++];while(o<i&&e==(2==ve[o]))o++;r.push(new me(t,o,e?1:2))}return r}function be(t){return[new me(0,t,0)]}let ye="";function xe(t,e,i,r,o){var l;let a=r.head-t.from,h=-1;if(0==a){if(!o||!t.length)return null;e[0].level!=i&&(a=e[0].side(!1,i),h=0)}else if(a==t.length){if(o)return null;let t=e[e.length-1];t.level!=i&&(a=t.side(!0,i),h=e.length-1)}h<0&&(h=me.find(e,a,null!==(l=r.bidiLevel)&&void 0!==l?l:-1,r.assoc));let c=e[h];a==c.side(o,i)&&(c=e[h+=o?1:-1],a=c.side(!o,i));let u=o==(c.dir==i),d=Object(s["e"])(t.text,a,u);if(ye=t.text.slice(Math.min(a,d),Math.max(a,d)),d!=c.side(o,i))return n["e"].cursor(d+t.from,u?-1:1,c.level);let f=h==(o?e.length-1:0)?null:e[h+(o?1:-1)];return f||c.level==i?f&&f.level<c.level?n["e"].cursor(f.side(!o,i)+t.from,o?1:-1,f.level):n["e"].cursor(d+t.from,o?-1:1,c.level):n["e"].cursor(o?t.to:t.from,o?-1:1,i)}const ke="￿";class Se{constructor(t,e){this.points=t,this.text="",this.lineSeparator=e.facet(n["f"].lineSeparator)}append(t){this.text+=t}lineBreak(){this.text+=ke}readRange(t,e){if(!t)return this;let i=t.parentNode;for(let n=t;;){this.findPointBefore(i,n),this.readNode(n);let t=n.nextSibling;if(t==e)break;let s=W.get(n),r=W.get(t);(s&&r?s.breakAfter:(s?s.breakAfter:Oe(n))||Oe(t)&&("BR"!=n.nodeName||n.cmIgnore))&&this.lineBreak(),n=t}return this.findPointBefore(i,e),this}readTextNode(t){let e=t.nodeValue;for(let i of this.points)i.node==t&&(i.pos=this.text.length+Math.min(i.offset,e.length));for(let i=0,n=this.lineSeparator?null:/\r\n?|\n/g;;){let s,r=-1,o=1;if(this.lineSeparator?(r=e.indexOf(this.lineSeparator,i),o=this.lineSeparator.length):(s=n.exec(e))&&(r=s.index,o=s[0].length),this.append(e.slice(i,r<0?e.length:r)),r<0)break;if(this.lineBreak(),o>1)for(let e of this.points)e.node==t&&e.pos>this.text.length&&(e.pos-=o-1);i=r+o}}readNode(t){if(t.cmIgnore)return;let e=W.get(t),i=e&&e.overrideDOMText;if(null!=i){this.findPointInside(t,i.length);for(let t=i.iter();!t.next().done;)t.lineBreak?this.lineBreak():this.append(t.value)}else 3==t.nodeType?this.readTextNode(t):"BR"==t.nodeName?t.nextSibling&&this.lineBreak():1==t.nodeType&&this.readRange(t.firstChild,null)}findPointBefore(t,e){for(let i of this.points)i.node==t&&t.childNodes[i.offset]==e&&(i.pos=this.text.length)}findPointInside(t,e){for(let i of this.points)(3==t.nodeType?i.node==t:t.contains(i.node))&&(i.pos=this.text.length+Math.min(e,i.offset))}}function Oe(t){return 1==t.nodeType&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(t.nodeName)}class Ce{constructor(t,e){this.node=t,this.offset=e,this.pos=-1}}class Ae extends W{constructor(t){super(),this.view=t,this.compositionDeco=kt.none,this.decorations=[],this.pluginDecorationLength=0,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(t.contentDOM),this.children=[new Dt],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new se(0,0,0,t.state.doc.length)],0)}get root(){return this.view.root}get editorView(){return this.view}get length(){return this.view.state.doc.length}update(t){let e=t.changedRanges;this.minWidth>0&&e.length&&(e.every(({fromA:t,toA:e})=>e<this.minWidthFrom||t>this.minWidthTo)?(this.minWidthFrom=t.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=t.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.view.inputState.composing<0?this.compositionDeco=kt.none:(t.transactions.length||this.dirty)&&(this.compositionDeco=Pe(this.view,t.changes)),(nt.ie||nt.chrome)&&!this.compositionDeco.size&&t&&t.state.doc.lines!=t.startState.doc.lines&&(this.forceSelection=!0);let i=this.decorations,n=this.updateDeco(),s=Ne(i,n,t.changes);return e=se.extendWithRanges(e,s),(0!=this.dirty||0!=e.length)&&(this.updateInner(e,t.startState.doc.length),t.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(t,e){this.view.viewState.mustMeasureContent=!0,this.updateChildren(t,e);let{observer:i}=this.view;i.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight+"px",this.dom.style.minWidth=this.minWidth?this.minWidth+"px":"";let t=nt.chrome||nt.ios?{node:i.selectionRange.focusNode,written:!1}:void 0;this.sync(t),this.dirty=0,t&&(t.written||i.selectionRange.focusNode!=t.node)&&(this.forceSelection=!0),this.dom.style.height=""});let n=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let s of this.children)s instanceof Pt&&s.widget instanceof Te&&n.push(s.dom);i.updateGaps(n)}updateChildren(t,e){let i=this.childCursor(e);for(let n=t.length-1;;n--){let e=n>=0?t[n]:null;if(!e)break;let{fromA:s,toA:r,fromB:o,toB:l}=e,{content:a,breakAtStart:h,openStart:c,openEnd:u}=_t.build(this.view.state.doc,o,l,this.decorations,this.pluginDecorationLength),{i:d,off:f}=i.findPos(r,1),{i:p,off:g}=i.findPos(s,-1);F(this,p,g,d,f,a,h,c,u)}}updateSelection(t=!1,e=!1){if(t&&this.view.observer.readSelectionRange(),!e&&!this.mayControlSelection()||nt.ios&&this.view.inputState.rapidCompositionStart)return;let i=this.forceSelection;this.forceSelection=!1;let n=this.view.state.selection.main,s=this.domAtPos(n.anchor),r=n.empty?s:this.domAtPos(n.head);if(nt.gecko&&n.empty&&Me(s)){let t=document.createTextNode("");this.view.observer.ignore(()=>s.node.insertBefore(t,s.node.childNodes[s.offset]||null)),s=r=new z(t,0),i=!0}let o=this.view.observer.selectionRange;!i&&o.focusNode&&S(s.node,s.offset,o.anchorNode,o.anchorOffset)&&S(r.node,r.offset,o.focusNode,o.focusOffset)||(this.view.observer.ignore(()=>{nt.android&&nt.chrome&&this.dom.contains(o.focusNode)&&Le(o.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let t=w(this.root);if(n.empty){if(nt.gecko){let t=Re(s.node,s.offset);if(t&&3!=t){let e=Ee(s.node,s.offset,1==t?1:-1);e&&(s=new z(e,1==t?0:e.nodeValue.length))}}t.collapse(s.node,s.offset),null!=n.bidiLevel&&null!=o.cursorBidiLevel&&(o.cursorBidiLevel=n.bidiLevel)}else if(t.extend)t.collapse(s.node,s.offset),t.extend(r.node,r.offset);else{let e=document.createRange();n.anchor>n.head&&([s,r]=[r,s]),e.setEnd(r.node,r.offset),e.setStart(s.node,s.offset),t.removeAllRanges(),t.addRange(e)}}),this.view.observer.setSelectionRange(s,r)),this.impreciseAnchor=s.precise?null:new z(o.anchorNode,o.anchorOffset),this.impreciseHead=r.precise?null:new z(o.focusNode,o.focusOffset)}enforceCursorAssoc(){if(this.compositionDeco.size)return;let t=this.view.state.selection.main,e=w(this.root);if(!t.empty||!t.assoc||!e.modify)return;let i=Dt.find(this,t.head);if(!i)return;let n=i.posAtStart;if(t.head==n||t.head==n+i.length)return;let s=this.coordsAt(t.head,-1),r=this.coordsAt(t.head,1);if(!s||!r||s.bottom>r.top)return;let o=this.domAtPos(t.head+t.assoc);e.collapse(o.node,o.offset),e.modify("move",t.assoc<0?"forward":"backward","lineboundary")}mayControlSelection(){return this.view.state.facet(Ut)?this.root.activeElement==this.dom:x(this.dom,this.view.observer.selectionRange)}nearest(t){for(let e=t;e;){let t=W.get(e);if(t&&t.rootView==this)return t;e=e.parentNode}return null}posFromDOM(t,e){let i=this.nearest(t);if(!i)throw new RangeError("Trying to find position for a DOM position outside of the document");return i.localPosFromDOM(t,e)+i.posAtStart}domAtPos(t){let{i:e,off:i}=this.childCursor().findPos(t,-1);for(;e<this.children.length-1;){let t=this.children[e];if(i<t.length||t instanceof Dt)break;e++,i=0}return this.children[e].domAtPos(i)}coordsAt(t,e){for(let i=this.length,n=this.children.length-1;;n--){let s=this.children[n],r=i-s.breakAfter-s.length;if(t>r||t==r&&s.type!=xt.WidgetBefore&&s.type!=xt.WidgetAfter&&(!n||2==e||this.children[n-1].breakAfter||this.children[n-1].type==xt.WidgetBefore&&e>-2))return s.coordsAt(t-r,e);i=r}}measureVisibleLineHeights(){let t=[],{from:e,to:i}=this.view.viewState.viewport,n=this.view.contentDOM.clientWidth,s=n>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,r=-1;for(let o=0,l=0;l<this.children.length;l++){let a=this.children[l],h=o+a.length;if(h>i)break;if(o>=e){let e=a.dom.getBoundingClientRect();if(t.push(e.height),s){let t=a.dom.lastChild,i=t?k(t):[];if(i.length){let t=i[i.length-1],s=this.view.textDirection==oe.LTR?t.right-e.left:e.right-t.left;s>r&&(r=s,this.minWidth=n,this.minWidthFrom=o,this.minWidthTo=h)}}}o=h+a.breakAfter}return t}measureTextSize(){for(let n of this.children)if(n instanceof Dt){let t=n.measureTextSize();if(t)return t}let t,e,i=document.createElement("div");return i.className="cm-line",i.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(i);let n=k(i.firstChild)[0];t=i.getBoundingClientRect().height,e=n?n.width/27:7,i.remove()}),{lineHeight:t,charWidth:e}}childCursor(t=this.length){let e=this.children.length;return e&&(t-=this.children[--e].length),new j(this.children,t,e)}computeBlockGapDeco(){let t=[],e=this.view.viewState;for(let i=0,n=0;;n++){let s=n==e.viewports.length?null:e.viewports[n],r=s?s.from-1:this.length;if(r>i){let n=e.lineBlockAt(r).bottom-e.lineBlockAt(i).top;t.push(kt.replace({widget:new Te(n),block:!0,inclusive:!0,isBlockGap:!0}).range(i,r))}if(!s)break;i=s.to+1}return kt.set(t)}updateDeco(){let t=this.view.pluginField($t.decorations);return this.pluginDecorationLength=t.length,this.decorations=[...t,...this.view.state.facet(ie),this.compositionDeco,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco]}scrollIntoView(t){let e,{range:i}=t,n=this.coordsAt(i.head,i.empty?i.assoc:i.head>i.anchor?-1:1);if(!n)return;!i.empty&&(e=this.coordsAt(i.anchor,i.anchor>i.head?-1:1))&&(n={left:Math.min(n.left,e.left),top:Math.min(n.top,e.top),right:Math.max(n.right,e.right),bottom:Math.max(n.bottom,e.bottom)});let s=0,r=0,o=0,l=0;for(let h of this.view.pluginField($t.scrollMargins))if(h){let{left:t,right:e,top:i,bottom:n}=h;null!=t&&(s=Math.max(s,t)),null!=e&&(r=Math.max(r,e)),null!=i&&(o=Math.max(o,i)),null!=n&&(l=Math.max(l,n))}let a={left:n.left-s,top:n.top-o,right:n.right+r,bottom:n.bottom+l};P(this.view.scrollDOM,a,i.head<i.anchor?-1:1,t.x,t.y,t.xMargin,t.yMargin,this.view.textDirection==oe.LTR)}}function Me(t){return 1==t.node.nodeType&&t.node.firstChild&&(0==t.offset||"false"==t.node.childNodes[t.offset-1].contentEditable)&&(t.offset==t.node.childNodes.length||"false"==t.node.childNodes[t.offset].contentEditable)}class Te extends yt{constructor(t){super(),this.height=t}toDOM(){let t=document.createElement("div");return this.updateDOM(t),t}eq(t){return t.height==this.height}updateDOM(t){return t.style.height=this.height+"px",!0}get estimatedHeight(){return this.height}}function De(t){let e=t.observer.selectionRange,i=e.focusNode&&Ee(e.focusNode,e.focusOffset,0);if(!i)return null;let n=t.docView.nearest(i);if(!n)return null;if(n instanceof Dt){let t=i;while(t.parentNode!=n.dom)t=t.parentNode;let e=t.previousSibling;while(e&&!W.get(e))e=e.previousSibling;let s=e?W.get(e).posAtEnd:n.posAtStart;return{from:s,to:s,node:t,text:i}}{for(;;){let{parent:t}=n;if(!t)return null;if(t instanceof Dt)break;n=t}let t=n.posAtStart;return{from:t,to:t+n.length,node:n.dom,text:i}}}function Pe(t,e){let i=De(t);if(!i)return kt.none;let{from:n,to:s,node:r,text:o}=i,l=e.mapPos(n,1),a=Math.max(l,e.mapPos(s,-1)),{state:h}=t,c=3==r.nodeType?r.nodeValue:new Se([],h).readRange(r.firstChild,null).text;if(a-l<c.length)if(h.doc.sliceString(l,Math.min(h.doc.length,l+c.length),ke)==c)a=l+c.length;else{if(h.doc.sliceString(Math.max(0,a-c.length),a,ke)!=c)return kt.none;l=a-c.length}else if(h.doc.sliceString(l,a,ke)!=c)return kt.none;let u=W.get(r);return u instanceof ht?u=u.widget.topView:u&&(u.parent=null),kt.set(kt.replace({widget:new _e(r,o,u)}).range(l,a))}class _e extends yt{constructor(t,e,i){super(),this.top=t,this.text=e,this.topView=i}eq(t){return this.top==t.top&&this.text==t.text}toDOM(){return this.top}ignoreEvent(){return!1}get customView(){return ht}}function Ee(t,e,i){for(;;){if(3==t.nodeType)return t;if(1==t.nodeType&&e>0&&i<=0)t=t.childNodes[e-1],e=A(t);else{if(!(1==t.nodeType&&e<t.childNodes.length&&i>=0))return null;t=t.childNodes[e],e=0}}}function Re(t,e){return 1!=t.nodeType?0:(e&&"false"==t.childNodes[e-1].contentEditable?1:0)|(e<t.childNodes.length&&"false"==t.childNodes[e].contentEditable?2:0)}class Be{constructor(){this.changes=[]}compareRange(t,e){Tt(t,e,this.changes)}comparePoint(t,e){Tt(t,e,this.changes)}}function Ne(t,e,i){let n=new Be;return o["a"].compare(t,e,i,n),n.changes}function Le(t,e){for(let i=t;i&&i!=e;i=i.assignedSlot||i.parentNode)if(1==i.nodeType&&"false"==i.contentEditable)return!0;return!1}function Ie(t,e,i=1){let r=t.charCategorizer(e),o=t.doc.lineAt(e),l=e-o.from;if(0==o.length)return n["e"].cursor(e);0==l?i=1:l==o.length&&(i=-1);let a=l,h=l;i<0?a=Object(s["e"])(o.text,l,!1):h=Object(s["e"])(o.text,l);let c=r(o.text.slice(a,h));while(a>0){let t=Object(s["e"])(o.text,a,!1);if(r(o.text.slice(t,a))!=c)break;a=t}while(h<o.length){let t=Object(s["e"])(o.text,h);if(r(o.text.slice(h,t))!=c)break;h=t}return n["e"].range(a+o.from,h+o.from)}function Ve(t,e){return e.left>t?e.left-t:Math.max(0,t-e.right)}function ze(t,e){return e.top>t?e.top-t:Math.max(0,t-e.bottom)}function He(t,e){return t.top<e.bottom-1&&t.bottom>e.top+1}function We(t,e){return e<t.top?{top:e,left:t.left,right:t.right,bottom:t.bottom}:t}function qe(t,e){return e>t.bottom?{top:t.top,left:t.left,right:t.right,bottom:e}:t}function je(t,e,i){let n,s,r,o,l,a,h,c;for(let f=t.firstChild;f;f=f.nextSibling){let t=k(f);for(let u=0;u<t.length;u++){let d=t[u];s&&He(s,d)&&(d=We(qe(d,s.bottom),s.top));let p=Ve(e,d),g=ze(i,d);if(0==p&&0==g)return 3==f.nodeType?Fe(f,e,i):je(f,e,i);(!n||o>g||o==g&&r>p)&&(n=f,s=d,r=p,o=g),0==p?i>d.bottom&&(!h||h.bottom<d.bottom)?(l=f,h=d):i<d.top&&(!c||c.top>d.top)&&(a=f,c=d):h&&He(h,d)?h=qe(h,d.bottom):c&&He(c,d)&&(c=We(c,d.top))}}if(h&&h.bottom>=i?(n=l,s=h):c&&c.top<=i&&(n=a,s=c),!n)return{node:t,offset:0};let u=Math.max(s.left,Math.min(s.right,e));if(3==n.nodeType)return Fe(n,u,i);if(!r&&"true"==n.contentEditable)return je(n,u,i);let d=Array.prototype.indexOf.call(t.childNodes,n)+(e>=(s.left+s.right)/2?1:0);return{node:t,offset:d}}function Fe(t,e,i){let n=t.nodeValue.length,s=-1,r=1e9,o=0;for(let l=0;l<n;l++){let n=N(t,l,l+1).getClientRects();for(let a=0;a<n.length;a++){let h=n[a];if(h.top==h.bottom)continue;o||(o=e-h.left);let c=(h.top>i?h.top-i:i-h.bottom)-1;if(h.left-1<=e&&h.right+1>=e&&c<r){let i=e>=(h.left+h.right)/2,n=i;if(nt.chrome||nt.gecko){let e=N(t,l).getBoundingClientRect();e.left==h.right&&(n=!i)}if(c<=0)return{node:t,offset:l+(n?1:0)};s=l+(n?1:0),r=c}}}return{node:t,offset:s>-1?s:o>0?t.nodeValue.length:0}}function Qe(t,{x:e,y:i},n,s=-1){var r;let o,l=t.contentDOM.getBoundingClientRect(),a=l.top+t.viewState.paddingTop,{docHeight:h}=t.viewState,c=i-a;if(c<0)return 0;if(c>h)return t.state.doc.length;for(let v=t.defaultLineHeight/2,w=!1;;){if(o=t.elementAtHeight(c),o.type==xt.Text)break;for(;;){if(c=s>0?o.bottom+v:o.top-v,c>=0&&c<=h)break;if(w)return n?null:0;w=!0,s=-s}}i=a+c;let u=o.from;if(u<t.viewport.from)return 0==t.viewport.from?0:n?null:Ue(t,l,o,e,i);if(u>t.viewport.to)return t.viewport.to==t.state.doc.length?t.state.doc.length:n?null:Ue(t,l,o,e,i);let d=t.dom.ownerDocument,f=t.root.elementFromPoint?t.root:d,p=f.elementFromPoint(e,i);p&&!t.contentDOM.contains(p)&&(p=null),p||(e=Math.max(l.left+1,Math.min(l.right-1,e)),p=f.elementFromPoint(e,i),p&&!t.contentDOM.contains(p)&&(p=null));let g,m=-1;if(p&&0!=(null===(r=t.docView.nearest(p))||void 0===r?void 0:r.isEditable))if(d.caretPositionFromPoint){let t=d.caretPositionFromPoint(e,i);t&&({offsetNode:g,offset:m}=t)}else if(d.caretRangeFromPoint){let t=d.caretRangeFromPoint(e,i);t&&(({startContainer:g,startOffset:m}=t),nt.safari&&Ke(g,m,e)&&(g=void 0))}if(!g||!t.docView.dom.contains(g)){let n=Dt.find(t.docView,u);if(!n)return c>o.top+o.height/2?o.to:o.from;({node:g,offset:m}=je(n.dom,e,i))}return t.docView.posFromDOM(g,m)}function Ue(t,e,i,n,r){let o=Math.round((n-e.left)*t.defaultCharacterWidth);if(t.lineWrapping&&i.height>1.5*t.defaultLineHeight){let e=Math.floor((r-i.top)/t.defaultLineHeight);o+=e*t.viewState.heightOracle.lineLength}let l=t.state.sliceDoc(i.from,i.to);return i.from+Object(s["f"])(l,o,t.state.tabSize)}function Ke(t,e,i){let n;if(3!=t.nodeType||e!=(n=t.nodeValue.length))return!1;for(let s=t.nextSibling;s;s=s.nextSibling)if(1!=s.nodeType||"BR"!=s.nodeName)return!1;return N(t,n-1,n).getBoundingClientRect().left>i}function $e(t,e,i,s){let r=t.state.doc.lineAt(e.head),o=s&&t.lineWrapping?t.coordsAtPos(e.assoc<0&&e.head>r.from?e.head-1:e.head):null;if(o){let e=t.dom.getBoundingClientRect(),s=t.posAtCoords({x:i==(t.textDirection==oe.LTR)?e.right-1:e.left+1,y:(o.top+o.bottom)/2});if(null!=s)return n["e"].cursor(s,i?-1:1)}let l=Dt.find(t.docView,e.head),a=l?i?l.posAtEnd:l.posAtStart:i?r.to:r.from;return n["e"].cursor(a,i?-1:1)}function Ge(t,e,i,s){let r=t.state.doc.lineAt(e.head),o=t.bidiSpans(r);for(let l=e,a=null;;){let e=xe(r,o,t.textDirection,l,i),h=ye;if(!e){if(r.number==(i?t.state.doc.lines:1))return l;h="\n",r=t.state.doc.line(r.number+(i?1:-1)),o=t.bidiSpans(r),e=n["e"].cursor(i?r.from:r.to)}if(a){if(!a(h))return l}else{if(!s)return e;a=s(h)}l=e}}function Xe(t,e,i){let s=t.state.charCategorizer(e),r=s(i);return t=>{let e=s(t);return r==n["d"].Space&&(r=e),r==e}}function Je(t,e,i,s){let r=e.head,o=i?1:-1;if(r==(i?t.state.doc.length:0))return n["e"].cursor(r,e.assoc);let l,a=e.goalColumn,h=t.contentDOM.getBoundingClientRect(),c=t.coordsAtPos(r),u=t.documentTop;if(c)null==a&&(a=c.left-h.left),l=o<0?c.top:c.bottom;else{let e=t.viewState.lineBlockAt(r-u);null==a&&(a=Math.min(h.right-h.left,t.defaultCharacterWidth*(r-e.from))),l=(o<0?e.top:e.bottom)+u}let d=h.left+a,f=null!==s&&void 0!==s?s:t.defaultLineHeight>>1;for(let p=0;;p+=10){let i=l+(f+p)*o,s=Qe(t,{x:d,y:i},!1,o);if(i<h.top||i>h.bottom||(o<0?s<r:s>r))return n["e"].cursor(s,e.assoc,void 0,a)}}function Ye(t,e,i){let s=t.pluginField($t.atomicRanges);for(;;){let t=!1;for(let r of s)r.between(i.from-1,i.from+1,(s,r,o)=>{i.from>s&&i.from<r&&(i=e.from>i.from?n["e"].cursor(s,1):n["e"].cursor(r,-1),t=!0)});if(!t)return i}}class Ze{constructor(t){this.lastKeyCode=0,this.lastKeyTime=0,this.pendingIOSKey=void 0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastEscPress=0,this.lastContextMenu=0,this.scrollHandlers=[],this.registeredEvents=[],this.customHandlers=[],this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.rapidCompositionStart=!1,this.mouseSelection=null;for(let e in li){let i=li[e];t.contentDOM.addEventListener(e,n=>{"keydown"==e&&this.keydown(t,n)||oi(t,n)&&!this.ignoreDuringComposition(n)&&(this.mustFlushObserver(n)&&t.observer.forceFlush(),this.runCustomHandlers(e,t,n)?n.preventDefault():i(t,n))}),this.registeredEvents.push(e)}this.notifiedFocused=t.hasFocus,this.ensureHandlers(t),nt.safari&&t.contentDOM.addEventListener("input",()=>null)}setSelectionOrigin(t){this.lastSelectionOrigin=t,this.lastSelectionTime=Date.now()}ensureHandlers(t){let e=this.customHandlers=t.pluginField(Yt);for(let i of e)for(let e in i.handlers)this.registeredEvents.indexOf(e)<0&&"scroll"!=e&&(this.registeredEvents.push(e),t.contentDOM.addEventListener(e,i=>{oi(t,i)&&this.runCustomHandlers(e,t,i)&&i.preventDefault()}))}runCustomHandlers(t,e,i){for(let s of this.customHandlers){let r=s.handlers[t];if(r)try{if(r.call(s.plugin,i,e)||i.defaultPrevented)return!0}catch(n){Qt(e.state,n)}}return!1}runScrollHandlers(t,e){for(let n of this.customHandlers){let s=n.handlers.scroll;if(s)try{s.call(n.plugin,e,t)}catch(i){Qt(t.state,i)}}}keydown(t,e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),this.screenKeyEvent(t,e))return!0;if(nt.android&&nt.chrome&&!e.synthetic&&(13==e.keyCode||8==e.keyCode))return t.observer.delayAndroidKey(e.key,e.keyCode),!0;let i;return!(!nt.ios||!(i=ti.find(t=>t.keyCode==e.keyCode))||e.ctrlKey||e.altKey||e.metaKey||e.synthetic)&&(this.pendingIOSKey=i,setTimeout(()=>this.flushIOSKey(t),250),!0)}flushIOSKey(t){let e=this.pendingIOSKey;return!!e&&(this.pendingIOSKey=void 0,L(t.contentDOM,e.key,e.keyCode))}ignoreDuringComposition(t){return!!/^key/.test(t.type)&&(this.composing>0||!!(nt.safari&&Date.now()-this.compositionEndedAt<500)&&(this.compositionEndedAt=0,!0))}screenKeyEvent(t,e){let i=9==e.keyCode&&Date.now()<this.lastEscPress+2e3;return 27==e.keyCode?this.lastEscPress=Date.now():ei.indexOf(e.keyCode)<0&&(this.lastEscPress=0),i}mustFlushObserver(t){return"keydown"==t.type&&229!=t.keyCode||"compositionend"==t.type&&!nt.ios}startMouseSelection(t){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=t}update(t){this.mouseSelection&&this.mouseSelection.update(t),t.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}const ti=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],ei=[16,17,18,20,91,92,224,225];class ii{constructor(t,e,i,s){this.view=t,this.style=i,this.mustSelect=s,this.lastEvent=e;let r=t.contentDOM.ownerDocument;r.addEventListener("mousemove",this.move=this.move.bind(this)),r.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=e.shiftKey,this.multiple=t.state.facet(n["f"].allowMultipleSelections)&&ni(t,e),this.dragMove=si(t,e),this.dragging=!(!ri(t,e)||1!=xi(e))&&null,!1===this.dragging&&(e.preventDefault(),this.select(e))}move(t){if(0==t.buttons)return this.destroy();!1===this.dragging&&this.select(this.lastEvent=t)}up(t){null==this.dragging&&this.select(this.lastEvent),this.dragging||t.preventDefault(),this.destroy()}destroy(){let t=this.view.contentDOM.ownerDocument;t.removeEventListener("mousemove",this.move),t.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=null}select(t){let e=this.style.get(t,this.extend,this.multiple);!this.mustSelect&&e.eq(this.view.state.selection)&&e.main.assoc==this.view.state.selection.main.assoc||this.view.dispatch({selection:e,userEvent:"select.pointer",scrollIntoView:!0}),this.mustSelect=!1}update(t){t.docChanged&&this.dragging&&(this.dragging=this.dragging.map(t.changes)),this.style.update(t)&&setTimeout(()=>this.select(this.lastEvent),20)}}function ni(t,e){let i=t.state.facet(Nt);return i.length?i[0](e):nt.mac?e.metaKey:e.ctrlKey}function si(t,e){let i=t.state.facet(Lt);return i.length?i[0](e):nt.mac?!e.altKey:!e.ctrlKey}function ri(t,e){let{main:i}=t.state.selection;if(i.empty)return!1;let n=w(t.root);if(0==n.rangeCount)return!0;let s=n.getRangeAt(0).getClientRects();for(let r=0;r<s.length;r++){let t=s[r];if(t.left<=e.clientX&&t.right>=e.clientX&&t.top<=e.clientY&&t.bottom>=e.clientY)return!0}return!1}function oi(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let i,n=e.target;n!=t.contentDOM;n=n.parentNode)if(!n||11==n.nodeType||(i=W.get(n))&&i.ignoreEvent(e))return!1;return!0}const li=Object.create(null),ai=nt.ie&&nt.ie_version<15||nt.ios&&nt.webkit_version<604;function hi(t){let e=t.dom.parentNode;if(!e)return;let i=e.appendChild(document.createElement("textarea"));i.style.cssText="position: fixed; left: -10000px; top: 10px",i.focus(),setTimeout(()=>{t.focus(),i.remove(),ci(t,i.value)},50)}function ci(t,e){let i,{state:s}=t,r=1,o=s.toText(e),l=o.lines==s.selection.ranges.length,a=null!=Ai&&s.selection.ranges.every(t=>t.empty)&&Ai==o.toString();if(a){let t=-1;i=s.changeByRange(i=>{let a=s.doc.lineAt(i.from);if(a.from==t)return{range:i};t=a.from;let h=s.toText((l?o.line(r++).text:e)+s.lineBreak);return{changes:{from:a.from,insert:h},range:n["e"].cursor(i.from+h.length)}})}else i=l?s.changeByRange(t=>{let e=o.line(r++);return{changes:{from:t.from,to:t.to,insert:e.text},range:n["e"].cursor(t.from+e.length)}}):s.replaceSelection(o);t.dispatch(i,{userEvent:"input.paste",scrollIntoView:!0})}li.keydown=(t,e)=>{t.inputState.setSelectionOrigin("select")};let ui=0;function di(t,e,i,s){if(1==s)return n["e"].cursor(e,i);if(2==s)return Ie(t.state,e,i);{let i=Dt.find(t.docView,e),s=t.state.doc.lineAt(i?i.posAtEnd:e),r=i?i.posAtStart:s.from,o=i?i.posAtEnd:s.to;return o<t.state.doc.length&&o==s.to&&o++,n["e"].range(r,o)}}li.touchstart=(t,e)=>{ui=Date.now(),t.inputState.setSelectionOrigin("select.pointer")},li.touchmove=t=>{t.inputState.setSelectionOrigin("select.pointer")},li.mousedown=(t,e)=>{if(t.observer.flush(),ui>Date.now()-2e3&&1==xi(e))return;let i=null;for(let n of t.state.facet(It))if(i=n(t,e),i)break;if(i||0!=e.button||(i=ki(t,e)),i){let n=t.root.activeElement!=t.contentDOM;n&&t.observer.ignore(()=>B(t.contentDOM)),t.inputState.startMouseSelection(new ii(t,e,i,n))}};let fi=(t,e)=>t>=e.top&&t<=e.bottom,pi=(t,e,i)=>fi(e,i)&&t>=i.left&&t<=i.right;function gi(t,e,i,n){let s=Dt.find(t.docView,e);if(!s)return 1;let r=e-s.posAtStart;if(0==r)return 1;if(r==s.length)return-1;let o=s.coordsAt(r,-1);if(o&&pi(i,n,o))return-1;let l=s.coordsAt(r,1);return l&&pi(i,n,l)?1:o&&fi(n,o)?-1:1}function mi(t,e){let i=t.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:i,bias:gi(t,i,e.clientX,e.clientY)}}const vi=nt.ie&&nt.ie_version<=11;let wi=null,bi=0,yi=0;function xi(t){if(!vi)return t.detail;let e=wi,i=yi;return wi=t,yi=Date.now(),bi=!e||i>Date.now()-400&&Math.abs(e.clientX-t.clientX)<2&&Math.abs(e.clientY-t.clientY)<2?(bi+1)%3:1}function ki(t,e){let i=mi(t,e),s=xi(e),r=t.state.selection,o=i,l=e;return{update(t){t.docChanged&&(i&&(i.pos=t.changes.mapPos(i.pos)),r=r.map(t.changes),l=null)},get(e,a,h){let c;if(l&&e.clientX==l.clientX&&e.clientY==l.clientY?c=o:(c=o=mi(t,e),l=e),!c||!i)return r;let u=di(t,c.pos,c.bias,s);if(i.pos!=c.pos&&!a){let e=di(t,i.pos,i.bias,s),r=Math.min(e.from,u.from),o=Math.max(e.to,u.to);u=r<u.from?n["e"].range(r,o):n["e"].range(o,r)}return a?r.replaceRange(r.main.extend(u.from,u.to)):h?r.addRange(u):n["e"].create([u])}}}function Si(t,e,i,n){if(!i)return;let s=t.posAtCoords({x:e.clientX,y:e.clientY},!1);e.preventDefault();let{mouseSelection:r}=t.inputState,o=n&&r&&r.dragging&&r.dragMove?{from:r.dragging.from,to:r.dragging.to}:null,l={from:s,insert:i},a=t.state.changes(o?[o,l]:l);t.focus(),t.dispatch({changes:a,selection:{anchor:a.mapPos(s,-1),head:a.mapPos(s,1)},userEvent:o?"move.drop":"input.drop"})}function Oi(t,e){let i=t.dom.parentNode;if(!i)return;let n=i.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.value=e,n.focus(),n.selectionEnd=e.length,n.selectionStart=0,setTimeout(()=>{n.remove(),t.focus()},50)}function Ci(t){let e=[],i=[],n=!1;for(let s of t.selection.ranges)s.empty||(e.push(t.sliceDoc(s.from,s.to)),i.push(s));if(!e.length){let s=-1;for(let{from:n}of t.selection.ranges){let r=t.doc.lineAt(n);r.number>s&&(e.push(r.text),i.push({from:r.from,to:Math.min(t.doc.length,r.to+1)})),s=r.number}n=!0}return{text:e.join(t.lineBreak),ranges:i,linewise:n}}li.dragstart=(t,e)=>{let{selection:{main:i}}=t.state,{mouseSelection:n}=t.inputState;n&&(n.dragging=i),e.dataTransfer&&(e.dataTransfer.setData("Text",t.state.sliceDoc(i.from,i.to)),e.dataTransfer.effectAllowed="copyMove")},li.drop=(t,e)=>{if(!e.dataTransfer)return;if(t.state.readOnly)return e.preventDefault();let i=e.dataTransfer.files;if(i&&i.length){e.preventDefault();let n=Array(i.length),s=0,r=()=>{++s==i.length&&Si(t,e,n.filter(t=>null!=t).join(t.state.lineBreak),!1)};for(let t=0;t<i.length;t++){let e=new FileReader;e.onerror=r,e.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(e.result)||(n[t]=e.result),r()},e.readAsText(i[t])}}else Si(t,e,e.dataTransfer.getData("Text"),!0)},li.paste=(t,e)=>{if(t.state.readOnly)return e.preventDefault();t.observer.flush();let i=ai?null:e.clipboardData;i?(ci(t,i.getData("text/plain")),e.preventDefault()):hi(t)};let Ai=null;function Mi(t,e){if(t.docView.compositionDeco.size){t.inputState.rapidCompositionStart=e;try{t.update([])}finally{t.inputState.rapidCompositionStart=!1}}}li.copy=li.cut=(t,e)=>{let{text:i,ranges:n,linewise:s}=Ci(t.state);if(!i&&!s)return;Ai=s?i:null;let r=ai?null:e.clipboardData;r?(e.preventDefault(),r.clearData(),r.setData("text/plain",i)):Oi(t,i),"cut"!=e.type||t.state.readOnly||t.dispatch({changes:n,scrollIntoView:!0,userEvent:"delete.cut"})},li.focus=li.blur=t=>{setTimeout(()=>{t.hasFocus!=t.inputState.notifiedFocused&&t.update([])},10)},li.beforeprint=t=>{t.viewState.printing=!0,t.requestMeasure(),setTimeout(()=>{t.viewState.printing=!1,t.requestMeasure()},2e3)},li.compositionstart=li.compositionupdate=t=>{null==t.inputState.compositionFirstChange&&(t.inputState.compositionFirstChange=!0),t.inputState.composing<0&&(t.inputState.composing=0,t.docView.compositionDeco.size&&(t.observer.flush(),Mi(t,!0)))},li.compositionend=t=>{t.inputState.composing=-1,t.inputState.compositionEndedAt=Date.now(),t.inputState.compositionFirstChange=null,setTimeout(()=>{t.inputState.composing<0&&Mi(t,!1)},50)},li.contextmenu=t=>{t.inputState.lastContextMenu=Date.now()},li.beforeinput=(t,e)=>{var i;let n;if(nt.chrome&&nt.android&&(n=ti.find(t=>t.inputType==e.inputType))&&(t.observer.delayAndroidKey(n.key,n.keyCode),"Backspace"==n.key||"Delete"==n.key)){let e=(null===(i=window.visualViewport)||void 0===i?void 0:i.height)||0;setTimeout(()=>{var i;((null===(i=window.visualViewport)||void 0===i?void 0:i.height)||0)>e+10&&t.hasFocus&&(t.contentDOM.blur(),t.focus())},100)}};const Ti=["pre-wrap","normal","pre-line","break-spaces"];class Di{constructor(){this.doc=s["a"].empty,this.lineWrapping=!1,this.direction=oe.LTR,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.lineLength=30,this.heightChanged=!1}heightForGap(t,e){let i=this.doc.lineAt(e).number-this.doc.lineAt(t).number+1;return this.lineWrapping&&(i+=Math.ceil((e-t-i*this.lineLength*.5)/this.lineLength)),this.lineHeight*i}heightForLine(t){if(!this.lineWrapping)return this.lineHeight;let e=1+Math.max(0,Math.ceil((t-this.lineLength)/(this.lineLength-5)));return e*this.lineHeight}setDoc(t){return this.doc=t,this}mustRefreshForStyle(t,e){return Ti.indexOf(t)>-1!=this.lineWrapping||this.direction!=e}mustRefreshForHeights(t){let e=!1;for(let i=0;i<t.length;i++){let n=t[i];n<0?i++:this.heightSamples[Math.floor(10*n)]||(e=!0,this.heightSamples[Math.floor(10*n)]=!0)}return e}refresh(t,e,i,n,s,r){let o=Ti.indexOf(t)>-1,l=Math.round(i)!=Math.round(this.lineHeight)||this.lineWrapping!=o||this.direction!=e;if(this.lineWrapping=o,this.direction=e,this.lineHeight=i,this.charWidth=n,this.lineLength=s,l){this.heightSamples={};for(let t=0;t<r.length;t++){let e=r[t];e<0?t++:this.heightSamples[Math.floor(10*e)]=!0}}return l}}class Pi{constructor(t,e){this.from=t,this.heights=e,this.index=0}get more(){return this.index<this.heights.length}}class _i{constructor(t,e,i,n,s){this.from=t,this.length=e,this.top=i,this.height=n,this.type=s}get to(){return this.from+this.length}get bottom(){return this.top+this.height}join(t){let e=(Array.isArray(this.type)?this.type:[this]).concat(Array.isArray(t.type)?t.type:[t]);return new _i(this.from,this.length+t.length,this.top,this.height+t.height,e)}moveY(t){return t?new _i(this.from,this.length,this.top+t,this.height,Array.isArray(this.type)?this.type.map(e=>e.moveY(t)):this.type):this}}var Ei=function(t){return t[t["ByPos"]=0]="ByPos",t[t["ByHeight"]=1]="ByHeight",t[t["ByPosNoHeight"]=2]="ByPosNoHeight",t}(Ei||(Ei={}));const Ri=.001;class Bi{constructor(t,e,i=2){this.length=t,this.height=e,this.flags=i}get outdated(){return(2&this.flags)>0}set outdated(t){this.flags=(t?2:0)|-3&this.flags}setHeight(t,e){this.height!=e&&(Math.abs(this.height-e)>Ri&&(t.heightChanged=!0),this.height=e)}replace(t,e,i){return Bi.of(i)}decomposeLeft(t,e){e.push(this)}decomposeRight(t,e){e.push(this)}applyChanges(t,e,i,n){let s=this;for(let r=n.length-1;r>=0;r--){let{fromA:o,toA:l,fromB:a,toB:h}=n[r],c=s.lineAt(o,Ei.ByPosNoHeight,e,0,0),u=c.to>=l?c:s.lineAt(l,Ei.ByPosNoHeight,e,0,0);h+=u.to-l,l=u.to;while(r>0&&c.from<=n[r-1].toA)o=n[r-1].fromA,a=n[r-1].fromB,r--,o<c.from&&(c=s.lineAt(o,Ei.ByPosNoHeight,e,0,0));a+=c.from-o,o=c.from;let d=Wi.build(i,t,a,h);s=s.replace(o,l,d)}return s.updateHeight(i,0)}static empty(){return new Li(0,0)}static of(t){if(1==t.length)return t[0];let e=0,i=t.length,n=0,s=0;for(;;)if(e==i)if(n>2*s){let s=t[e-1];s.break?t.splice(--e,1,s.left,null,s.right):t.splice(--e,1,s.left,s.right),i+=1+s.break,n-=s.size}else{if(!(s>2*n))break;{let e=t[i];e.break?t.splice(i,1,e.left,null,e.right):t.splice(i,1,e.left,e.right),i+=2+e.break,s-=e.size}}else if(n<s){let i=t[e++];i&&(n+=i.size)}else{let e=t[--i];e&&(s+=e.size)}let r=0;return null==t[e-1]?(r=1,e--):null==t[e]&&(r=1,i++),new Vi(Bi.of(t.slice(0,e)),r,Bi.of(t.slice(i)))}}Bi.prototype.size=1;class Ni extends Bi{constructor(t,e,i){super(t,e),this.type=i}blockAt(t,e,i,n){return new _i(n,this.length,i,this.height,this.type)}lineAt(t,e,i,n,s){return this.blockAt(0,i,n,s)}forEachLine(t,e,i,n,s,r){r(this.blockAt(0,i,n,s))}updateHeight(t,e=0,i=!1,n){return n&&n.from<=e&&n.more&&this.setHeight(t,n.heights[n.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class Li extends Ni{constructor(t,e){super(t,e,xt.Text),this.collapsed=0,this.widgetHeight=0}replace(t,e,i){let n=i[0];return 1==i.length&&(n instanceof Li||n instanceof Ii&&4&n.flags)&&Math.abs(this.length-n.length)<10?(n instanceof Ii?n=new Li(n.length,this.height):n.height=this.height,this.outdated||(n.outdated=!1),n):Bi.of(i)}updateHeight(t,e=0,i=!1,n){return n&&n.from<=e&&n.more?this.setHeight(t,n.heights[n.index++]):(i||this.outdated)&&this.setHeight(t,Math.max(this.widgetHeight,t.heightForLine(this.length-this.collapsed))),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class Ii extends Bi{constructor(t){super(t,0)}lines(t,e){let i=t.lineAt(e).number,n=t.lineAt(e+this.length).number;return{firstLine:i,lastLine:n,lineHeight:this.height/(n-i+1)}}blockAt(t,e,i,n){let{firstLine:s,lastLine:r,lineHeight:o}=this.lines(e,n),l=Math.max(0,Math.min(r-s,Math.floor((t-i)/o))),{from:a,length:h}=e.line(s+l);return new _i(a,h,i+o*l,o,xt.Text)}lineAt(t,e,i,n,s){if(e==Ei.ByHeight)return this.blockAt(t,i,n,s);if(e==Ei.ByPosNoHeight){let{from:e,to:n}=i.lineAt(t);return new _i(e,n-e,0,0,xt.Text)}let{firstLine:r,lineHeight:o}=this.lines(i,s),{from:l,length:a,number:h}=i.lineAt(t);return new _i(l,a,n+o*(h-r),o,xt.Text)}forEachLine(t,e,i,n,s,r){let{firstLine:o,lineHeight:l}=this.lines(i,s);for(let a=Math.max(t,s),h=Math.min(s+this.length,e);a<=h;){let e=i.lineAt(a);a==t&&(n+=l*(e.number-o)),r(new _i(e.from,e.length,n,l,xt.Text)),n+=l,a=e.to+1}}replace(t,e,i){let n=this.length-e;if(n>0){let t=i[i.length-1];t instanceof Ii?i[i.length-1]=new Ii(t.length+n):i.push(null,new Ii(n-1))}if(t>0){let e=i[0];e instanceof Ii?i[0]=new Ii(t+e.length):i.unshift(new Ii(t-1),null)}return Bi.of(i)}decomposeLeft(t,e){e.push(new Ii(t-1),null)}decomposeRight(t,e){e.push(null,new Ii(this.length-t-1))}updateHeight(t,e=0,i=!1,n){let s=e+this.length;if(n&&n.from<=e+this.length&&n.more){let i=[],r=Math.max(e,n.from),o=-1,l=t.heightChanged;n.from>e&&i.push(new Ii(n.from-e-1).updateHeight(t,e));while(r<=s&&n.more){let e=t.doc.lineAt(r).length;i.length&&i.push(null);let s=n.heights[n.index++];-1==o?o=s:Math.abs(s-o)>=Ri&&(o=-2);let l=new Li(e,s);l.outdated=!1,i.push(l),r+=e+1}r<=s&&i.push(null,new Ii(s-r).updateHeight(t,r));let a=Bi.of(i);return t.heightChanged=l||o<0||Math.abs(a.height-this.height)>=Ri||Math.abs(o-this.lines(t.doc,e).lineHeight)>=Ri,a}return(i||this.outdated)&&(this.setHeight(t,t.heightForGap(e,e+this.length)),this.outdated=!1),this}toString(){return`gap(${this.length})`}}class Vi extends Bi{constructor(t,e,i){super(t.length+e+i.length,t.height+i.height,e|(t.outdated||i.outdated?2:0)),this.left=t,this.right=i,this.size=t.size+i.size}get break(){return 1&this.flags}blockAt(t,e,i,n){let s=i+this.left.height;return t<s?this.left.blockAt(t,e,i,n):this.right.blockAt(t,e,s,n+this.left.length+this.break)}lineAt(t,e,i,n,s){let r=n+this.left.height,o=s+this.left.length+this.break,l=e==Ei.ByHeight?t<r:t<o,a=l?this.left.lineAt(t,e,i,n,s):this.right.lineAt(t,e,i,r,o);if(this.break||(l?a.to<o:a.from>o))return a;let h=e==Ei.ByPosNoHeight?Ei.ByPosNoHeight:Ei.ByPos;return l?a.join(this.right.lineAt(o,h,i,r,o)):this.left.lineAt(o,h,i,n,s).join(a)}forEachLine(t,e,i,n,s,r){let o=n+this.left.height,l=s+this.left.length+this.break;if(this.break)t<l&&this.left.forEachLine(t,e,i,n,s,r),e>=l&&this.right.forEachLine(t,e,i,o,l,r);else{let a=this.lineAt(l,Ei.ByPos,i,n,s);t<a.from&&this.left.forEachLine(t,a.from-1,i,n,s,r),a.to>=t&&a.from<=e&&r(a),e>a.to&&this.right.forEachLine(a.to+1,e,i,o,l,r)}}replace(t,e,i){let n=this.left.length+this.break;if(e<n)return this.balanced(this.left.replace(t,e,i),this.right);if(t>this.left.length)return this.balanced(this.left,this.right.replace(t-n,e-n,i));let s=[];t>0&&this.decomposeLeft(t,s);let r=s.length;for(let o of i)s.push(o);if(t>0&&zi(s,r-1),e<this.length){let t=s.length;this.decomposeRight(e,s),zi(s,t)}return Bi.of(s)}decomposeLeft(t,e){let i=this.left.length;if(t<=i)return this.left.decomposeLeft(t,e);e.push(this.left),this.break&&(i++,t>=i&&e.push(null)),t>i&&this.right.decomposeLeft(t-i,e)}decomposeRight(t,e){let i=this.left.length,n=i+this.break;if(t>=n)return this.right.decomposeRight(t-n,e);t<i&&this.left.decomposeRight(t,e),this.break&&t<n&&e.push(null),e.push(this.right)}balanced(t,e){return t.size>2*e.size||e.size>2*t.size?Bi.of(this.break?[t,null,e]:[t,e]):(this.left=t,this.right=e,this.height=t.height+e.height,this.outdated=t.outdated||e.outdated,this.size=t.size+e.size,this.length=t.length+this.break+e.length,this)}updateHeight(t,e=0,i=!1,n){let{left:s,right:r}=this,o=e+s.length+this.break,l=null;return n&&n.from<=e+s.length&&n.more?l=s=s.updateHeight(t,e,i,n):s.updateHeight(t,e,i),n&&n.from<=o+r.length&&n.more?l=r=r.updateHeight(t,o,i,n):r.updateHeight(t,o,i),l?this.balanced(s,r):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function zi(t,e){let i,n;null==t[e]&&(i=t[e-1])instanceof Ii&&(n=t[e+1])instanceof Ii&&t.splice(e-1,3,new Ii(i.length+1+n.length))}const Hi=5;class Wi{constructor(t,e){this.pos=t,this.oracle=e,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=t}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(t,e){if(this.lineStart>-1){let t=Math.min(e,this.lineEnd),i=this.nodes[this.nodes.length-1];i instanceof Li?i.length+=t-this.pos:(t>this.pos||!this.isCovered)&&this.nodes.push(new Li(t-this.pos,-1)),this.writtenTo=t,e>t&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=e}point(t,e,i){if(t<e||i.heightRelevant){let n=i.widget?i.widget.estimatedHeight:0;n<0&&(n=this.oracle.lineHeight);let s=e-t;i.block?this.addBlock(new Ni(s,n,i.type)):(s||n>=Hi)&&this.addLineDeco(n,s)}else e>t&&this.span(t,e);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:t,to:e}=this.oracle.doc.lineAt(this.pos);this.lineStart=t,this.lineEnd=e,this.writtenTo<t&&((this.writtenTo<t-1||null==this.nodes[this.nodes.length-1])&&this.nodes.push(this.blankContent(this.writtenTo,t-1)),this.nodes.push(null)),this.pos>t&&this.nodes.push(new Li(this.pos-t,-1)),this.writtenTo=this.pos}blankContent(t,e){let i=new Ii(e-t);return this.oracle.doc.lineAt(t).to==e&&(i.flags|=4),i}ensureLine(){this.enterLine();let t=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(t instanceof Li)return t;let e=new Li(0,-1);return this.nodes.push(e),e}addBlock(t){this.enterLine(),t.type!=xt.WidgetAfter||this.isCovered||this.ensureLine(),this.nodes.push(t),this.writtenTo=this.pos=this.pos+t.length,t.type!=xt.WidgetBefore&&(this.covering=t)}addLineDeco(t,e){let i=this.ensureLine();i.length+=e,i.collapsed+=e,i.widgetHeight=Math.max(i.widgetHeight,t),this.writtenTo=this.pos=this.pos+e}finish(t){let e=0==this.nodes.length?null:this.nodes[this.nodes.length-1];!(this.lineStart>-1)||e instanceof Li||this.isCovered?(this.writtenTo<this.pos||null==e)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos)):this.nodes.push(new Li(0,-1));let i=t;for(let n of this.nodes)n instanceof Li&&n.updateHeight(this.oracle,i),i+=n?n.length:1;return this.nodes}static build(t,e,i,n){let s=new Wi(i,t);return o["a"].spans(e,i,n,s,0),s.finish(i)}}function qi(t,e,i){let n=new ji;return o["a"].compare(t,e,i,n,0),n.changes}class ji{constructor(){this.changes=[]}compareRange(){}comparePoint(t,e,i,n){(t<e||i&&i.heightRelevant||n&&n.heightRelevant)&&Tt(t,e,this.changes,5)}}function Fi(t,e){let i=t.getBoundingClientRect(),n=Math.max(0,i.left),s=Math.min(innerWidth,i.right),r=Math.max(0,i.top),o=Math.min(innerHeight,i.bottom),l=t.ownerDocument.body;for(let a=t.parentNode;a&&a!=l;)if(1==a.nodeType){let t=a,e=window.getComputedStyle(t);if((t.scrollHeight>t.clientHeight||t.scrollWidth>t.clientWidth)&&"visible"!=e.overflow){let e=t.getBoundingClientRect();n=Math.max(n,e.left),s=Math.min(s,e.right),r=Math.max(r,e.top),o=Math.min(o,e.bottom)}a="absolute"==e.position||"fixed"==e.position?t.offsetParent:t.parentNode}else{if(11!=a.nodeType)break;a=a.host}return{left:n-i.left,right:Math.max(n,s)-i.left,top:r-(i.top+e),bottom:Math.max(r,o)-(i.top+e)}}class Qi{constructor(t,e,i){this.from=t,this.to=e,this.size=i}static same(t,e){if(t.length!=e.length)return!1;for(let i=0;i<t.length;i++){let n=t[i],s=e[i];if(n.from!=s.from||n.to!=s.to||n.size!=s.size)return!1}return!0}draw(t){return kt.replace({widget:new Ui(this.size,t)}).range(this.from,this.to)}}class Ui extends yt{constructor(t,e){super(),this.size=t,this.vertical=e}eq(t){return t.size==this.size&&t.vertical==this.vertical}toDOM(){let t=document.createElement("div");return this.vertical?t.style.height=this.size+"px":(t.style.width=this.size+"px",t.style.height="2px",t.style.display="inline-block"),t}get estimatedHeight(){return this.vertical?this.size:-1}}class Ki{constructor(t){this.state=t,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.heightOracle=new Di,this.scaler=tn,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1,this.heightMap=Bi.empty().applyChanges(t.facet(ie),s["a"].empty,this.heightOracle.setDoc(t.doc),[new se(0,0,0,t.doc.length)]),this.viewport=this.getViewport(0,null),this.updateViewportLines(),this.updateForViewport(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=kt.set(this.lineGaps.map(t=>t.draw(!1))),this.computeVisibleRanges()}updateForViewport(){let t=[this.viewport],{main:e}=this.state.selection;for(let i=0;i<=1;i++){let n=i?e.head:e.anchor;if(!t.some(({from:t,to:e})=>n>=t&&n<=e)){let{from:e,to:i}=this.lineBlockAt(n);t.push(new $i(e,i))}}this.viewports=t.sort((t,e)=>t.from-e.from),this.scaler=this.heightMap.height<=7e6?tn:new en(this.heightOracle.doc,this.heightMap,this.viewports)}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.state.doc,0,0,t=>{this.viewportLines.push(1==this.scaler.scale?t:nn(t,this.scaler))})}update(t,e=null){let i=this.state;this.state=t.state;let s=this.state.facet(ie),r=t.changedRanges,o=se.extendWithRanges(r,qi(t.startState.facet(ie),s,t?t.changes:n["c"].empty(this.state.doc.length))),l=this.heightMap.height;this.heightMap=this.heightMap.applyChanges(s,i.doc,this.heightOracle.setDoc(this.state.doc),o),this.heightMap.height!=l&&(t.flags|=2);let a=o.length?this.mapViewport(this.viewport,t.changes):this.viewport;(e&&(e.range.head<a.from||e.range.head>a.to)||!this.viewportIsAppropriate(a))&&(a=this.getViewport(0,e));let h=!t.changes.empty||2&t.flags||a.from!=this.viewport.from||a.to!=this.viewport.to;this.viewport=a,this.updateForViewport(),h&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,t.changes))),t.flags|=this.computeVisibleRanges(),e&&(this.scrollTarget=e),!this.mustEnforceCursorAssoc&&t.selectionSet&&t.view.lineWrapping&&t.state.selection.main.empty&&t.state.selection.main.assoc&&(this.mustEnforceCursorAssoc=!0)}measure(t){let e=t.contentDOM,i=window.getComputedStyle(e),n=this.heightOracle,s=i.whiteSpace,r="rtl"==i.direction?oe.RTL:oe.LTR,o=this.heightOracle.mustRefreshForStyle(s,r),l=o||this.mustMeasureContent||this.contentDOMHeight!=e.clientHeight,a=0,h=0;if(this.editorWidth!=t.scrollDOM.clientWidth&&(n.lineWrapping&&(l=!0),this.editorWidth=t.scrollDOM.clientWidth,a|=8),l){this.mustMeasureContent=!1,this.contentDOMHeight=e.clientHeight;let t=parseInt(i.paddingTop)||0,n=parseInt(i.paddingBottom)||0;this.paddingTop==t&&this.paddingBottom==n||(a|=8,this.paddingTop=t,this.paddingBottom=n)}let c=this.printing?{top:-1e8,bottom:1e8,left:-1e8,right:1e8}:Fi(e,this.paddingTop),u=c.top-this.pixelViewport.top,d=c.bottom-this.pixelViewport.bottom;this.pixelViewport=c;let f=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(f!=this.inView&&(this.inView=f,f&&(l=!0)),!this.inView)return 0;let p=e.clientWidth;if(this.contentDOMWidth==p&&this.editorHeight==t.scrollDOM.clientHeight||(this.contentDOMWidth=p,this.editorHeight=t.scrollDOM.clientHeight,a|=8),l){let e=t.docView.measureVisibleLineHeights();if(n.mustRefreshForHeights(e)&&(o=!0),o||n.lineWrapping&&Math.abs(p-this.contentDOMWidth)>n.charWidth){let{lineHeight:i,charWidth:l}=t.docView.measureTextSize();o=n.refresh(s,r,i,l,p/l,e),o&&(t.docView.minWidth=0,a|=8)}u>0&&d>0?h=Math.max(u,d):u<0&&d<0&&(h=Math.min(u,d)),n.heightChanged=!1,this.heightMap=this.heightMap.updateHeight(n,0,o,new Pi(this.viewport.from,e)),n.heightChanged&&(a|=2)}let g=!this.viewportIsAppropriate(this.viewport,h)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return g&&(this.viewport=this.getViewport(h,this.scrollTarget)),this.updateForViewport(),(2&a||g)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(o?[]:this.lineGaps)),a|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,t.docView.enforceCursorAssoc()),a}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(t,e){let i=.5-Math.max(-.5,Math.min(.5,t/1e3/2)),n=this.heightMap,s=this.state.doc,{visibleTop:r,visibleBottom:o}=this,l=new $i(n.lineAt(r-1e3*i,Ei.ByHeight,s,0,0).from,n.lineAt(o+1e3*(1-i),Ei.ByHeight,s,0,0).to);if(e){let{head:t}=e.range;if(t<l.from||t>l.to){let i,r=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),o=n.lineAt(t,Ei.ByPos,s,0,0);i="center"==e.y?(o.top+o.bottom)/2-r/2:"start"==e.y||"nearest"==e.y&&t<l.from?o.top:o.bottom-r,l=new $i(n.lineAt(i-500,Ei.ByHeight,s,0,0).from,n.lineAt(i+r+500,Ei.ByHeight,s,0,0).to)}}return l}mapViewport(t,e){let i=e.mapPos(t.from,-1),n=e.mapPos(t.to,1);return new $i(this.heightMap.lineAt(i,Ei.ByPos,this.state.doc,0,0).from,this.heightMap.lineAt(n,Ei.ByPos,this.state.doc,0,0).to)}viewportIsAppropriate({from:t,to:e},i=0){if(!this.inView)return!0;let{top:n}=this.heightMap.lineAt(t,Ei.ByPos,this.state.doc,0,0),{bottom:s}=this.heightMap.lineAt(e,Ei.ByPos,this.state.doc,0,0),{visibleTop:r,visibleBottom:o}=this;return(0==t||n<=r-Math.max(10,Math.min(-i,250)))&&(e==this.state.doc.length||s>=o+Math.max(10,Math.min(i,250)))&&n>r-2e3&&s<o+2e3}mapLineGaps(t,e){if(!t.length||e.empty)return t;let i=[];for(let n of t)e.touchesRange(n.from,n.to)||i.push(new Qi(e.mapPos(n.from),e.mapPos(n.to),n.size));return i}ensureLineGaps(t){let e=[];if(this.heightOracle.direction!=oe.LTR)return e;for(let i of this.viewportLines){if(i.length<4e3)continue;let n,s,r=Gi(i.from,i.to,this.state);if(r.total<4e3)continue;if(this.heightOracle.lineWrapping){let t=2e3/this.heightOracle.lineLength*this.heightOracle.lineHeight;n=Xi(r,(this.visibleTop-i.top-t)/i.height),s=Xi(r,(this.visibleBottom-i.top+t)/i.height)}else{let t=r.total*this.heightOracle.charWidth,e=2e3*this.heightOracle.charWidth;n=Xi(r,(this.pixelViewport.left-e)/t),s=Xi(r,(this.pixelViewport.right+e)/t)}let o=[];n>i.from&&o.push({from:i.from,to:n}),s<i.to&&o.push({from:s,to:i.to});let l=this.state.selection.main;l.from>=i.from&&l.from<=i.to&&Yi(o,l.from-10,l.from+10),!l.empty&&l.to>=i.from&&l.to<=i.to&&Yi(o,l.to-10,l.to+10);for(let{from:a,to:h}of o)h-a>1e3&&e.push(Zi(t,t=>t.from>=i.from&&t.to<=i.to&&Math.abs(t.from-a)<1e3&&Math.abs(t.to-h)<1e3)||new Qi(a,h,this.gapSize(i,a,h,r)))}return e}gapSize(t,e,i,n){let s=Ji(n,i)-Ji(n,e);return this.heightOracle.lineWrapping?t.height*s:n.total*this.heightOracle.charWidth*s}updateLineGaps(t){Qi.same(t,this.lineGaps)||(this.lineGaps=t,this.lineGapDeco=kt.set(t.map(t=>t.draw(this.heightOracle.lineWrapping))))}computeVisibleRanges(){let t=this.state.facet(ie);this.lineGaps.length&&(t=t.concat(this.lineGapDeco));let e=[];o["a"].spans(t,this.viewport.from,this.viewport.to,{span(t,i){e.push({from:t,to:i})},point(){}},20);let i=e.length!=this.visibleRanges.length||this.visibleRanges.some((t,i)=>t.from!=e[i].from||t.to!=e[i].to);return this.visibleRanges=e,i?4:0}lineBlockAt(t){return t>=this.viewport.from&&t<=this.viewport.to&&this.viewportLines.find(e=>e.from<=t&&e.to>=t)||nn(this.heightMap.lineAt(t,Ei.ByPos,this.state.doc,0,0),this.scaler)}lineBlockAtHeight(t){return nn(this.heightMap.lineAt(this.scaler.fromDOM(t),Ei.ByHeight,this.state.doc,0,0),this.scaler)}elementAtHeight(t){return nn(this.heightMap.blockAt(this.scaler.fromDOM(t),this.state.doc,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class $i{constructor(t,e){this.from=t,this.to=e}}function Gi(t,e,i){let n=[],s=t,r=0;return o["a"].spans(i.facet(ie),t,e,{span(){},point(t,e){t>s&&(n.push({from:s,to:t}),r+=t-s),s=e}},20),s<e&&(n.push({from:s,to:e}),r+=e-s),{total:r,ranges:n}}function Xi({total:t,ranges:e},i){if(i<=0)return e[0].from;if(i>=1)return e[e.length-1].to;let n=Math.floor(t*i);for(let s=0;;s++){let{from:t,to:i}=e[s],r=i-t;if(n<=r)return t+n;n-=r}}function Ji(t,e){let i=0;for(let{from:n,to:s}of t.ranges){if(e<=s){i+=e-n;break}i+=s-n}return i/t.total}function Yi(t,e,i){for(let n=0;n<t.length;n++){let s=t[n];if(s.from<i&&s.to>e){let r=[];s.from<e&&r.push({from:s.from,to:e}),s.to>i&&r.push({from:i,to:s.to}),t.splice(n,1,...r),n+=r.length-1}}}function Zi(t,e){for(let i of t)if(e(i))return i}const tn={toDOM(t){return t},fromDOM(t){return t},scale:1};class en{constructor(t,e,i){let n=0,s=0,r=0;this.viewports=i.map(({from:i,to:s})=>{let r=e.lineAt(i,Ei.ByPos,t,0,0).top,o=e.lineAt(s,Ei.ByPos,t,0,0).bottom;return n+=o-r,{from:i,to:s,top:r,bottom:o,domTop:0,domBottom:0}}),this.scale=(7e6-n)/(e.height-n);for(let o of this.viewports)o.domTop=r+(o.top-s)*this.scale,r=o.domBottom=o.domTop+(o.bottom-o.top),s=o.bottom}toDOM(t){for(let e=0,i=0,n=0;;e++){let s=e<this.viewports.length?this.viewports[e]:null;if(!s||t<s.top)return n+(t-i)*this.scale;if(t<=s.bottom)return s.domTop+(t-s.top);i=s.bottom,n=s.domBottom}}fromDOM(t){for(let e=0,i=0,n=0;;e++){let s=e<this.viewports.length?this.viewports[e]:null;if(!s||t<s.domTop)return i+(t-n)/this.scale;if(t<=s.domBottom)return s.top+(t-s.domTop);i=s.bottom,n=s.domBottom}}}function nn(t,e){if(1==e.scale)return t;let i=e.toDOM(t.top),n=e.toDOM(t.bottom);return new _i(t.from,t.length,i,n-i,Array.isArray(t.type)?t.type.map(t=>nn(t,e)):t.type)}const sn=n["g"].define({combine:t=>t.join(" ")}),rn=n["g"].define({combine:t=>t.indexOf(!0)>-1}),on=r["a"].newName(),ln=r["a"].newName(),an=r["a"].newName(),hn={"&light":"."+ln,"&dark":"."+an};function cn(t,e,i){return new r["a"](e,{finish(e){return/&/.test(e)?e.replace(/&\w*/,e=>{if("&"==e)return t;if(!i||!i[e])throw new RangeError("Unsupported selector: "+e);return i[e]}):t+" "+e}})}const un=cn("."+on,{"&.cm-editor":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,minHeight:"100%",display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere"},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 4px"},".cm-selectionLayer":{zIndex:-1,contain:"size style"},".cm-selectionBackground":{position:"absolute"},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{zIndex:100,contain:"size style",pointerEvents:"none"},"&.cm-focused .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{visibility:"hidden"},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{visibility:"hidden"},"100%":{}},".cm-cursor, .cm-dropCursor":{position:"absolute",borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},"&.cm-focused .cm-cursor":{display:"block"},"&light .cm-activeLine":{backgroundColor:"#f3f9ff"},"&dark .cm-activeLine":{backgroundColor:"#223039"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},hn),dn={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},fn=nt.ie&&nt.ie_version<=11;class pn{constructor(t,e,i){this.view=t,this.onChange=e,this.onScrollChanged=i,this.active=!1,this.selectionRange=new _,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.scrollTargets=[],this.intersection=null,this.resize=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.parentCheck=-1,this.dom=t.contentDOM,this.observer=new MutationObserver(e=>{for(let t of e)this.queue.push(t);(nt.ie&&nt.ie_version<=11||nt.ios&&t.composing)&&e.some(t=>"childList"==t.type&&t.removedNodes.length||"characterData"==t.type&&t.oldValue.length>t.target.nodeValue.length)?this.flushSoon():this.flush()}),fn&&(this.onCharData=t=>{this.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),window.addEventListener("resize",this.onResize=this.onResize.bind(this)),"function"==typeof ResizeObserver&&(this.resize=new ResizeObserver(()=>{this.view.docView.lastUpdate<Date.now()-75&&this.onResize()}),this.resize.observe(t.scrollDOM)),this.start(),window.addEventListener("scroll",this.onScroll=this.onScroll.bind(this)),"function"==typeof IntersectionObserver&&(this.intersection=new IntersectionObserver(t=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),t.length>0&&t[t.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(t=>{t.length>0&&t[t.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange(),this.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}onScroll(t){this.intersecting&&this.flush(!1),this.onScrollChanged(t)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}updateGaps(t){if(this.gapIntersection&&(t.length!=this.gaps.length||this.gaps.some((e,i)=>e!=t[i]))){this.gapIntersection.disconnect();for(let e of t)this.gapIntersection.observe(e);this.gaps=t}}onSelectionChange(t){if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:e}=this,i=this.selectionRange;if(e.state.facet(Ut)?e.root.activeElement!=this.dom:!x(e.dom,i))return;let n=i.anchorNode&&e.docView.nearest(i.anchorNode);n&&n.ignoreEvent(t)||((nt.ie&&nt.ie_version<=11||nt.android&&nt.chrome)&&!e.state.selection.main.empty&&i.focusNode&&S(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)?this.flushSoon():this.flush(!1))}readSelectionRange(){let{root:t}=this.view,e=w(t),i=nt.safari&&11==t.nodeType&&y()==this.view.contentDOM&&mn(this.view)||e;return!this.selectionRange.eq(i)&&(this.selectionRange.setRange(i),this.selectionChanged=!0)}setSelectionRange(t,e){this.selectionRange.set(t.node,t.offset,e.node,e.offset),this.selectionChanged=!1}listenForScroll(){this.parentCheck=-1;let t=0,e=null;for(let i=this.dom;i;)if(1==i.nodeType)!e&&t<this.scrollTargets.length&&this.scrollTargets[t]==i?t++:e||(e=this.scrollTargets.slice(0,t)),e&&e.push(i),i=i.assignedSlot||i.parentNode;else{if(11!=i.nodeType)break;i=i.host}if(t<this.scrollTargets.length&&!e&&(e=this.scrollTargets.slice(0,t)),e){for(let t of this.scrollTargets)t.removeEventListener("scroll",this.onScroll);for(let t of this.scrollTargets=e)t.addEventListener("scroll",this.onScroll)}}ignore(t){if(!this.active)return t();try{return this.stop(),t()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,dn),fn&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),fn&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(t,e){this.delayedAndroidKey||requestAnimationFrame(()=>{let t=this.delayedAndroidKey;this.delayedAndroidKey=null;let e=this.view.state;L(this.view.contentDOM,t.key,t.keyCode)?this.processRecords():this.flush(),this.view.state==e&&this.view.update([])}),this.delayedAndroidKey&&"Enter"!=t||(this.delayedAndroidKey={key:t,keyCode:e})}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=window.setTimeout(()=>{this.delayedFlush=-1,this.flush()},20))}forceFlush(){this.delayedFlush>=0&&(window.clearTimeout(this.delayedFlush),this.delayedFlush=-1,this.flush())}processRecords(){let t=this.queue;for(let s of this.observer.takeRecords())t.push(s);t.length&&(this.queue=[]);let e=-1,i=-1,n=!1;for(let s of t){let t=this.readMutation(s);t&&(t.typeOver&&(n=!0),-1==e?({from:e,to:i}=t):(e=Math.min(t.from,e),i=Math.max(t.to,i)))}return{from:e,to:i,typeOver:n}}flush(t=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return;t&&this.readSelectionRange();let{from:e,to:i,typeOver:n}=this.processRecords(),s=this.selectionChanged&&x(this.dom,this.selectionRange);if(e<0&&!s)return;this.selectionChanged=!1;let r=this.view.state;this.onChange(e,i,n),this.view.state==r&&this.view.update([])}readMutation(t){let e=this.view.docView.nearest(t.target);if(!e||e.ignoreMutation(t))return null;if(e.markDirty("attributes"==t.type),"attributes"==t.type&&(e.dirty|=4),"childList"==t.type){let i=gn(e,t.previousSibling||t.target.previousSibling,-1),n=gn(e,t.nextSibling||t.target.nextSibling,1);return{from:i?e.posAfter(i):e.posAtStart,to:n?e.posBefore(n):e.posAtEnd,typeOver:!1}}return"characterData"==t.type?{from:e.posAtStart,to:e.posAtEnd,typeOver:t.target.nodeValue==t.oldValue}:null}destroy(){var t,e,i;this.stop(),null===(t=this.intersection)||void 0===t||t.disconnect(),null===(e=this.gapIntersection)||void 0===e||e.disconnect(),null===(i=this.resize)||void 0===i||i.disconnect();for(let n of this.scrollTargets)n.removeEventListener("scroll",this.onScroll);window.removeEventListener("scroll",this.onScroll),window.removeEventListener("resize",this.onResize),this.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout)}}function gn(t,e,i){while(e){let n=W.get(e);if(n&&n.parent==t)return n;let s=e.parentNode;e=s!=t.dom?s:i>0?e.nextSibling:e.previousSibling}return null}function mn(t){let e=null;function i(t){t.preventDefault(),t.stopImmediatePropagation(),e=t.getTargetRanges()[0]}if(t.contentDOM.addEventListener("beforeinput",i,!0),document.execCommand("indent"),t.contentDOM.removeEventListener("beforeinput",i,!0),!e)return null;let n=e.startContainer,s=e.startOffset,r=e.endContainer,o=e.endOffset,l=t.docView.domAtPos(t.state.selection.main.anchor);return S(l.node,l.offset,r,o)&&([n,s,r,o]=[r,o,n,s]),{anchorNode:n,anchorOffset:s,focusNode:r,focusOffset:o}}function vn(t,e,i,r){let o,l,a=t.state.selection.main;if(e>-1){let n=t.docView.domBoundsAround(e,i,0);if(!n||t.state.readOnly)return;let{from:r,to:h}=n,c=t.docView.impreciseHead||t.docView.impreciseAnchor?[]:bn(t),u=new Se(c,t.state);u.readRange(n.startDOM,n.endDOM);let d=a.from,f=null;(8===t.inputState.lastKeyCode&&t.inputState.lastKeyTime>Date.now()-100||nt.android&&u.text.length<h-r)&&(d=a.to,f="end");let p=wn(t.state.doc.sliceString(r,h,ke),u.text,d-r,f);p&&(nt.chrome&&13==t.inputState.lastKeyCode&&p.toB==p.from+2&&u.text.slice(p.from,p.toB)==ke+ke&&p.toB--,o={from:r+p.from,to:r+p.toA,insert:s["a"].of(u.text.slice(p.from,p.toB).split(ke))}),l=yn(c,r)}else if(t.hasFocus||!t.state.facet(Ut)){let e=t.observer.selectionRange,{impreciseHead:i,impreciseAnchor:s}=t.docView,r=i&&i.node==e.focusNode&&i.offset==e.focusOffset||!b(t.contentDOM,e.focusNode)?t.state.selection.main.head:t.docView.posFromDOM(e.focusNode,e.focusOffset),o=s&&s.node==e.anchorNode&&s.offset==e.anchorOffset||!b(t.contentDOM,e.anchorNode)?t.state.selection.main.anchor:t.docView.posFromDOM(e.anchorNode,e.anchorOffset);r==a.head&&o==a.anchor||(l=n["e"].single(o,r))}if(o||l)if(!o&&r&&!a.empty&&l&&l.main.empty?o={from:a.from,to:a.to,insert:t.state.doc.slice(a.from,a.to)}:o&&o.from>=a.from&&o.to<=a.to&&(o.from!=a.from||o.to!=a.to)&&a.to-a.from-(o.to-o.from)<=4&&(o={from:a.from,to:a.to,insert:t.state.doc.slice(a.from,o.from).append(o.insert).append(t.state.doc.slice(o.to,a.to))}),o){let e=t.state;if(nt.ios&&t.inputState.flushIOSKey(t))return;if(nt.android&&(o.from==a.from&&o.to==a.to&&1==o.insert.length&&2==o.insert.lines&&L(t.contentDOM,"Enter",13)||o.from==a.from-1&&o.to==a.to&&0==o.insert.length&&L(t.contentDOM,"Backspace",8)||o.from==a.from&&o.to==a.to+1&&0==o.insert.length&&L(t.contentDOM,"Delete",46)))return;let i,s=o.insert.toString();if(t.state.facet(Ht).some(e=>e(t,o.from,o.to,s)))return;if(t.inputState.composing>=0&&t.inputState.composing++,o.from>=a.from&&o.to<=a.to&&o.to-o.from>=(a.to-a.from)/3&&(!l||l.main.empty&&l.main.from==o.from+o.insert.length)&&t.inputState.composing<0){let n=a.from<o.from?e.sliceDoc(a.from,o.from):"",s=a.to>o.to?e.sliceDoc(o.to,a.to):"";i=e.replaceSelection(t.state.toText(n+o.insert.sliceString(0,void 0,t.state.lineBreak)+s))}else{let s=e.changes(o),r=l&&!e.selection.main.eq(l.main)&&l.main.to<=s.newLength?l.main:void 0;if(e.selection.ranges.length>1&&t.inputState.composing>=0&&o.to<=a.to&&o.to>=a.to-10){let l=t.state.sliceDoc(o.from,o.to),h=De(t)||t.state.doc.lineAt(a.head),c=a.to-o.to,u=a.to-a.from;i=e.changeByRange(i=>{if(i.from==a.from&&i.to==a.to)return{changes:s,range:r||i.map(s)};let d=i.to-c,f=d-l.length;if(i.to-i.from!=u||t.state.sliceDoc(f,d)!=l||h&&i.to>=h.from&&i.from<=h.to)return{range:i};let p=e.changes({from:f,to:d,insert:o.insert}),g=i.to-a.to;return{changes:p,range:r?n["e"].range(Math.max(0,r.anchor+g),Math.max(0,r.head+g)):i.map(p)}})}else i={changes:s,selection:r&&e.selection.replaceRange(r)}}let r="input.type";t.composing&&(r+=".compose",t.inputState.compositionFirstChange&&(r+=".start",t.inputState.compositionFirstChange=!1)),t.dispatch(i,{scrollIntoView:!0,userEvent:r})}else if(l&&!l.main.eq(a)){let e=!1,i="select";t.inputState.lastSelectionTime>Date.now()-50&&("select"==t.inputState.lastSelectionOrigin&&(e=!0),i=t.inputState.lastSelectionOrigin),t.dispatch({selection:l,scrollIntoView:e,userEvent:i})}}function wn(t,e,i,n){let s=Math.min(t.length,e.length),r=0;while(r<s&&t.charCodeAt(r)==e.charCodeAt(r))r++;if(r==s&&t.length==e.length)return null;let o=t.length,l=e.length;while(o>0&&l>0&&t.charCodeAt(o-1)==e.charCodeAt(l-1))o--,l--;if("end"==n){let t=Math.max(0,r-Math.min(o,l));i-=o+t-r}if(o<r&&t.length<e.length){let t=i<=r&&i>=o?r-i:0;r-=t,l=r+(l-o),o=r}else if(l<r){let t=i<=r&&i>=l?r-i:0;r-=t,o=r+(o-l),l=r}return{from:r,toA:o,toB:l}}function bn(t){let e=[];if(t.root.activeElement!=t.contentDOM)return e;let{anchorNode:i,anchorOffset:n,focusNode:s,focusOffset:r}=t.observer.selectionRange;return i&&(e.push(new Ce(i,n)),s==i&&r==n||e.push(new Ce(s,r))),e}function yn(t,e){if(0==t.length)return null;let i=t[0].pos,s=2==t.length?t[1].pos:i;return i>-1&&s>-1?n["e"].single(i+e,s+e):null}class xn{constructor(t={}){this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.style.cssText="position: absolute; top: -10000px",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),this._dispatch=t.dispatch||(t=>this.update([t])),this.dispatch=this.dispatch.bind(this),this.root=t.root||I(t.parent)||document,this.viewState=new Ki(t.state||n["f"].create()),this.plugins=this.state.facet(Xt).map(t=>new Zt(t));for(let e of this.plugins)e.update(this);this.observer=new pn(this,(t,e,i)=>{vn(this,t,e,i)},t=>{this.inputState.runScrollHandlers(this,t),this.observer.intersecting&&this.measure()}),this.inputState=new Ze(this),this.docView=new Ae(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),t.parent&&t.parent.appendChild(this.dom)}get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}dispatch(...t){this._dispatch(1==t.length&&t[0]instanceof n["l"]?t[0]:this.state.update(...t))}update(t){if(0!=this.updateState)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let e,i=!1,s=this.state;for(let n of t){if(n.startState!=s)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");s=n.state}if(this.destroyed)return void(this.viewState.state=s);if(s.facet(n["f"].phrases)!=this.state.facet(n["f"].phrases))return this.setState(s);e=new re(this,s,t);let r=this.viewState.scrollTarget;try{this.updateState=2;for(let e of t){if(r&&(r=r.map(e.changes)),e.scrollIntoView){let{main:t}=e.state.selection;r=new jt(t.empty?t:n["e"].cursor(t.head,t.head>t.anchor?-1:1))}for(let t of e.effects)t.is(Wt)?r=new jt(t.value):t.is(qt)?r=new jt(t.value,"center"):t.is(Ft)&&(r=t.value)}this.viewState.update(e,r),this.bidiCache=Cn.update(this.bidiCache,e.changes),e.empty||(this.updatePlugins(e),this.inputState.update(e)),i=this.docView.update(e),this.state.facet(ne)!=this.styleModules&&this.mountStyles(),this.updateAttrs(),this.showAnnouncements(t),this.docView.updateSelection(i,t.some(t=>t.isUserEvent("select.pointer")))}finally{this.updateState=0}if(e.startState.facet(sn)!=e.state.facet(sn)&&(this.viewState.mustMeasureContent=!0),(i||r||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),!e.empty)for(let n of this.state.facet(zt))n(e)}setState(t){if(0!=this.updateState)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed)return void(this.viewState.state=t);this.updateState=2;let e=this.hasFocus;try{for(let t of this.plugins)t.destroy(this);this.viewState=new Ki(t),this.plugins=t.facet(Xt).map(t=>new Zt(t)),this.pluginMap.clear();for(let t of this.plugins)t.update(this);this.docView=new Ae(this),this.inputState.ensureHandlers(this),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}e&&this.focus(),this.requestMeasure()}updatePlugins(t){let e=t.startState.facet(Xt),i=t.state.facet(Xt);if(e!=i){let n=[];for(let s of i){let i=e.indexOf(s);if(i<0)n.push(new Zt(s));else{let e=this.plugins[i];e.mustUpdate=t,n.push(e)}}for(let e of this.plugins)e.mustUpdate!=t&&e.destroy(this);this.plugins=n,this.pluginMap.clear(),this.inputState.ensureHandlers(this)}else for(let n of this.plugins)n.mustUpdate=t;for(let n=0;n<this.plugins.length;n++)this.plugins[n].update(this)}measure(t=!0){if(this.destroyed)return;this.measureScheduled>-1&&cancelAnimationFrame(this.measureScheduled),this.measureScheduled=0,t&&this.observer.flush();let e=null;try{for(let t=0;;t++){this.updateState=1;let n=this.viewport,s=this.viewState.measure(this);if(!s&&!this.measureRequests.length&&null==this.viewState.scrollTarget)break;if(t>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let r=[];4&s||([this.measureRequests,r]=[r,this.measureRequests]);let o=r.map(t=>{try{return t.read(this)}catch(e){return Qt(this.state,e),On}}),l=new re(this,this.state),a=!1,h=!1;l.flags|=s,e?e.flags|=s:e=l,this.updateState=2,l.empty||(this.updatePlugins(l),this.inputState.update(l),this.updateAttrs(),a=this.docView.update(l));for(let t=0;t<r.length;t++)if(o[t]!=On)try{let e=r[t];e.write&&e.write(o[t],this)}catch(i){Qt(this.state,i)}if(this.viewState.scrollTarget&&(this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,h=!0),a&&this.docView.updateSelection(!0),this.viewport.from==n.from&&this.viewport.to==n.to&&!h&&0==this.measureRequests.length)break}}finally{this.updateState=0,this.measureScheduled=-1}if(e&&!e.empty)for(let n of this.state.facet(zt))n(e)}get themeClasses(){return on+" "+(this.state.facet(rn)?an:ln)+" "+this.state.facet(sn)}updateAttrs(){let t=An(this,te,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),e={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(Ut)?"true":"false",class:"cm-content",style:`${nt.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(e["aria-readonly"]="true"),An(this,ee,e),this.observer.ignore(()=>{bt(this.contentDOM,this.contentAttrs,e),bt(this.dom,this.editorAttrs,t)}),this.editorAttrs=t,this.contentAttrs=e}showAnnouncements(t){let e=!0;for(let i of t)for(let t of i.effects)if(t.is(xn.announce)){e&&(this.announceDOM.textContent=""),e=!1;let i=this.announceDOM.appendChild(document.createElement("div"));i.textContent=t.value}}mountStyles(){this.styleModules=this.state.facet(ne),r["a"].mount(this.root,this.styleModules.concat(un).reverse())}readMeasured(){if(2==this.updateState)throw new Error("Reading the editor layout isn't allowed during an update");0==this.updateState&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(t){if(this.measureScheduled<0&&(this.measureScheduled=requestAnimationFrame(()=>this.measure())),t){if(null!=t.key)for(let e=0;e<this.measureRequests.length;e++)if(this.measureRequests[e].key===t.key)return void(this.measureRequests[e]=t);this.measureRequests.push(t)}}pluginField(t){let e=[];for(let i of this.plugins)i.update(this).takeField(t,e);return e}plugin(t){let e=this.pluginMap.get(t);return(void 0===e||e&&e.spec!=t)&&this.pluginMap.set(t,e=this.plugins.find(e=>e.spec==t)||null),e&&e.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}blockAtHeight(t,e){let i=Sn(e,this);return this.elementAtHeight(t-i).moveY(i)}elementAtHeight(t){return this.readMeasured(),this.viewState.elementAtHeight(t)}visualLineAtHeight(t,e){let i=Sn(e,this);return this.lineBlockAtHeight(t-i).moveY(i)}lineBlockAtHeight(t){return this.readMeasured(),this.viewState.lineBlockAtHeight(t)}viewportLines(t,e){let i=Sn(e,this);for(let n of this.viewportLineBlocks)t(n.moveY(i))}get viewportLineBlocks(){return this.viewState.viewportLines}visualLineAt(t,e=0){return this.lineBlockAt(t).moveY(e+this.viewState.paddingTop)}lineBlockAt(t){return this.viewState.lineBlockAt(t)}get contentHeight(){return this.viewState.contentHeight}moveByChar(t,e,i){return Ye(this,t,Ge(this,t,e,i))}moveByGroup(t,e){return Ye(this,t,Ge(this,t,e,e=>Xe(this,t.head,e)))}moveToLineBoundary(t,e,i=!0){return $e(this,t,e,i)}moveVertically(t,e,i){return Ye(this,t,Je(this,t,e,i))}scrollPosIntoView(t){this.dispatch({effects:Wt.of(n["e"].cursor(t))})}domAtPos(t){return this.docView.domAtPos(t)}posAtDOM(t,e=0){return this.docView.posFromDOM(t,e)}posAtCoords(t,e=!0){return this.readMeasured(),Qe(this,t,e)}coordsAtPos(t,e=1){this.readMeasured();let i=this.docView.coordsAt(t,e);if(!i||i.left==i.right)return i;let n=this.state.doc.lineAt(t),s=this.bidiSpans(n),r=s[me.find(s,t-n.from,-1,e)];return T(i,r.dir==oe.LTR==e>0)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.heightOracle.direction}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(t){if(t.length>kn)return be(t.length);let e=this.textDirection;for(let n of this.bidiCache)if(n.from==t.from&&n.dir==e)return n.order;let i=we(t.text,this.textDirection);return this.bidiCache.push(new Cn(t.from,t.to,e,i)),i}get hasFocus(){var t;return(document.hasFocus()||nt.safari&&(null===(t=this.inputState)||void 0===t?void 0:t.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{B(this.contentDOM),this.docView.updateSelection()})}destroy(){for(let t of this.plugins)t.destroy(this);this.plugins=[],this.inputState.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(t,e={}){return Ft.of(new jt("number"==typeof t?n["e"].cursor(t):t,e.y,e.x,e.yMargin,e.xMargin))}static domEventHandlers(t){return Jt.define(()=>({}),{eventHandlers:t})}static theme(t,e){let i=r["a"].newName(),n=[sn.of(i),ne.of(cn("."+i,t))];return e&&e.dark&&n.push(rn.of(!0)),n}static baseTheme(t){return n["i"].lowest(ne.of(cn("."+on,t,hn)))}}xn.scrollTo=Wt,xn.centerOn=qt,xn.styleModule=ne,xn.inputHandler=Ht,xn.exceptionSink=Vt,xn.updateListener=zt,xn.editable=Ut,xn.mouseSelectionStyle=It,xn.dragMovesSelection=Lt,xn.clickAddsSelectionRange=Nt,xn.decorations=ie,xn.darkTheme=rn,xn.contentAttributes=ee,xn.editorAttributes=te,xn.lineWrapping=xn.contentAttributes.of({class:"cm-lineWrapping"}),xn.announce=n["j"].define();const kn=4096;function Sn(t,e){return(null==t?e.contentDOM.getBoundingClientRect().top:t)+e.viewState.paddingTop}const On={};class Cn{constructor(t,e,i,n){this.from=t,this.to=e,this.dir=i,this.order=n}static update(t,e){if(e.empty)return t;let i=[],n=t.length?t[t.length-1].dir:oe.LTR;for(let s=Math.max(0,t.length-10);s<t.length;s++){let r=t[s];r.dir!=n||e.touchesRange(r.from,r.to)||i.push(new Cn(e.mapPos(r.from,1),e.mapPos(r.to,-1),r.dir,r.order))}return i}}function An(t,e,i){for(let n=t.state.facet(e),s=n.length-1;s>=0;s--){let e=n[s],r="function"==typeof e?e(t):e;r&&vt(r,i)}return i}const Mn=nt.mac?"mac":nt.windows?"win":nt.linux?"linux":"key";function Tn(t,e){const i=t.split(/-(?!$)/);let n,s,r,o,l=i[i.length-1];"Space"==l&&(l=" ");for(let a=0;a<i.length-1;++a){const t=i[a];if(/^(cmd|meta|m)$/i.test(t))o=!0;else if(/^a(lt)?$/i.test(t))n=!0;else if(/^(c|ctrl|control)$/i.test(t))s=!0;else if(/^s(hift)?$/i.test(t))r=!0;else{if(!/^mod$/i.test(t))throw new Error("Unrecognized modifier name: "+t);"mac"==e?o=!0:s=!0}}return n&&(l="Alt-"+l),s&&(l="Ctrl-"+l),o&&(l="Meta-"+l),r&&(l="Shift-"+l),l}function Dn(t,e,i){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),!1!==i&&e.shiftKey&&(t="Shift-"+t),t}const Pn=xn.domEventHandlers({keydown(t,e){return Vn(Rn(e.state),t,e,"editor")}}),_n=n["g"].define({enables:Pn}),En=new WeakMap;function Rn(t){let e=t.facet(_n),i=En.get(e);return i||En.set(e,i=In(e.reduce((t,e)=>t.concat(e),[]))),i}function Bn(t,e,i){return Vn(Rn(t.state),e,t,i)}let Nn=null;const Ln=4e3;function In(t,e=Mn){let i=Object.create(null),n=Object.create(null),s=(t,e)=>{let i=n[t];if(null==i)n[t]=e;else if(i!=e)throw new Error("Key binding "+t+" is used both as a regular binding and as a multi-stroke prefix")},r=(t,n,r,o)=>{let l=i[t]||(i[t]=Object.create(null)),a=n.split(/ (?!$)/).map(t=>Tn(t,e));for(let e=1;e<a.length;e++){let i=a.slice(0,e).join(" ");s(i,!0),l[i]||(l[i]={preventDefault:!0,commands:[e=>{let n=Nn={view:e,prefix:i,scope:t};return setTimeout(()=>{Nn==n&&(Nn=null)},Ln),!0}]})}let h=a.join(" ");s(h,!1);let c=l[h]||(l[h]={preventDefault:!1,commands:[]});c.commands.push(r),o&&(c.preventDefault=!0)};for(let o of t){let t=o[e]||o.key;if(t)for(let e of o.scope?o.scope.split(" "):["editor"])r(e,t,o.run,o.preventDefault),o.shift&&r(e,"Shift-"+t,o.shift,o.preventDefault)}return i}function Vn(t,e,i,n){let s=v(e),r=1==s.length&&" "!=s,o="",a=!1;Nn&&Nn.view==i&&Nn.scope==n&&(o=Nn.prefix+" ",(a=ei.indexOf(e.keyCode)<0)&&(Nn=null));let h,c=t=>{if(t){for(let e of t.commands)if(e(i))return!0;t.preventDefault&&(a=!0)}return!1},u=t[n];if(u){if(c(u[o+Dn(s,e,!r)]))return!0;if(r&&(e.shiftKey||e.altKey||e.metaKey)&&(h=l[e.keyCode])&&h!=s){if(c(u[o+Dn(h,e,!0)]))return!0}else if(r&&e.shiftKey&&c(u[o+Dn(s,e,!0)]))return!0}return a}const zn=!nt.ios;const Hn={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"}}};zn&&(Hn[".cm-line"].caretColor="transparent !important");const Wn=n["j"].define({map(t,e){return null==t?null:e.mapPos(t)}}),qn=n["k"].define({create(){return null},update(t,e){return null!=t&&(t=e.changes.mapPos(t)),e.effects.reduce((t,e)=>e.is(Wn)?e.value:t,t)}}),jn=Jt.fromClass(class{constructor(t){this.view=t,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(t){var e;let i=t.state.field(qn);null==i?null!=this.cursor&&(null===(e=this.cursor)||void 0===e||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(t.startState.field(qn)!=i||t.docChanged||t.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let t=this.view.state.field(qn),e=null!=t&&this.view.coordsAtPos(t);if(!e)return null;let i=this.view.scrollDOM.getBoundingClientRect();return{left:e.left-i.left+this.view.scrollDOM.scrollLeft,top:e.top-i.top+this.view.scrollDOM.scrollTop,height:e.bottom-e.top}}drawCursor(t){this.cursor&&(t?(this.cursor.style.left=t.left+"px",this.cursor.style.top=t.top+"px",this.cursor.style.height=t.height+"px"):this.cursor.style.left="-100000px")}destroy(){this.cursor&&this.cursor.remove()}setDropPos(t){this.view.state.field(qn)!=t&&this.view.dispatch({effects:Wn.of(t)})}},{eventHandlers:{dragover(t){this.setDropPos(this.view.posAtCoords({x:t.clientX,y:t.clientY}))},dragleave(t){t.target!=this.view.contentDOM&&this.view.contentDOM.contains(t.relatedTarget)||this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function Fn(){return[qn,jn]}function Qn(t,e,i,n,s){e.lastIndex=0;for(let r,o=t.iterRange(i,n),l=i;!o.next().done;l+=o.value.length)if(!o.lineBreak)while(r=e.exec(o.value))s(l+r.index,l+r.index+r[0].length,r)}function Un(t,e){let i=t.visibleRanges;if(1==i.length&&i[0].from==t.viewport.from&&i[0].to==t.viewport.to)return i;let n=[];for(let{from:s,to:r}of i)s=Math.max(t.state.doc.lineAt(s).from,s-e),r=Math.min(t.state.doc.lineAt(r).to,r+e),n.length&&n[n.length-1].to>=s?n[n.length-1].to=r:n.push({from:s,to:r});return n}class Kn{constructor(t){let{regexp:e,decoration:i,boundary:n,maxLength:s=1e3}=t;if(!e.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");this.regexp=e,this.getDeco="function"==typeof i?i:()=>i,this.boundary=n,this.maxLength=s}createDeco(t){let e=new o["b"];for(let{from:i,to:n}of Un(t,this.maxLength))Qn(t.state.doc,this.regexp,i,n,(i,n,s)=>e.add(i,n,this.getDeco(s,t,i)));return e.finish()}updateDeco(t,e){let i=1e9,n=-1;return t.docChanged&&t.changes.iterChanges((e,s,r,o)=>{o>t.view.viewport.from&&r<t.view.viewport.to&&(i=Math.min(r,i),n=Math.max(o,n))}),t.viewportChanged||n-i>1e3?this.createDeco(t.view):n>-1?this.updateRange(t.view,e.map(t.changes),i,n):e}updateRange(t,e,i,n){for(let s of t.visibleRanges){let r=Math.max(s.from,i),o=Math.min(s.to,n);if(o>r){let i=t.state.doc.lineAt(r),n=i.to<o?t.state.doc.lineAt(o):i,l=Math.max(s.from,i.from),a=Math.min(s.to,n.to);if(this.boundary){for(;r>i.from;r--)if(this.boundary.test(i.text[r-1-i.from])){l=r;break}for(;o<n.to;o++)if(this.boundary.test(n.text[o-n.from])){a=o;break}}let h,c=[];if(i==n){this.regexp.lastIndex=l-i.from;while((h=this.regexp.exec(i.text))&&h.index<a-i.from){let e=h.index+i.from;c.push(this.getDeco(h,t,e).range(e,e+h[0].length))}}else Qn(t.state.doc,this.regexp,l,a,(e,i,n)=>c.push(this.getDeco(n,t,e).range(e,i)));e=e.update({filterFrom:l,filterTo:a,filter:(t,e)=>t<l||e>a,add:c})}}return e}}const $n=null!=/x/.unicode?"gu":"g",Gn=new RegExp("[\0-\b\n--­؜​‎‏\u2028\u2029‭‮\ufeff￹-￼]",$n),Xn={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let Jn=null;function Yn(){var t;if(null==Jn&&"undefined"!=typeof document&&document.body){let e=document.body.style;Jn=null!=(null!==(t=e.tabSize)&&void 0!==t?t:e.MozTabSize)}return Jn||!1}const Zn=n["g"].define({combine(t){let e=Object(n["m"])(t,{render:null,specialChars:Gn,addSpecialChars:null});return(e.replaceTabs=!Yn())&&(e.specialChars=new RegExp("\t|"+e.specialChars.source,$n)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,$n)),e}});function ts(t={}){return[Zn.of(t),is()]}let es=null;function is(){return es||(es=Jt.fromClass(class{constructor(t){this.view=t,this.decorations=kt.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(t.state.facet(Zn)),this.decorations=this.decorator.createDeco(t)}makeDecorator(t){return new Kn({regexp:t.specialChars,decoration:(e,i,n)=>{let{doc:r}=i.state,o=Object(s["b"])(e[0],0);if(9==o){let t=r.lineAt(n),e=i.state.tabSize,o=Object(s["d"])(t.text,e,n-t.from);return kt.replace({widget:new os((e-o%e)*this.view.defaultCharacterWidth)})}return this.decorationCache[o]||(this.decorationCache[o]=kt.replace({widget:new rs(t,o)}))},boundary:t.replaceTabs?void 0:/[^]/})}update(t){let e=t.state.facet(Zn);t.startState.facet(Zn)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(t.view)):this.decorations=this.decorator.updateDeco(t,this.decorations)}},{decorations:t=>t.decorations}))}const ns="•";function ss(t){return t>=32?ns:10==t?"␤":String.fromCharCode(9216+t)}class rs extends yt{constructor(t,e){super(),this.options=t,this.code=e}eq(t){return t.code==this.code}toDOM(t){let e=ss(this.code),i=t.state.phrase("Control character")+" "+(Xn[this.code]||"0x"+this.code.toString(16)),n=this.options.render&&this.options.render(this.code,i,e);if(n)return n;let s=document.createElement("span");return s.textContent=e,s.title=i,s.setAttribute("aria-label",i),s.className="cm-specialChar",s}ignoreEvent(){return!1}}class os extends yt{constructor(t){super(),this.width=t}eq(t){return t.width==this.width}toDOM(){let t=document.createElement("span");return t.textContent="\t",t.className="cm-tab",t.style.width=this.width+"px",t}ignoreEvent(){return!1}}function ls(){return hs}const as=kt.line({class:"cm-activeLine"}),hs=Jt.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.docChanged||t.selectionSet)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=-1,i=[];for(let n of t.state.selection.ranges){if(!n.empty)return kt.none;let s=t.lineBlockAt(n.head);s.from>e&&(i.push(as.range(s.from)),e=s.from)}return kt.set(i)}},{decorations:t=>t.decorations})},"08f3":function(t,e,i){"use strict";i.d(e,"c",(function(){return s})),i.d(e,"b",(function(){return r})),i.d(e,"d",(function(){return o})),i.d(e,"a",(function(){return l}));i("dca8");var n=i("91de"),s=Object.freeze({PROTECTED:1,NORMAL:0}),r=Object.freeze({DETAIL:"detail",CREATE:"create",EDIT:"edit",DELETE:"delete",COPY:"copy"}),o=Object.freeze({LIST:0,MODULE:1}),l=Object.freeze([{label:"Oracle",value:1,dialect:n["c"],lang:"plsql",icon32:"images/database/oracle_mini_32.png",icon64:"images/database/oracle_large_64.png",iconSvg:"images/database/oracle.svg"},{label:"MySQL",value:2,dialect:n["b"],lang:"mysql",icon32:"images/database/mysql_mini_32.png",icon64:"images/database/mysql_large_64.png",iconSvg:"images/database/mysql.svg"},{label:"SQL Server",value:3,dialect:n["a"],lang:"tsql",icon32:"images/database/sqlserver_mini_32.png",icon64:"images/database/sqlserver_large_64.png",iconSvg:"images/database/sqlserver.svg"},{label:"PostgreSQL",value:4,dialect:n["d"],lang:"postgresql",icon32:"images/database/postgresql_mini_32.png",icon64:"images/database/postgresql_large_64.png",iconSvg:"images/database/postgresql.svg"},{label:"SQLite",value:5,dialect:n["e"],lang:"sql",icon32:"images/database/sqlite_mini_32.png",icon64:"images/database/sqlite_large_64.png",iconSvg:"images/database/sqlite.svg"}])},"2cfc":function(t,e,i){"use strict";(function(t){i.d(e,"a",(function(){return f})),i.d(e,"b",(function(){return A}));var n,s=i("9669");class r{constructor(t,e,i,n,s,r,o,l,a,h=0,c){this.p=t,this.stack=e,this.state=i,this.reducePos=n,this.pos=s,this.score=r,this.buffer=o,this.bufferBase=l,this.curContext=a,this.lookAhead=h,this.parent=c}toString(){return`[${this.stack.filter((t,e)=>e%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(t,e,i=0){let n=t.parser.context;return new r(t,[],e,i,i,0,[],0,n?new o(n,n.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(t,e){this.stack.push(this.state,e,this.bufferBase+this.buffer.length),this.state=t}reduce(t){let e=t>>19,i=65535&t,{parser:n}=this.p,s=n.dynamicPrecedence(i);if(s&&(this.score+=s),0==e)return this.pushState(n.getGoto(this.state,i,!0),this.reducePos),i<n.minRepeatTerm&&this.storeNode(i,this.reducePos,this.reducePos,4,!0),void this.reduceContext(i,this.reducePos);let r=this.stack.length-3*(e-1)-(262144&t?6:0),o=this.stack[r-2],l=this.stack[r-1],a=this.bufferBase+this.buffer.length-l;if(i<n.minRepeatTerm||131072&t){let t=n.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(i,o,t,a+4,!0)}if(262144&t)this.state=this.stack[r];else{let t=this.stack[r-3];this.state=n.getGoto(t,i,!0)}while(this.stack.length>r)this.stack.pop();this.reduceContext(i,o)}storeNode(t,e,i,n=4,s=!1){if(0==t){let t=this,n=this.buffer.length;if(0==n&&t.parent&&(n=t.bufferBase-t.parent.bufferBase,t=t.parent),n>0&&0==t.buffer[n-4]&&t.buffer[n-1]>-1){if(e==i)return;if(t.buffer[n-2]>=e)return void(t.buffer[n-2]=i)}}if(s&&this.pos!=i){let s=this.buffer.length;if(s>0&&0!=this.buffer[s-4])while(s>0&&this.buffer[s-2]>i)this.buffer[s]=this.buffer[s-4],this.buffer[s+1]=this.buffer[s-3],this.buffer[s+2]=this.buffer[s-2],this.buffer[s+3]=this.buffer[s-1],s-=4,n>4&&(n-=4);this.buffer[s]=t,this.buffer[s+1]=e,this.buffer[s+2]=i,this.buffer[s+3]=n}else this.buffer.push(t,e,i,n)}shift(t,e,i){let n=this.pos;if(131072&t)this.pushState(65535&t,this.pos);else if(0==(262144&t)){let s=t,{parser:r}=this.p;(i>this.pos||e<=r.maxNode)&&(this.pos=i,r.stateFlag(s,1)||(this.reducePos=i)),this.pushState(s,n),this.shiftContext(e,n),e<=r.maxNode&&this.buffer.push(e,n,i,4)}else this.pos=i,this.shiftContext(e,n),e<=this.p.parser.maxNode&&this.buffer.push(e,n,i,4)}apply(t,e,i){65536&t?this.reduce(t):this.shift(t,e,i)}useNode(t,e){let i=this.p.reused.length-1;(i<0||this.p.reused[i]!=t)&&(this.p.reused.push(t),i++);let n=this.pos;this.reducePos=this.pos=n+t.length,this.pushState(e,n),this.buffer.push(i,n,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,t,this,this.p.stream.reset(this.pos-t.length)))}split(){let t=this,e=t.buffer.length;while(e>0&&t.buffer[e-2]>t.reducePos)e-=4;let i=t.buffer.slice(e),n=t.bufferBase+e;while(t&&n==t.bufferBase)t=t.parent;return new r(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,i,n,this.curContext,this.lookAhead,t)}recoverByDelete(t,e){let i=t<=this.p.parser.maxNode;i&&this.storeNode(t,this.pos,e,4),this.storeNode(0,this.pos,e,i?8:4),this.pos=this.reducePos=e,this.score-=190}canShift(t){for(let e=new l(this);;){let i=this.p.parser.stateSlot(e.state,4)||this.p.parser.hasAction(e.state,t);if(0==(65536&i))return!0;if(0==i)return!1;e.reduce(i)}}recoverByInsert(t){if(this.stack.length>=300)return[];let e=this.p.parser.nextStates(this.state);if(e.length>8||this.stack.length>=120){let i=[];for(let n,s=0;s<e.length;s+=2)(n=e[s+1])!=this.state&&this.p.parser.hasAction(n,t)&&i.push(e[s],n);if(this.stack.length<120)for(let t=0;i.length<8&&t<e.length;t+=2){let n=e[t+1];i.some((t,e)=>1&e&&t==n)||i.push(e[t],n)}e=i}let i=[];for(let n=0;n<e.length&&i.length<4;n+=2){let t=e[n+1];if(t==this.state)continue;let s=this.split();s.storeNode(0,s.pos,s.pos,4,!0),s.pushState(t,this.pos),s.shiftContext(e[n],this.pos),s.score-=200,i.push(s)}return i}forceReduce(){let t=this.p.parser.stateSlot(this.state,5);if(0==(65536&t))return!1;let{parser:e}=this.p;if(!e.validAction(this.state,t)){let i=t>>19,n=65535&t,s=this.stack.length-3*i;if(s<0||e.getGoto(this.stack[s],n,!1)<0)return!1;this.storeNode(0,this.reducePos,this.reducePos,4,!0),this.score-=100}return this.reduce(t),!0}forceAll(){while(!this.p.parser.stateFlag(this.state,2))if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(3!=this.stack.length)return!1;let{parser:t}=this.p;return 65535==t.data[t.stateSlot(this.state,1)]&&!t.stateSlot(this.state,4)}restart(){this.state=this.stack[0],this.stack.length=0}sameState(t){if(this.state!=t.state||this.stack.length!=t.stack.length)return!1;for(let e=0;e<this.stack.length;e+=3)if(this.stack[e]!=t.stack[e])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(t){return this.p.parser.dialect.flags[t]}shiftContext(t,e){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,t,this,this.p.stream.reset(e)))}reduceContext(t,e){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,t,this,this.p.stream.reset(e)))}emitContext(){let t=this.buffer.length-1;(t<0||-3!=this.buffer[t])&&this.buffer.push(this.curContext.hash,this.reducePos,this.reducePos,-3)}emitLookAhead(){let t=this.buffer.length-1;(t<0||-4!=this.buffer[t])&&this.buffer.push(this.lookAhead,this.reducePos,this.reducePos,-4)}updateContext(t){if(t!=this.curContext.context){let e=new o(this.curContext.tracker,t);e.hash!=this.curContext.hash&&this.emitContext(),this.curContext=e}}setLookAhead(t){t>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=t)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class o{constructor(t,e){this.tracker=t,this.context=e,this.hash=t.strict?t.hash(e):0}}(function(t){t[t["Insert"]=200]="Insert",t[t["Delete"]=190]="Delete",t[t["Reduce"]=100]="Reduce",t[t["MaxNext"]=4]="MaxNext",t[t["MaxInsertStackDepth"]=300]="MaxInsertStackDepth",t[t["DampenInsertStackDepth"]=120]="DampenInsertStackDepth"})(n||(n={}));class l{constructor(t){this.start=t,this.state=t.state,this.stack=t.stack,this.base=this.stack.length}reduce(t){let e=65535&t,i=t>>19;0==i?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=3*(i-1);let n=this.start.p.parser.getGoto(this.stack[this.base-3],e,!0);this.state=n}}class a{constructor(t,e,i){this.stack=t,this.pos=e,this.index=i,this.buffer=t.buffer,0==this.index&&this.maybeNext()}static create(t,e=t.bufferBase+t.buffer.length){return new a(t,e,e-t.bufferBase)}maybeNext(){let t=this.stack.parent;null!=t&&(this.index=this.stack.bufferBase-t.bufferBase,this.stack=t,this.buffer=t.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,0==this.index&&this.maybeNext()}fork(){return new a(this.stack,this.pos,this.index)}}class h{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const c=new h;class u{constructor(t,e){this.input=t,this.ranges=e,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=c,this.rangeIndex=0,this.pos=this.chunkPos=e[0].from,this.range=e[0],this.end=e[e.length-1].to,this.readNext()}resolveOffset(t,e){let i=this.range,n=this.rangeIndex,s=this.pos+t;while(s<i.from){if(!n)return null;let t=this.ranges[--n];s-=i.from-t.to,i=t}while(e<0?s>i.to:s>=i.to){if(n==this.ranges.length-1)return null;let t=this.ranges[++n];s+=t.from-i.to,i=t}return s}peek(t){let e,i,n=this.chunkOff+t;if(n>=0&&n<this.chunk.length)e=this.pos+t,i=this.chunk.charCodeAt(n);else{let n=this.resolveOffset(t,1);if(null==n)return-1;if(e=n,e>=this.chunk2Pos&&e<this.chunk2Pos+this.chunk2.length)i=this.chunk2.charCodeAt(e-this.chunk2Pos);else{let t=this.rangeIndex,n=this.range;while(n.to<=e)n=this.ranges[++t];this.chunk2=this.input.chunk(this.chunk2Pos=e),e+this.chunk2.length>n.to&&(this.chunk2=this.chunk2.slice(0,n.to-e)),i=this.chunk2.charCodeAt(0)}}return e>=this.token.lookAhead&&(this.token.lookAhead=e+1),i}acceptToken(t,e=0){let i=e?this.resolveOffset(e,-1):this.pos;if(null==i||i<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=t,this.token.end=i}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:t,chunkPos:e}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=t,this.chunk2Pos=e,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let t=this.input.chunk(this.pos),e=this.pos+t.length;this.chunk=e>this.range.to?t.slice(0,this.range.to-this.pos):t,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(t=1){this.chunkOff+=t;while(this.pos+t>=this.range.to){if(this.rangeIndex==this.ranges.length-1)return this.setDone();t-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=t,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(t,e){if(e?(this.token=e,e.start=t,e.lookAhead=t+1,e.value=e.extended=-1):this.token=c,this.pos!=t){if(this.pos=t,t==this.end)return this.setDone(),this;while(t<this.range.from)this.range=this.ranges[--this.rangeIndex];while(t>=this.range.to)this.range=this.ranges[++this.rangeIndex];t>=this.chunkPos&&t<this.chunkPos+this.chunk.length?this.chunkOff=t-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(t,e){if(t>=this.chunkPos&&e<=this.chunkPos+this.chunk.length)return this.chunk.slice(t-this.chunkPos,e-this.chunkPos);if(t>=this.chunk2Pos&&e<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(t-this.chunk2Pos,e-this.chunk2Pos);if(t>=this.range.from&&e<=this.range.to)return this.input.read(t,e);let i="";for(let n of this.ranges){if(n.from>=e)break;n.to>t&&(i+=this.input.read(Math.max(n.from,t),Math.min(n.to,e)))}return i}}class d{constructor(t,e){this.data=t,this.id=e}token(t,e){p(this.data,t,e,this.id)}}d.prototype.contextual=d.prototype.fallback=d.prototype.extend=!1;class f{constructor(t,e={}){this.token=t,this.contextual=!!e.contextual,this.fallback=!!e.fallback,this.extend=!!e.extend}}function p(t,e,i,n){let s=0,r=1<<n,{parser:o}=i.p,{dialect:l}=o;t:for(;;){if(0==(r&t[s]))break;let i=t[s+1];for(let n=s+3;n<i;n+=2)if((t[n+1]&r)>0){let i=t[n];if(l.allows(i)&&(-1==e.token.value||e.token.value==i||o.overrides(i,e.token.value))){e.acceptToken(i);break}}for(let n=e.next,r=0,o=t[s+2];r<o;){let l=r+o>>1,a=i+l+(l<<1),h=t[a],c=t[a+1];if(n<h)o=l;else{if(!(n>=c)){s=t[a+2],e.advance();continue t}r=l+1}}break}}function g(t,e=Uint16Array){if("string"!=typeof t)return t;let i=null;for(let n=0,s=0;n<t.length;){let r=0;for(;;){let e=t.charCodeAt(n++),i=!1;if(126==e){r=65535;break}e>=92&&e--,e>=34&&e--;let s=e-32;if(s>=46&&(s-=46,i=!0),r+=s,i)break;r*=46}i?i[s++]=r:i=new e(r)}return i}const m="undefined"!=typeof t&&/\bparse\b/.test(Object({NODE_ENV:"production",VUE_APP_I18N_LOCALE:"zh",VUE_APP_I18N_FALLBACK_LOCALE:"en",BASE_URL:""}).LOG);let v=null;var w,b;function y(t,e,i){let n=t.fullCursor();for(n.moveTo(e);;)if(!(i<0?n.childBefore(e):n.childAfter(e)))for(;;){if((i<0?n.to<e:n.from>e)&&!n.type.isError)return i<0?Math.max(0,Math.min(n.to-1,e-25)):Math.min(t.length,Math.max(n.from+1,e+25));if(i<0?n.prevSibling():n.nextSibling())break;if(!n.parent())return i<0?0:t.length}}(function(t){t[t["Margin"]=25]="Margin"})(w||(w={}));class x{constructor(t,e){this.fragments=t,this.nodeSet=e,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let t=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(t){this.safeFrom=t.openStart?y(t.tree,t.from+t.offset,1)-t.offset:t.from,this.safeTo=t.openEnd?y(t.tree,t.to+t.offset,-1)-t.offset:t.to;while(this.trees.length)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(t.tree),this.start.push(-t.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(t){if(t<this.nextStart)return null;while(this.fragment&&this.safeTo<=t)this.nextFragment();if(!this.fragment)return null;for(;;){let e=this.trees.length-1;if(e<0)return this.nextFragment(),null;let i=this.trees[e],n=this.index[e];if(n==i.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let r=i.children[n],o=this.start[e]+i.positions[n];if(o>t)return this.nextStart=o,null;if(r instanceof s["f"]){if(o==t){if(o<this.safeFrom)return null;let t=o+r.length;if(t<=this.safeTo){let e=r.prop(s["b"].lookAhead);if(!e||t+e<this.fragment.to)return r}}this.index[e]++,o+r.length>=Math.max(this.safeFrom,t)&&(this.trees.push(r),this.start.push(o),this.index.push(0))}else this.index[e]++,this.nextStart=o+r.length}}}class k{constructor(t,e){this.stream=e,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=t.tokenizers.map(t=>new h)}getActions(t){let e=0,i=null,{parser:n}=t.p,{tokenizers:s}=n,r=n.stateSlot(t.state,3),o=t.curContext?t.curContext.hash:0,l=0;for(let a=0;a<s.length;a++){if(0==(1<<a&r))continue;let n=s[a],h=this.tokens[a];if((!i||n.fallback)&&((n.contextual||h.start!=t.pos||h.mask!=r||h.context!=o)&&(this.updateCachedToken(h,n,t),h.mask=r,h.context=o),h.lookAhead>h.end+25&&(l=Math.max(h.lookAhead,l)),0!=h.value)){let s=e;if(h.extended>-1&&(e=this.addActions(t,h.extended,h.end,e)),e=this.addActions(t,h.value,h.end,e),!n.extend&&(i=h,e>s))break}}while(this.actions.length>e)this.actions.pop();return l&&t.setLookAhead(l),i||t.pos!=this.stream.end||(i=new h,i.value=t.p.parser.eofTerm,i.start=i.end=t.pos,e=this.addActions(t,i.value,i.end,e)),this.mainToken=i,this.actions}getMainToken(t){if(this.mainToken)return this.mainToken;let e=new h,{pos:i,p:n}=t;return e.start=i,e.end=Math.min(i+1,n.stream.end),e.value=i==n.stream.end?n.parser.eofTerm:0,e}updateCachedToken(t,e,i){if(e.token(this.stream.reset(i.pos,t),i),t.value>-1){let{parser:e}=i.p;for(let n=0;n<e.specialized.length;n++)if(e.specialized[n]==t.value){let s=e.specializers[n](this.stream.read(t.start,t.end),i);if(s>=0&&i.p.parser.dialect.allows(s>>1)){0==(1&s)?t.value=s>>1:t.extended=s>>1;break}}}else t.value=0,t.end=Math.min(i.p.stream.end,i.pos+1)}putAction(t,e,i,n){for(let s=0;s<n;s+=3)if(this.actions[s]==t)return n;return this.actions[n++]=t,this.actions[n++]=e,this.actions[n++]=i,n}addActions(t,e,i,n){let{state:s}=t,{parser:r}=t.p,{data:o}=r;for(let l=0;l<2;l++)for(let t=r.stateSlot(s,l?2:1);;t+=3){if(65535==o[t]){if(1!=o[t+1]){0==n&&2==o[t+1]&&(n=this.putAction(M(o,t+2),e,i,n));break}t=M(o,t+2)}o[t]==e&&(n=this.putAction(M(o,t+1),e,i,n))}return n}}(function(t){t[t["Distance"]=5]="Distance",t[t["MaxRemainingPerStep"]=3]="MaxRemainingPerStep",t[t["MinBufferLengthPrune"]=500]="MinBufferLengthPrune",t[t["ForceReduceLimit"]=10]="ForceReduceLimit",t[t["CutDepth"]=15e3]="CutDepth",t[t["CutTo"]=9e3]="CutTo"})(b||(b={}));class S{constructor(t,e,i,n){this.parser=t,this.input=e,this.ranges=n,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.stream=new u(e,n),this.tokens=new k(t,this.stream),this.topTerm=t.top[1];let{from:s}=n[0];this.stacks=[r.start(this,t.top[0],s)],this.fragments=i.length&&this.stream.end-s>4*t.bufferLength?new x(i,t.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let t,e,i=this.stacks,n=this.minStackPos,s=this.stacks=[];for(let r=0;r<i.length;r++){let o=i[r];for(;;){if(this.tokens.mainToken=null,o.pos>n)s.push(o);else{if(this.advanceStack(o,s,i))continue;{t||(t=[],e=[]),t.push(o);let i=this.tokens.getMainToken(o);e.push(i.value,i.end)}}break}}if(!s.length){let e=t&&D(t);if(e)return this.stackToTree(e);if(this.parser.strict)throw m&&t&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+n);this.recovering||(this.recovering=5)}if(this.recovering&&t){let i=null!=this.stoppedAt&&t[0].pos>this.stoppedAt?t[0]:this.runRecovery(t,e,s);if(i)return this.stackToTree(i.forceAll())}if(this.recovering){let t=1==this.recovering?1:3*this.recovering;if(s.length>t){s.sort((t,e)=>e.score-t.score);while(s.length>t)s.pop()}s.some(t=>t.reducePos>n)&&this.recovering--}else if(s.length>1)t:for(let r=0;r<s.length-1;r++){let t=s[r];for(let e=r+1;e<s.length;e++){let i=s[e];if(t.sameState(i)||t.buffer.length>500&&i.buffer.length>500){if(!((t.score-i.score||t.buffer.length-i.buffer.length)>0)){s.splice(r--,1);continue t}s.splice(e--,1)}}}this.minStackPos=s[0].pos;for(let r=1;r<s.length;r++)s[r].pos<this.minStackPos&&(this.minStackPos=s[r].pos);return null}stopAt(t){if(null!=this.stoppedAt&&this.stoppedAt<t)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=t}advanceStack(t,e,i){let n=t.pos,{parser:r}=this,o=m?this.stackID(t)+" -> ":"";if(null!=this.stoppedAt&&n>this.stoppedAt)return t.forceReduce()?t:null;if(this.fragments){let e=t.curContext&&t.curContext.tracker.strict,i=e?t.curContext.hash:0;for(let l=this.fragments.nodeAt(n);l;){let n=this.parser.nodeSet.types[l.type.id]==l.type?r.getGoto(t.state,l.type.id):-1;if(n>-1&&l.length&&(!e||(l.prop(s["b"].contextHash)||0)==i))return t.useNode(l,n),m&&console.log(o+this.stackID(t)+` (via reuse of ${r.getName(l.type.id)})`),!0;if(!(l instanceof s["f"])||0==l.children.length||l.positions[0]>0)break;let a=l.children[0];if(!(a instanceof s["f"]&&0==l.positions[0]))break;l=a}}let l=r.stateSlot(t.state,4);if(l>0)return t.reduce(l),m&&console.log(o+this.stackID(t)+` (via always-reduce ${r.getName(65535&l)})`),!0;if(t.stack.length>=15e3)while(t.stack.length>9e3&&t.forceReduce());let a=this.tokens.getActions(t);for(let s=0;s<a.length;){let l=a[s++],h=a[s++],c=a[s++],u=s==a.length||!i,d=u?t:t.split();if(d.apply(l,h,c),m&&console.log(o+this.stackID(d)+` (via ${0==(65536&l)?"shift":"reduce of "+r.getName(65535&l)} for ${r.getName(h)} @ ${n}${d==t?"":", split"})`),u)return!0;d.pos>n?e.push(d):i.push(d)}return!1}advanceFully(t,e){let i=t.pos;for(;;){if(!this.advanceStack(t,null,null))return!1;if(t.pos>i)return O(t,e),!0}}runRecovery(t,e,i){let n=null,s=!1;for(let r=0;r<t.length;r++){let o=t[r],l=e[r<<1],a=e[1+(r<<1)],h=m?this.stackID(o)+" -> ":"";if(o.deadEnd){if(s)continue;s=!0,o.restart(),m&&console.log(h+this.stackID(o)+" (restarted)");let t=this.advanceFully(o,i);if(t)continue}let c=o.split(),u=h;for(let t=0;c.forceReduce()&&t<10;t++){m&&console.log(u+this.stackID(c)+" (via force-reduce)");let t=this.advanceFully(c,i);if(t)break;m&&(u=this.stackID(c)+" -> ")}for(let t of o.recoverByInsert(l))m&&console.log(h+this.stackID(t)+" (via recover-insert)"),this.advanceFully(t,i);this.stream.end>o.pos?(a==o.pos&&(a++,l=0),o.recoverByDelete(l,a),m&&console.log(h+this.stackID(o)+` (via recover-delete ${this.parser.getName(l)})`),O(o,i)):(!n||n.score<o.score)&&(n=o)}return n}stackToTree(t){return t.close(),s["f"].build({buffer:a.create(t),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:t.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(t){let e=(v||(v=new WeakMap)).get(t);return e||v.set(t,e=String.fromCodePoint(this.nextStackID++)),e+t}}function O(t,e){for(let i=0;i<e.length;i++){let n=e[i];if(n.pos==t.pos&&n.sameState(t))return void(e[i].score<t.score&&(e[i]=t))}e.push(t)}class C{constructor(t,e,i){this.source=t,this.flags=e,this.disabled=i}allows(t){return!this.disabled||0==this.disabled[t]}}class A extends s["e"]{constructor(t){if(super(),this.wrappers=[],13!=t.version)throw new RangeError(`Parser version (${t.version}) doesn't match runtime version (13)`);let e=t.nodeNames.split(" ");this.minRepeatTerm=e.length;for(let s=0;s<t.repeatNodeCount;s++)e.push("");let i=Object.keys(t.topRules).map(e=>t.topRules[e][1]),n=[];for(let s=0;s<e.length;s++)n.push([]);function r(t,e,i){n[t].push([e,e.deserialize(String(i))])}if(t.nodeProps)for(let s of t.nodeProps){let t=s[0];for(let e=1;e<s.length;){let i=s[e++];if(i>=0)r(i,t,s[e++]);else{let n=s[e+-i];for(let o=-i;o>0;o--)r(s[e++],t,n);e++}}}this.nodeSet=new s["c"](e.map((e,r)=>s["d"].define({name:r>=this.minRepeatTerm?void 0:e,id:r,props:n[r],top:i.indexOf(r)>-1,error:0==r,skipped:t.skippedNodes&&t.skippedNodes.indexOf(r)>-1}))),this.strict=!1,this.bufferLength=s["a"];let o=g(t.tokenData);if(this.context=t.context,this.specialized=new Uint16Array(t.specialized?t.specialized.length:0),this.specializers=[],t.specialized)for(let s=0;s<t.specialized.length;s++)this.specialized[s]=t.specialized[s].term,this.specializers[s]=t.specialized[s].get;this.states=g(t.states,Uint32Array),this.data=g(t.stateData),this.goto=g(t.goto),this.maxTerm=t.maxTerm,this.tokenizers=t.tokenizers.map(t=>"number"==typeof t?new d(o,t):t),this.topRules=t.topRules,this.dialects=t.dialects||{},this.dynamicPrecedences=t.dynamicPrecedences||null,this.tokenPrecTable=t.tokenPrec,this.termNames=t.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(t,e,i){let n=new S(this,t,e,i);for(let s of this.wrappers)n=s(n,t,e,i);return n}getGoto(t,e,i=!1){let n=this.goto;if(e>=n[0])return-1;for(let s=n[e+1];;){let e=n[s++],r=1&e,o=n[s++];if(r&&i)return o;for(let i=s+(e>>1);s<i;s++)if(n[s]==t)return o;if(r)return-1}}hasAction(t,e){let i=this.data;for(let n=0;n<2;n++)for(let s,r=this.stateSlot(t,n?2:1);;r+=3){if(65535==(s=i[r])){if(1!=i[r+1]){if(2==i[r+1])return M(i,r+2);break}s=i[r=M(i,r+2)]}if(s==e||0==s)return M(i,r+1)}return 0}stateSlot(t,e){return this.states[6*t+e]}stateFlag(t,e){return(this.stateSlot(t,0)&e)>0}validAction(t,e){if(e==this.stateSlot(t,4))return!0;for(let i=this.stateSlot(t,1);;i+=3){if(65535==this.data[i]){if(1!=this.data[i+1])return!1;i=M(this.data,i+2)}if(e==M(this.data,i+1))return!0}}nextStates(t){let e=[];for(let i=this.stateSlot(t,1);;i+=3){if(65535==this.data[i]){if(1!=this.data[i+1])break;i=M(this.data,i+2)}if(0==(1&this.data[i+2])){let t=this.data[i+1];e.some((e,i)=>1&i&&e==t)||e.push(this.data[i],t)}}return e}overrides(t,e){let i=T(this.data,this.tokenPrecTable,e);return i<0||T(this.data,this.tokenPrecTable,t)<i}configure(t){let e=Object.assign(Object.create(A.prototype),this);if(t.props&&(e.nodeSet=this.nodeSet.extend(...t.props)),t.top){let i=this.topRules[t.top];if(!i)throw new RangeError("Invalid top rule name "+t.top);e.top=i}return t.tokenizers&&(e.tokenizers=this.tokenizers.map(e=>{let i=t.tokenizers.find(t=>t.from==e);return i?i.to:e})),t.contextTracker&&(e.context=t.contextTracker),t.dialect&&(e.dialect=this.parseDialect(t.dialect)),null!=t.strict&&(e.strict=t.strict),t.wrap&&(e.wrappers=e.wrappers.concat(t.wrap)),null!=t.bufferLength&&(e.bufferLength=t.bufferLength),e}getName(t){return this.termNames?this.termNames[t]:String(t<=this.maxNode&&this.nodeSet.types[t].name||t)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(t){let e=this.dynamicPrecedences;return null==e?0:e[t]||0}parseDialect(t){let e=Object.keys(this.dialects),i=e.map(()=>!1);if(t)for(let s of t.split(" ")){let t=e.indexOf(s);t>=0&&(i[t]=!0)}let n=null;for(let s=0;s<e.length;s++)if(!i[s])for(let t,i=this.dialects[e[s]];65535!=(t=this.data[i++]);)(n||(n=new Uint8Array(this.maxTerm+1)))[t]=1;return new C(t,i,n)}static deserialize(t){return new A(t)}}function M(t,e){return t[e]|t[e+1]<<16}function T(t,e,i){for(let n,s=e;65535!=(n=t[s]);s++)if(n==i)return s-e;return-1}function D(t){let e=null;for(let i of t){let t=i.p.stoppedAt;(i.pos==i.p.stream.end||null!=t&&i.pos>t)&&i.p.parser.stateFlag(i.state,2)&&(!e||e.score<i.score)&&(e=i)}return e}}).call(this,i("4362"))},4362:function(t,e,i){e.nextTick=function(t){var e=Array.prototype.slice.call(arguments);e.shift(),setTimeout((function(){t.apply(null,e)}),0)},e.platform=e.arch=e.execPath=e.title="browser",e.pid=1,e.browser=!0,e.env={},e.argv=[],e.binding=function(t){throw new Error("No such module. (Possibly not yet loaded)")},function(){var t,n="/";e.cwd=function(){return n},e.chdir=function(e){t||(t=i("df7c")),n=t.resolve(e,n)}}(),e.exit=e.kill=e.umask=e.dlopen=e.uptime=e.memoryUsage=e.uvCounters=function(){},e.features={}},"7cad":function(t,e,i){"use strict";i.d(e,"a",(function(){return x})),i.d(e,"b",(function(){return y})),i.d(e,"c",(function(){return f}));var n=i("02d1"),s=i("e1ea");const r="undefined"!=typeof navigator&&!/Edge\/(\d+)/.exec(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)&&(/Mobile\/\w+/.test(navigator.userAgent)||navigator.maxTouchPoints>2),o="-10000px";class l{constructor(t,e,i){this.facet=e,this.createTooltipView=i,this.input=t.state.facet(e),this.tooltips=this.input.filter(t=>t),this.tooltipViews=this.tooltips.map(i)}update(t){let e=t.state.facet(this.facet),i=e.filter(t=>t);if(e===this.input){for(let e of this.tooltipViews)e.update&&e.update(t);return!1}let n=[];for(let s=0;s<i.length;s++){let e=i[s],r=-1;if(e){for(let t=0;t<this.tooltips.length;t++){let i=this.tooltips[t];i&&i.create==e.create&&(r=t)}if(r<0)n[s]=this.createTooltipView(e);else{let e=n[s]=this.tooltipViews[r];e.update&&e.update(t)}}}for(let s of this.tooltipViews)n.indexOf(s)<0&&s.dom.remove();return this.input=e,this.tooltips=i,this.tooltipViews=n,!0}}function a(){return{top:0,left:0,bottom:innerHeight,right:innerWidth}}const h=s["g"].define({combine:t=>{var e,i,n;return{position:r?"absolute":(null===(e=t.find(t=>t.position))||void 0===e?void 0:e.position)||"fixed",parent:(null===(i=t.find(t=>t.parent))||void 0===i?void 0:i.parent)||null,tooltipSpace:(null===(n=t.find(t=>t.tooltipSpace))||void 0===n?void 0:n.tooltipSpace)||a}}}),c=n["f"].fromClass(class{constructor(t){var e;this.view=t,this.inView=!0,this.lastTransaction=0,this.measureTimeout=-1;let i=t.state.facet(h);this.position=i.position,this.parent=i.parent,this.classes=t.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.manager=new l(t,f,t=>this.createTooltip(t)),this.intersectionObserver="function"==typeof IntersectionObserver?new IntersectionObserver(t=>{Date.now()>this.lastTransaction-50&&t.length>0&&t[t.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),null===(e=t.dom.ownerDocument.defaultView)||void 0===e||e.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let t of this.manager.tooltipViews)this.intersectionObserver.observe(t.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(t){t.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(t);e&&this.observeIntersection();let i=e||t.geometryChanged,n=t.state.facet(h);if(n.position!=this.position){this.position=n.position;for(let t of this.manager.tooltipViews)t.dom.style.position=this.position;i=!0}if(n.parent!=this.parent){this.parent&&this.container.remove(),this.parent=n.parent,this.createContainer();for(let t of this.manager.tooltipViews)this.container.appendChild(t.dom);i=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);i&&this.maybeMeasure()}createTooltip(t){let e=t.create(this.view);if(e.dom.classList.add("cm-tooltip"),t.arrow&&!e.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let t=document.createElement("div");t.className="cm-tooltip-arrow",e.dom.appendChild(t)}return e.dom.style.position=this.position,e.dom.style.top=o,this.container.appendChild(e.dom),e.mount&&e.mount(this.view),e}destroy(){var t,e;null===(t=this.view.dom.ownerDocument.defaultView)||void 0===t||t.removeEventListener("resize",this.measureSoon);for(let{dom:i}of this.manager.tooltipViews)i.remove();null===(e=this.intersectionObserver)||void 0===e||e.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let t=this.view.dom.getBoundingClientRect();return{editor:t,parent:this.parent?this.container.getBoundingClientRect():t,pos:this.manager.tooltips.map((t,e)=>{let i=this.manager.tooltipViews[e];return i.getCoords?i.getCoords(t.pos):this.view.coordsAtPos(t.pos)}),size:this.manager.tooltipViews.map(({dom:t})=>t.getBoundingClientRect()),space:this.view.state.facet(h).tooltipSpace(this.view)}}writeMeasure(t){let{editor:e,space:i}=t,s=[];for(let r=0;r<this.manager.tooltips.length;r++){let l=this.manager.tooltips[r],a=this.manager.tooltipViews[r],{dom:h}=a,c=t.pos[r],u=t.size[r];if(!c||c.bottom<=Math.max(e.top,i.top)||c.top>=Math.min(e.bottom,i.bottom)||c.right<Math.max(e.left,i.left)-.1||c.left>Math.min(e.right,i.right)+.1){h.style.top=o;continue}let f=l.arrow?a.dom.querySelector(".cm-tooltip-arrow"):null,p=f?7:0,g=u.right-u.left,m=u.bottom-u.top,v=a.offset||d,w=this.view.textDirection==n["c"].LTR,b=u.width>i.right-i.left?w?i.left:i.right-u.width:w?Math.min(c.left-(f?14:0)+v.x,i.right-g):Math.max(i.left,c.left-g+(f?14:0)-v.x),y=!!l.above;!l.strictSide&&(y?c.top-(u.bottom-u.top)-v.y<i.top:c.bottom+(u.bottom-u.top)+v.y>i.bottom)&&y==i.bottom-c.bottom>c.top-i.top&&(y=!y);let x=y?c.top-m-p-v.y:c.bottom+p+v.y,k=b+g;if(!0!==a.overlap)for(let t of s)t.left<k&&t.right>b&&t.top<x+m&&t.bottom>x&&(x=y?t.top-m-2-p:t.bottom+p+2);"absolute"==this.position?(h.style.top=x-t.parent.top+"px",h.style.left=b-t.parent.left+"px"):(h.style.top=x+"px",h.style.left=b+"px"),f&&(f.style.left=c.left+(w?v.x:-v.x)-(b+14-7)+"px"),!0!==a.overlap&&s.push({left:b,top:x,right:k,bottom:x+m}),h.classList.toggle("cm-tooltip-above",y),h.classList.toggle("cm-tooltip-below",!y),a.positioned&&a.positioned()}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let t of this.manager.tooltipViews)t.dom.style.top=o}},{eventHandlers:{scroll(){this.maybeMeasure()}}}),u=n["d"].baseTheme({".cm-tooltip":{zIndex:100},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:"14px",position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),d={x:0,y:0},f=s["g"].define({enables:[c,u]}),p=s["g"].define();class g{constructor(t){this.view=t,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new l(t,p,t=>this.createHostedView(t))}static create(t){return new g(t)}createHostedView(t){let e=t.create(this.view);return e.dom.classList.add("cm-tooltip-section"),this.dom.appendChild(e.dom),this.mounted&&e.mount&&e.mount(this.view),e}mount(t){for(let e of this.manager.tooltipViews)e.mount&&e.mount(t);this.mounted=!0}positioned(){for(let t of this.manager.tooltipViews)t.positioned&&t.positioned()}update(t){this.manager.update(t)}}const m=f.compute([p],t=>{let e=t.facet(p).filter(t=>t);return 0===e.length?null:{pos:Math.min(...e.map(t=>t.pos)),end:Math.max(...e.filter(t=>null!=t.end).map(t=>t.end)),create:g.create,above:e[0].above,arrow:e.some(t=>t.arrow)}});class v{constructor(t,e,i,n,s){this.view=t,this.source=e,this.field=i,this.setHover=n,this.hoverTime=s,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:t.dom,time:0},this.checkHover=this.checkHover.bind(this),t.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),t.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active)return;let t=Date.now()-this.lastMove.time;t<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-t):this.startHover()}startHover(){var t;clearTimeout(this.restartTimeout);let{lastMove:e}=this,i=this.view.contentDOM.contains(e.target)?this.view.posAtCoords(e):null;if(null==i)return;let s=this.view.coordsAtPos(i);if(null==s||e.y<s.top||e.y>s.bottom||e.x<s.left-this.view.defaultCharacterWidth||e.x>s.right+this.view.defaultCharacterWidth)return;let r=this.view.bidiSpans(this.view.state.doc.lineAt(i)).find(t=>t.from<=i&&t.to>=i),o=r&&r.dir==n["c"].RTL?-1:1,l=this.source(this.view,i,e.x<s.left?-o:o);if(null===(t=l)||void 0===t?void 0:t.then){let t=this.pending={pos:i};l.then(e=>{this.pending==t&&(this.pending=null,e&&this.view.dispatch({effects:this.setHover.of(e)}))},t=>Object(n["l"])(this.view.state,t,"hover tooltip"))}else l&&this.view.dispatch({effects:this.setHover.of(l)})}mousemove(t){var e;this.lastMove={x:t.clientX,y:t.clientY,target:t.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let i=this.active;if(i&&!w(this.lastMove.target)||this.pending){let{pos:n}=i||this.pending,s=null!==(e=null===i||void 0===i?void 0:i.end)&&void 0!==e?e:n;(n==s?this.view.posAtCoords(this.lastMove)==n:b(this.view,n,s,t.clientX,t.clientY,6))||(this.view.dispatch({effects:this.setHover.of(null)}),this.pending=null)}}mouseleave(){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1,this.active&&this.view.dispatch({effects:this.setHover.of(null)})}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}function w(t){for(let e=t;e;e=e.parentNode)if(1==e.nodeType&&e.classList.contains("cm-tooltip"))return!0;return!1}function b(t,e,i,n,s,r){let o=document.createRange(),l=t.domAtPos(e),a=t.domAtPos(i);o.setEnd(a.node,a.offset),o.setStart(l.node,l.offset);let h=o.getClientRects();o.detach();for(let c=0;c<h.length;c++){let t=h[c],e=Math.max(t.top-s,s-t.bottom,t.left-n,n-t.right);if(e<=r)return!0}return!1}function y(t,e={}){let i=s["j"].define(),r=s["k"].define({create(){return null},update(t,n){if(t&&e.hideOnChange&&(n.docChanged||n.selection))return null;for(let e of n.effects){if(e.is(i))return e.value;if(e.is(k))return null}if(t&&n.docChanged){let e=n.changes.mapPos(t.pos,-1,s["h"].TrackDel);if(null==e)return null;let i=Object.assign(Object.create(null),t);return i.pos=e,null!=t.end&&(i.end=n.changes.mapPos(t.end)),i}return t},provide:t=>p.from(t)});return[r,n["f"].define(n=>new v(n,t,r,i,e.hoverTime||300)),m]}function x(t,e){let i=t.plugin(c);if(!i)return null;let n=i.manager.tooltips.indexOf(e);return n<0?null:i.manager.tooltipViews[n]}const k=s["j"].define()},"91de":function(t,e,i){"use strict";i.d(e,"a",(function(){return dt})),i.d(e,"b",(function(){return ut})),i.d(e,"c",(function(){return pt})),i.d(e,"d",(function(){return lt})),i.d(e,"e",(function(){return ft})),i.d(e,"f",(function(){return rt}));var n=i("caa4"),s=i("b9b5"),r=i("2cfc"),o=i("d457");const l=34,a=1,h=2,c=3,u=4,d=5,f=6,p=7,g=8,m=9,v=10,w=11,b=12,y=13,x=14,k=15,S=16,O=17,C=18,A=19,M=20,T=21,D=22;function P(t){return t>=65&&t<=90||t>=97&&t<=122||t>=48&&t<=57}function _(t){return t>=48&&t<=57||t>=97&&t<=102||t>=65&&t<=70}function E(t,e,i){for(let n=!1;;){if(t.next<0)return;if(t.next==e&&!n)return void t.advance();n=i&&!n&&92==t.next,t.advance()}}function R(t,e){for(;;){if(95!=t.next&&!P(t.next))break;null!=e&&(e+=String.fromCharCode(t.next)),t.advance()}return e}function B(t){if(39==t.next||34==t.next||96==t.next){let e=t.next;t.advance(),E(t,e,!1)}else R(t)}function N(t,e){for(;;){if(46==t.next){if(e)break;e=!0}else if(t.next<48||t.next>57)break;t.advance()}if(69==t.next||101==t.next){t.advance(),43!=t.next&&45!=t.next||t.advance();while(t.next>=48&&t.next<=57)t.advance()}}function L(t){while(!(t.next<0||10==t.next))t.advance()}function I(t,e){for(let i=0;i<e.length;i++)if(e.charCodeAt(i)==t)return!0;return!1}const V=" \t\r\n";function z(t,e,i){let n=Object.create(null);n["true"]=n["false"]=d,n["null"]=n["unknown"]=f;for(let s of t.split(" "))s&&(n[s]=M);for(let s of e.split(" "))s&&(n[s]=T);for(let s of(i||"").split(" "))s&&(n[s]=D);return n}const H="array binary bit boolean char character clob date decimal double float int integer interval large national nchar nclob numeric object precision real smallint time timestamp varchar varying ",W="absolute action add after all allocate alter and any are as asc assertion at authorization before begin between both breadth by call cascade cascaded case cast catalog check close collate collation column commit condition connect connection constraint constraints constructor continue corresponding count create cross cube current current_date current_default_transform_group current_transform_group_for_type current_path current_role current_time current_timestamp current_user cursor cycle data day deallocate declare default deferrable deferred delete depth deref desc describe descriptor deterministic diagnostics disconnect distinct do domain drop dynamic each else elseif end end-exec equals escape except exception exec execute exists exit external fetch first for foreign found from free full function general get global go goto grant group grouping handle having hold hour identity if immediate in indicator initially inner inout input insert intersect into is isolation join key language last lateral leading leave left level like limit local localtime localtimestamp locator loop map match method minute modifies module month names natural nesting new next no none not of old on only open option or order ordinality out outer output overlaps pad parameter partial path prepare preserve primary prior privileges procedure public read reads recursive redo ref references referencing relative release repeat resignal restrict result return returns revoke right role rollback rollup routine row rows savepoint schema scroll search second section select session session_user set sets signal similar size some space specific specifictype sql sqlexception sqlstate sqlwarning start state static system_user table temporary then timezone_hour timezone_minute to trailing transaction translation treat trigger under undo union unique unnest until update usage user using value values view when whenever where while with without work write year zone ",q={backslashEscapes:!1,hashComments:!1,spaceAfterDashes:!1,slashComments:!1,doubleQuotedStrings:!1,charSetCasts:!1,operatorChars:"*+-%<>!=&|~^/",specialVar:"?",identifierQuotes:'"',words:z(W,H)};function j(t,e,i,n){let s={};for(let r in q)s[r]=(t.hasOwnProperty(r)?t:q)[r];return e&&(s.words=z(e,i||"",n)),s}function F(t){return new r["a"](e=>{var i;let{next:n}=e;if(e.advance(),I(n,V)){while(I(e.next,V))e.advance();e.acceptToken(l)}else if(39==n||34==n&&t.doubleQuotedStrings)E(e,n,t.backslashEscapes),e.acceptToken(c);else if(35==n&&t.hashComments||47==n&&47==e.next&&t.slashComments)L(e),e.acceptToken(a);else if(45!=n||45!=e.next||t.spaceAfterDashes&&32!=e.peek(2))if(47==n&&42==e.next){e.advance();for(let t=-1,i=1;;){if(e.next<0)break;if(e.advance(),42==t&&47==e.next){if(i--,!i)break;t=-1}else 47==t&&42==e.next?(i++,t=-1):t=e.next}e.acceptToken(h)}else if(101!=n&&69!=n||39!=e.next)if(110!=n&&78!=n||39!=e.next||!t.charSetCasts){if(95==n&&t.charSetCasts)for(let s=0;;s++){if(39==e.next&&s>1){e.advance(),E(e,39,t.backslashEscapes),e.acceptToken(c);break}if(!P(e.next))break;e.advance()}else if(40==n)e.acceptToken(p);else if(41==n)e.acceptToken(g);else if(123==n)e.acceptToken(m);else if(125==n)e.acceptToken(v);else if(91==n)e.acceptToken(w);else if(93==n)e.acceptToken(b);else if(59==n)e.acceptToken(y);else if(48==n&&(98==e.next||66==e.next)||(98==n||66==n)&&39==e.next){let t=39==e.next;e.advance();while(48==e.next||49==e.next)e.advance();t&&39==e.next&&e.advance(),e.acceptToken(u)}else if(48==n&&(120==e.next||88==e.next)||(120==n||88==n)&&39==e.next){let t=39==e.next;e.advance();while(_(e.next))e.advance();t&&39==e.next&&e.advance(),e.acceptToken(u)}else if(46==n&&e.next>=48&&e.next<=57)N(e,!0),e.acceptToken(u);else if(46==n)e.acceptToken(x);else if(n>=48&&n<=57)N(e,!1),e.acceptToken(u);else if(I(n,t.operatorChars)){while(I(e.next,t.operatorChars))e.advance();e.acceptToken(k)}else if(I(n,t.specialVar))e.next==n&&e.advance(),B(e),e.acceptToken(O);else if(I(n,t.identifierQuotes))E(e,n,!1),e.acceptToken(A);else if(58==n||44==n)e.acceptToken(S);else if(P(n)){let s=R(e,String.fromCharCode(n));e.acceptToken(null!==(i=t.words[s.toLowerCase()])&&void 0!==i?i:C)}}else e.advance(),E(e,39,t.backslashEscapes),e.acceptToken(c);else e.advance(),E(e,39,!0);else L(e),e.acceptToken(a)})}const Q=F(q),U=r["b"].deserialize({version:13,states:"%dQ]QQOOO#kQRO'#DQO#rQQO'#CuO%RQQO'#CvO%YQQO'#CwO%aQQO'#CxOOQQ'#DQ'#DQOOQQ'#C{'#C{O&lQRO'#CyOOQQ'#Ct'#CtOOQQ'#Cz'#CzQ]QQOOQOQQOOO&vQQO,59aO'RQQO,59aO'WQQO'#DQOOQQ,59b,59bO'eQQO,59bOOQQ,59c,59cO'lQQO,59cOOQQ,59d,59dO'sQQO,59dOOQQ-E6y-E6yOOQQ,59`,59`OOQQ-E6x-E6xOOQQ'#C|'#C|OOQQ1G.{1G.{O&vQQO1G.{OOQQ1G.|1G.|OOQQ1G.}1G.}OOQQ1G/O1G/OP'zQQO'#C{POQQ-E6z-E6zOOQQ7+$g7+$g",stateData:"(R~OrOSPOSQOS~ORUOSUOTUOUUOVROXSOZTO]XO^QO_UO`UOaPObPOcPOdUOeUOfUO~O^]ORtXStXTtXUtXVtXXtXZtX]tX_tX`tXatXbtXctXdtXetXftX~OqtX~P!dOa^Ob^Oc^O~ORUOSUOTUOUUOVROXSOZTO^QO_UO`UOa_Ob_Oc_OdUOeUOfUO~OW`O~P#}OYbO~P#}O[dO~P#}ORUOSUOTUOUUOVROXSOZTO^QO_UO`UOaPObPOcPOdUOeUOfUO~O]gOqmX~P%hOaiObiOciO~O^kO~OWtXYtX[tX~P!dOWlO~P#}OYmO~P#}O[nO~P#}O]gO~P#}O",goto:"#YuPPPPPPPPPPPPPPPPPPPPPPPPvzzzz!W![!b!vPPP!|TYOZeUORSTWZaceoT[OZQZORhZSWOZQaRQcSQeTZfWaceoQj]RqkeVORSTWZaceo",nodeNames:"⚠ LineComment BlockComment String Number Bool Null ( ) [ ] { } ; . Operator Punctuation SpecialVar Identifier QuotedIdentifier Keyword Type Builtin Script Statement CompositeIdentifier Parens Braces Brackets Statement",maxTerm:36,skippedNodes:[0,1,2],repeatNodeCount:3,tokenData:"RORO",tokenizers:[0,Q],topRules:{Script:[0,23]},tokenPrec:0});function K(t){let e=t.cursor.moveTo(t.from,-1);while(/Comment/.test(e.name))e.moveTo(e.from,-1);return e.node}function $(t){let e=/^[`'"](.*)[`'"]$/.exec(t);return e?e[1]:t}function G(t,e){let i=Object(n["n"])(t).resolveInner(e,-1),s=!1;if("Identifier"==i.name||"QuotedIdentifier"==i.name){s=!1;let e=null,n=K(i);if(n&&"."==n.name){let i=K(n);(i&&"Identifier"==i.name||"QuotedIdentifier"==i.name)&&(e=$(t.sliceDoc(i.from,i.to).toLowerCase()))}return{parent:e,from:i.from,quoted:"QuotedIdentifier"==i.name?t.sliceDoc(i.from,i.from+1):null}}if("."==i.name){let n=K(i);if(n&&"Identifier"==n.name||"QuotedIdentifier"==n.name)return{parent:$(t.sliceDoc(n.from,n.to).toLowerCase()),from:e,quoted:null}}else s=!0;return{parent:null,from:e,quoted:null,empty:s}}function X(t,e){return t?e.map(e=>Object.assign(Object.assign({},e),{label:t+e.label+t,apply:void 0})):e}const J=/^\w*$/,Y=/^[`'"]?\w*[`'"]?$/;function Z(t,e,i){let n=Object.create(null);for(let r in t)n[r]=t[r].map(t=>"string"==typeof t?{label:t,type:"property"}:t);let s=(e||Object.keys(n).map(t=>({label:t,type:"type"}))).concat(i&&n[i]||[]);return t=>{let{parent:e,from:i,quoted:r,empty:o}=G(t.state,t.pos);if(o&&!t.explicit)return null;let l=s;if(e){let t=n[e];if(!t)return null;l=t}let a=r&&t.state.sliceDoc(t.pos,t.pos+1)==r;return{from:i,to:a?t.pos+1:void 0,options:X(r,l),span:r?Y:J}}}function tt(t,e){let i=Object.keys(t).map(i=>({label:e?i.toUpperCase():i,type:t[i]==T?"type":t[i]==M?"keyword":"variable",boost:-1}));return Object(o["d"])(["QuotedIdentifier","SpecialVar","String","LineComment","BlockComment","."],Object(o["b"])(i))}let et=U.configure({props:[n["i"].add({Statement:Object(n["d"])()}),n["e"].add({Statement(t){return{from:t.firstChild.to,to:t.to}},BlockComment(t){return{from:t.from+2,to:t.to-2}}}),Object(s["b"])({Keyword:s["c"].keyword,Type:s["c"].typeName,Builtin:s["c"].standard(s["c"].name),Bool:s["c"].bool,Null:s["c"].null,Number:s["c"].number,String:s["c"].string,Identifier:s["c"].name,QuotedIdentifier:s["c"].special(s["c"].string),SpecialVar:s["c"].special(s["c"].name),LineComment:s["c"].lineComment,BlockComment:s["c"].blockComment,Operator:s["c"].operator,"Semi Punctuation":s["c"].punctuation,"( )":s["c"].paren,"{ }":s["c"].brace,"[ ]":s["c"].squareBracket})]});class it{constructor(t,e){this.dialect=t,this.language=e}get extension(){return this.language.extension}static define(t){let e=j(t,t.keywords,t.types,t.builtin),i=n["b"].define({parser:et.configure({tokenizers:[{from:Q,to:F(e)}]}),languageData:{commentTokens:{line:"--",block:{open:"/*",close:"*/"}},closeBrackets:{brackets:["(","[","{","'",'"',"`"]}}});return new it(e,i)}}function nt(t,e=!1){return t.language.data.of({autocomplete:tt(t.dialect.words,e)})}function st(t){return t.schema?(t.dialect||ot).language.data.of({autocomplete:Z(t.schema,t.tables,t.defaultTable)}):[]}function rt(t={}){let e=t.dialect||ot;return new n["c"](e.language,[st(t),nt(e,!!t.upperCaseKeywords)])}const ot=it.define({}),lt=it.define({charSetCasts:!0,operatorChars:"+-*/<>=~!@#%^&|`?",specialVar:"",keywords:W+"a abort abs absent access according ada admin aggregate alias also always analyse analyze array_agg array_max_cardinality asensitive assert assignment asymmetric atomic attach attribute attributes avg backward base64 begin_frame begin_partition bernoulli bit_length blocked bom c cache called cardinality catalog_name ceil ceiling chain char_length character_length character_set_catalog character_set_name character_set_schema characteristics characters checkpoint class class_origin cluster coalesce cobol collation_catalog collation_name collation_schema collect column_name columns command_function command_function_code comment comments committed concurrently condition_number configuration conflict connection_name constant constraint_catalog constraint_name constraint_schema contains content control conversion convert copy corr cost covar_pop covar_samp csv cume_dist current_catalog current_row current_schema cursor_name database datalink datatype datetime_interval_code datetime_interval_precision db debug defaults defined definer degree delimiter delimiters dense_rank depends derived detach detail dictionary disable discard dispatch dlnewcopy dlpreviouscopy dlurlcomplete dlurlcompleteonly dlurlcompletewrite dlurlpath dlurlpathonly dlurlpathwrite dlurlscheme dlurlserver dlvalue document dump dynamic_function dynamic_function_code element elsif empty enable encoding encrypted end_frame end_partition endexec enforced enum errcode error event every exclude excluding exclusive exp explain expression extension extract family file filter final first_value flag floor following force foreach fortran forward frame_row freeze fs functions fusion g generated granted greatest groups handler header hex hierarchy hint id ignore ilike immediately immutable implementation implicit import include including increment indent index indexes info inherit inherits inline insensitive instance instantiable instead integrity intersection invoker isnull k key_member key_type label lag last_value lead leakproof least length library like_regex link listen ln load location lock locked log logged lower m mapping matched materialized max max_cardinality maxvalue member merge message message_length message_octet_length message_text min minvalue mod mode more move multiset mumps name namespace nfc nfd nfkc nfkd nil normalize normalized nothing notice notify notnull nowait nth_value ntile nullable nullif nulls number occurrences_regex octet_length octets off offset oids operator options ordering others over overlay overriding owned owner p parallel parameter_mode parameter_name parameter_ordinal_position parameter_specific_catalog parameter_specific_name parameter_specific_schema parser partition pascal passing passthrough password percent percent_rank percentile_cont percentile_disc perform period permission pg_context pg_datatype_name pg_exception_context pg_exception_detail pg_exception_hint placing plans pli policy portion position position_regex power precedes preceding prepared print_strict_params procedural procedures program publication query quote raise range rank reassign recheck recovery refresh regr_avgx regr_avgy regr_count regr_intercept regr_r2 regr_slope regr_sxx regr_sxy regr_syy reindex rename repeatable replace replica requiring reset respect restart restore result_oid returned_cardinality returned_length returned_octet_length returned_sqlstate returning reverse routine_catalog routine_name routine_schema routines row_count row_number rowtype rule scale schema_name schemas scope scope_catalog scope_name scope_schema security selective self sensitive sequence sequences serializable server server_name setof share show simple skip slice snapshot source specific_name sqlcode sqlerror sqrt stable stacked standalone statement statistics stddev_pop stddev_samp stdin stdout storage strict strip structure style subclass_origin submultiset subscription substring substring_regex succeeds sum symmetric sysid system system_time t table_name tables tablesample tablespace temp template ties token top_level_count transaction_active transactions_committed transactions_rolled_back transform transforms translate translate_regex trigger_catalog trigger_name trigger_schema trim trim_array truncate trusted type types uescape unbounded uncommitted unencrypted unlink unlisten unlogged unnamed untyped upper uri use_column use_variable user_defined_type_catalog user_defined_type_code user_defined_type_name user_defined_type_schema vacuum valid validate validator value_of var_pop var_samp varbinary variable_conflict variadic verbose version versioning views volatile warning whitespace width_bucket window within wrapper xmlagg xmlattributes xmlbinary xmlcast xmlcomment xmlconcat xmldeclaration xmldocument xmlelement xmlexists xmlforest xmliterate xmlnamespaces xmlparse xmlpi xmlquery xmlroot xmlschema xmlserialize xmltable xmltext xmlvalidate yes",types:H+"bigint int8 bigserial serial8 varbit bool box bytea cidr circle precision float8 inet int4 json jsonb line lseg macaddr macaddr8 money numeric pg_lsn point polygon float4 int2 smallserial serial2 serial serial4 text timetz timestamptz tsquery tsvector txid_snapshot uuid xml"}),at="accessible algorithm analyze asensitive authors auto_increment autocommit avg avg_row_length binlog btree cache catalog_name chain change changed checkpoint checksum class_origin client_statistics coalesce code collations columns comment committed completion concurrent consistent contains contributors convert database databases day_hour day_microsecond day_minute day_second delay_key_write delayed delimiter des_key_file dev_pop dev_samp deviance directory disable discard distinctrow div dual dumpfile enable enclosed ends engine engines enum errors escaped even event events every explain extended fast field fields flush force found_rows fulltext grants handler hash high_priority hosts hour_microsecond hour_minute hour_second ignore ignore_server_ids import index index_statistics infile innodb insensitive insert_method install invoker iterate keys kill linear lines list load lock logs low_priority master master_heartbeat_period master_ssl_verify_server_cert masters max max_rows maxvalue message_text middleint migrate min min_rows minute_microsecond minute_second mod mode modify mutex mysql_errno no_write_to_binlog offline offset one online optimize optionally outfile pack_keys parser partition partitions password phase plugin plugins prev processlist profile profiles purge query quick range read_write rebuild recover regexp relaylog remove rename reorganize repair repeatable replace require resume rlike row_format rtree schedule schema_name schemas second_microsecond security sensitive separator serializable server share show slave slow snapshot soname spatial sql_big_result sql_buffer_result sql_cache sql_calc_found_rows sql_no_cache sql_small_result ssl starting starts std stddev stddev_pop stddev_samp storage straight_join subclass_origin sum suspend table_name table_statistics tables tablespace terminated triggers truncate uncommitted uninstall unlock upgrade use use_frm user_resources user_statistics utc_date utc_time utc_timestamp variables views warnings xa xor year_month zerofill",ht=H+"bool blob long longblob longtext medium mediumblob mediumint mediumtext tinyblob tinyint tinytext text bigint int1 int2 int3 int4 int8 float4 float8 varbinary varcharacter precision datetime unsigned signed",ct="charset clear edit ego help nopager notee nowarning pager print prompt quit rehash source status system tee",ut=it.define({operatorChars:"*+-%<>!=&|^",charSetCasts:!0,doubleQuotedStrings:!0,hashComments:!0,spaceAfterDashes:!0,specialVar:"@?",identifierQuotes:"`",keywords:W+"group_concat "+at,types:ht,builtin:ct}),dt=it.define({keywords:W+"trigger proc view index for add constraint key primary foreign collate clustered nonclustered declare exec go if use index holdlock nolock nowait paglock pivot readcommitted readcommittedlock readpast readuncommitted repeatableread rowlock serializable snapshot tablock tablockx unpivot updlock with",types:H+"bigint smallint smallmoney tinyint money real text nvarchar ntext varbinary image hierarchyid uniqueidentifier sql_variant xml",builtin:"binary_checksum checksum connectionproperty context_info current_request_id error_line error_message error_number error_procedure error_severity error_state formatmessage get_filestream_transaction_context getansinull host_id host_name isnull isnumeric min_active_rowversion newid newsequentialid rowcount_big xact_state object_id",operatorChars:"*+-%<>!=^&|/",specialVar:"@"}),ft=it.define({keywords:W+"abort analyze attach autoincrement conflict database detach exclusive fail glob ignore index indexed instead isnull notnull offset plan pragma query raise regexp reindex rename replace temp vacuum virtual",types:H+"bool blob long longblob longtext medium mediumblob mediumint mediumtext tinyblob tinyint tinytext text bigint int2 int8 unsigned signed real",builtin:"auth backup bail changes clone databases dbinfo dump echo eqp explain fullschema headers help import imposter indexes iotrace lint load log mode nullvalue once print prompt quit restore save scanstats separator shell show stats system tables testcase timeout timer trace vfsinfo vfslist vfsname width",operatorChars:"*+-%<>!=&|/~",identifierQuotes:'`"',specialVar:"@:?$"}),pt=it.define({keywords:W+"abort accept access add all alter and any arraylen as asc assert assign at attributes audit authorization avg base_table begin between binary_integer body by case cast char_base check close cluster clusters colauth column comment commit compress connected constant constraint crash create current currval cursor data_base database dba deallocate debugoff debugon declare default definition delay delete desc digits dispose distinct do drop else elseif elsif enable end entry exception exception_init exchange exclusive exists external fast fetch file for force form from function generic goto grant group having identified if immediate in increment index indexes indicator initial initrans insert interface intersect into is key level library like limited local lock log logging loop master maxextents maxtrans member minextents minus mislabel mode modify multiset new next no noaudit nocompress nologging noparallel not nowait number_base of off offline on online only option or order out package parallel partition pctfree pctincrease pctused pls_integer positive positiven pragma primary prior private privileges procedure public raise range raw rebuild record ref references refresh rename replace resource restrict return returning returns reverse revoke rollback row rowid rowlabel rownum rows run savepoint schema segment select separate set share snapshot some space split sql start statement storage subtype successful synonym tabauth table tables tablespace task terminate then to trigger truncate type union unique unlimited unrecoverable unusable update use using validate value values variable view views when whenever where while with work",builtin:"appinfo arraysize autocommit autoprint autorecovery autotrace blockterminator break btitle cmdsep colsep compatibility compute concat copycommit copytypecheck define echo editfile embedded feedback flagger flush heading headsep instance linesize lno loboffset logsource longchunksize markup native newpage numformat numwidth pagesize pause pno recsep recsepchar repfooter repheader serveroutput shiftinout show showmode spool sqlblanklines sqlcase sqlcode sqlcontinue sqlnumber sqlpluscompatibility sqlprefix sqlprompt sqlterminator suffix tab term termout timing trimout trimspool ttitle underline verify version wrap",types:H+"ascii bfile bfilename bigserial bit blob dec long number nvarchar nvarchar2 serial smallint string text uid varchar2 xml",operatorChars:"*/+-%<>!=~",doubleQuotedStrings:!0,charSetCasts:!0})},9669:function(t,e,i){"use strict";i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return h})),i.d(e,"d",(function(){return a})),i.d(e,"e",(function(){return D})),i.d(e,"f",(function(){return d})),i.d(e,"g",(function(){return T}));const n=1024;let s=0;class r{constructor(t,e){this.from=t,this.to=e}}class o{constructor(t={}){this.id=s++,this.perNode=!!t.perNode,this.deserialize=t.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(t){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return"function"!=typeof t&&(t=a.match(t)),e=>{let i=t(e);return void 0===i?null:[this,i]}}}o.closedBy=new o({deserialize:t=>t.split(" ")}),o.openedBy=new o({deserialize:t=>t.split(" ")}),o.group=new o({deserialize:t=>t.split(" ")}),o.contextHash=new o({perNode:!0}),o.lookAhead=new o({perNode:!0}),o.mounted=new o({perNode:!0});const l=Object.create(null);class a{constructor(t,e,i,n=0){this.name=t,this.props=e,this.id=i,this.flags=n}static define(t){let e=t.props&&t.props.length?Object.create(null):l,i=(t.top?1:0)|(t.skipped?2:0)|(t.error?4:0)|(null==t.name?8:0),n=new a(t.name||"",e,t.id,i);if(t.props)for(let s of t.props)if(Array.isArray(s)||(s=s(n)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");e[s[0].id]=s[1]}return n}prop(t){return this.props[t.id]}get isTop(){return(1&this.flags)>0}get isSkipped(){return(2&this.flags)>0}get isError(){return(4&this.flags)>0}get isAnonymous(){return(8&this.flags)>0}is(t){if("string"==typeof t){if(this.name==t)return!0;let e=this.prop(o.group);return!!e&&e.indexOf(t)>-1}return this.id==t}static match(t){let e=Object.create(null);for(let i in t)for(let n of i.split(" "))e[n]=t[i];return t=>{for(let i=t.prop(o.group),n=-1;n<(i?i.length:0);n++){let s=e[n<0?t.name:i[n]];if(s)return s}}}}a.none=new a("",Object.create(null),0,8);class h{constructor(t){this.types=t;for(let e=0;e<t.length;e++)if(t[e].id!=e)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...t){let e=[];for(let i of this.types){let n=null;for(let e of t){let t=e(i);t&&(n||(n=Object.assign({},i.props)),n[t[0].id]=t[1])}e.push(n?new a(i.name,n,i.id,i.flags):i)}return new h(e)}}const c=new WeakMap,u=new WeakMap;class d{constructor(t,e,i,n,s){if(this.type=t,this.children=e,this.positions=i,this.length=n,this.props=null,s&&s.length){this.props=Object.create(null);for(let[t,e]of s)this.props["number"==typeof t?t:t.id]=e}}toString(){let t=this.prop(o.mounted);if(t&&!t.overlay)return t.tree.toString();let e="";for(let i of this.children){let t=i.toString();t&&(e&&(e+=","),e+=t)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(e.length?"("+e+")":""):e}cursor(t,e=0){let i=null!=t&&c.get(this)||this.topNode,n=new k(i);return null!=t&&(n.moveTo(t,e),c.set(this,n._tree)),n}fullCursor(){return new k(this.topNode,1)}get topNode(){return new w(this,0,0,null)}resolve(t,e=0){let i=v(c.get(this)||this.topNode,t,e,!1);return c.set(this,i),i}resolveInner(t,e=0){let i=v(u.get(this)||this.topNode,t,e,!0);return u.set(this,i),i}iterate(t){let{enter:e,leave:i,from:n=0,to:s=this.length}=t;for(let r=this.cursor(),o=()=>r.node;;){let t=!1;if(r.from<=s&&r.to>=n&&(r.type.isAnonymous||!1!==e(r.type,r.from,r.to,o))){if(r.firstChild())continue;r.type.isAnonymous||(t=!0)}for(;;){if(t&&i&&i(r.type,r.from,r.to,o),t=r.type.isAnonymous,r.nextSibling())break;if(!r.parent())return;t=!0}}}prop(t){return t.perNode?this.props?this.props[t.id]:void 0:this.type.prop(t)}get propValues(){let t=[];if(this.props)for(let e in this.props)t.push([+e,this.props[e]]);return t}balance(t={}){return this.children.length<=8?this:M(a.none,this.children,this.positions,0,this.children.length,0,this.length,(t,e,i)=>new d(this.type,t,e,i,this.propValues),t.makeTree||((t,e,i)=>new d(a.none,t,e,i)))}static build(t){return O(t)}}d.empty=new d(a.none,[],[],0);class f{constructor(t,e){this.buffer=t,this.index=e}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new f(this.buffer,this.index)}}class p{constructor(t,e,i){this.buffer=t,this.length=e,this.set=i}get type(){return a.none}toString(){let t=[];for(let e=0;e<this.buffer.length;)t.push(this.childString(e)),e=this.buffer[e+3];return t.join(",")}childString(t){let e=this.buffer[t],i=this.buffer[t+3],n=this.set.types[e],s=n.name;if(/\W/.test(s)&&!n.isError&&(s=JSON.stringify(s)),t+=4,i==t)return s;let r=[];while(t<i)r.push(this.childString(t)),t=this.buffer[t+3];return s+"("+r.join(",")+")"}findChild(t,e,i,n,s){let{buffer:r}=this,o=-1;for(let l=t;l!=e;l=r[l+3])if(g(s,n,r[l+1],r[l+2])&&(o=l,i>0))break;return o}slice(t,e,i,n){let s=this.buffer,r=new Uint16Array(e-t);for(let o=t,l=0;o<e;)r[l++]=s[o++],r[l++]=s[o++]-i,r[l++]=s[o++]-i,r[l++]=s[o++]-t;return new p(r,n-i,this.set)}}function g(t,e,i,n){switch(t){case-2:return i<e;case-1:return n>=e&&i<e;case 0:return i<e&&n>e;case 1:return i<=e&&n>e;case 2:return n>e;case 4:return!0}}function m(t,e){let i=t.childBefore(e);while(i){let e=i.lastChild;if(!e||e.to!=i.to)break;e.type.isError&&e.from==e.to?(t=i,i=e.prevSibling):i=e}return t}function v(t,e,i,n){var s;while(t.from==t.to||(i<1?t.from>=e:t.from>e)||(i>-1?t.to<=e:t.to<e)){let e=!n&&t instanceof w&&t.index<0?null:t.parent;if(!e)return t;t=e}if(n)for(let r=t,o=r.parent;o;r=o,o=r.parent)r instanceof w&&r.index<0&&(null===(s=o.enter(e,i,!0))||void 0===s?void 0:s.from)!=r.from&&(t=o);for(;;){let s=t.enter(e,i,n);if(!s)return t;t=s}}class w{constructor(t,e,i,n){this.node=t,this._from=e,this.index=i,this._parent=n}get type(){return this.node.type}get name(){return this.node.type.name}get from(){return this._from}get to(){return this._from+this.node.length}nextChild(t,e,i,n,s=0){for(let r=this;;){for(let{children:l,positions:a}=r.node,h=e>0?l.length:-1;t!=h;t+=e){let h=l[t],c=a[t]+r._from;if(g(n,i,c,c+h.length))if(h instanceof p){if(2&s)continue;let o=h.findChild(0,h.buffer.length,e,i-c,n);if(o>-1)return new x(new y(r,h,t,c),null,o)}else if(1&s||!h.type.isAnonymous||S(h)){let l;if(!(1&s)&&h.props&&(l=h.prop(o.mounted))&&!l.overlay)return new w(l.tree,c,t,r);let a=new w(h,c,t,r);return 1&s||!a.type.isAnonymous?a:a.nextChild(e<0?h.children.length-1:0,e,i,n)}}if(1&s||!r.type.isAnonymous)return null;if(t=r.index>=0?r.index+e:e<0?-1:r._parent.node.children.length,r=r._parent,!r)return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this.node.children.length-1,-1,0,4)}childAfter(t){return this.nextChild(0,1,t,2)}childBefore(t){return this.nextChild(this.node.children.length-1,-1,t,-2)}enter(t,e,i=!0,n=!0){let s;if(i&&(s=this.node.prop(o.mounted))&&s.overlay){let i=t-this.from;for(let{from:t,to:n}of s.overlay)if((e>0?t<=i:t<i)&&(e<0?n>=i:n>i))return new w(s.tree,s.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,t,e,n?0:2)}nextSignificantParent(){let t=this;while(t.type.isAnonymous&&t._parent)t=t._parent;return t}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get cursor(){return new k(this)}get tree(){return this.node}toTree(){return this.node}resolve(t,e=0){return v(this,t,e,!1)}resolveInner(t,e=0){return v(this,t,e,!0)}enterUnfinishedNodesBefore(t){return m(this,t)}getChild(t,e=null,i=null){let n=b(this,t,e,i);return n.length?n[0]:null}getChildren(t,e=null,i=null){return b(this,t,e,i)}toString(){return this.node.toString()}}function b(t,e,i,n){let s=t.cursor,r=[];if(!s.firstChild())return r;if(null!=i)while(!s.type.is(i))if(!s.nextSibling())return r;for(;;){if(null!=n&&s.type.is(n))return r;if(s.type.is(e)&&r.push(s.node),!s.nextSibling())return null==n?r:[]}}class y{constructor(t,e,i,n){this.parent=t,this.buffer=e,this.index=i,this.start=n}}class x{constructor(t,e,i){this.context=t,this._parent=e,this.index=i,this.type=t.buffer.set.types[t.buffer.buffer[i]]}get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}child(t,e,i){let{buffer:n}=this.context,s=n.findChild(this.index+4,n.buffer[this.index+3],t,e-this.context.start,i);return s<0?null:new x(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(t){return this.child(1,t,2)}childBefore(t){return this.child(-1,t,-2)}enter(t,e,i,n=!0){if(!n)return null;let{buffer:s}=this.context,r=s.findChild(this.index+4,s.buffer[this.index+3],e>0?1:-1,t-this.context.start,e);return r<0?null:new x(this.context,this,r)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(t){return this._parent?null:this.context.parent.nextChild(this.context.index+t,t,0,4)}get nextSibling(){let{buffer:t}=this.context,e=t.buffer[this.index+3];return e<(this._parent?t.buffer[this._parent.index+3]:t.buffer.length)?new x(this.context,this._parent,e):this.externalSibling(1)}get prevSibling(){let{buffer:t}=this.context,e=this._parent?this._parent.index+4:0;return this.index==e?this.externalSibling(-1):new x(this.context,this._parent,t.findChild(e,this.index,-1,0,4))}get cursor(){return new k(this)}get tree(){return null}toTree(){let t=[],e=[],{buffer:i}=this.context,n=this.index+4,s=i.buffer[this.index+3];if(s>n){let r=i.buffer[this.index+1],o=i.buffer[this.index+2];t.push(i.slice(n,s,r,o)),e.push(0)}return new d(this.type,t,e,this.to-this.from)}resolve(t,e=0){return v(this,t,e,!1)}resolveInner(t,e=0){return v(this,t,e,!0)}enterUnfinishedNodesBefore(t){return m(this,t)}toString(){return this.context.buffer.childString(this.index)}getChild(t,e=null,i=null){let n=b(this,t,e,i);return n.length?n[0]:null}getChildren(t,e=null,i=null){return b(this,t,e,i)}}class k{constructor(t,e=0){if(this.mode=e,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,t instanceof w)this.yieldNode(t);else{this._tree=t.context.parent,this.buffer=t.context;for(let e=t._parent;e;e=e._parent)this.stack.unshift(e.index);this.bufferNode=t,this.yieldBuf(t.index)}}get name(){return this.type.name}yieldNode(t){return!!t&&(this._tree=t,this.type=t.type,this.from=t.from,this.to=t.to,!0)}yieldBuf(t,e){this.index=t;let{start:i,buffer:n}=this.buffer;return this.type=e||n.set.types[n.buffer[t]],this.from=i+n.buffer[t+1],this.to=i+n.buffer[t+2],!0}yield(t){return!!t&&(t instanceof w?(this.buffer=null,this.yieldNode(t)):(this.buffer=t.context,this.yieldBuf(t.index,t.type)))}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(t,e,i){if(!this.buffer)return this.yield(this._tree.nextChild(t<0?this._tree.node.children.length-1:0,t,e,i,this.mode));let{buffer:n}=this.buffer,s=n.findChild(this.index+4,n.buffer[this.index+3],t,e-this.buffer.start,i);return!(s<0)&&(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(t){return this.enterChild(1,t,2)}childBefore(t){return this.enterChild(-1,t,-2)}enter(t,e,i=!0,n=!0){return this.buffer?!!n&&this.enterChild(1,t,e):this.yield(this._tree.enter(t,e,i&&!(1&this.mode),n))}parent(){if(!this.buffer)return this.yieldNode(1&this.mode?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let t=1&this.mode?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(t)}sibling(t){if(!this.buffer)return!!this._tree._parent&&this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+t,t,0,4,this.mode));let{buffer:e}=this.buffer,i=this.stack.length-1;if(t<0){let t=i<0?0:this.stack[i]+4;if(this.index!=t)return this.yieldBuf(e.findChild(t,this.index,-1,0,4))}else{let t=e.buffer[this.index+3];if(t<(i<0?e.buffer.length:e.buffer[this.stack[i]+3]))return this.yieldBuf(t)}return i<0&&this.yield(this.buffer.parent.nextChild(this.buffer.index+t,t,0,4,this.mode))}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(t){let e,i,{buffer:n}=this;if(n){if(t>0){if(this.index<n.buffer.buffer.length)return!1}else for(let t=0;t<this.index;t++)if(n.buffer.buffer[t+3]<this.index)return!1;({index:e,parent:i}=n)}else({index:e,_parent:i}=this._tree);for(;i;({index:e,_parent:i}=i))if(e>-1)for(let n=e+t,s=t<0?-1:i.node.children.length;n!=s;n+=t){let t=i.node.children[n];if(1&this.mode||t instanceof p||!t.type.isAnonymous||S(t))return!1}return!0}move(t,e){if(e&&this.enterChild(t,0,4))return!0;for(;;){if(this.sibling(t))return!0;if(this.atLastNode(t)||!this.parent())return!1}}next(t=!0){return this.move(1,t)}prev(t=!0){return this.move(-1,t)}moveTo(t,e=0){while(this.from==this.to||(e<1?this.from>=t:this.from>t)||(e>-1?this.to<=t:this.to<t))if(!this.parent())break;while(this.enterChild(1,t,e));return this}get node(){if(!this.buffer)return this._tree;let t=this.bufferNode,e=null,i=0;if(t&&t.context==this.buffer)t:for(let n=this.index,s=this.stack.length;s>=0;){for(let r=t;r;r=r._parent)if(r.index==n){if(n==this.index)return r;e=r,i=s+1;break t}n=this.stack[--s]}for(let n=i;n<this.stack.length;n++)e=new x(this.buffer,e,this.stack[n]);return this.bufferNode=new x(this.buffer,e,this.index)}get tree(){return this.buffer?null:this._tree.node}}function S(t){return t.children.some(t=>t instanceof p||!t.type.isAnonymous||S(t))}function O(t){var e;let{buffer:i,nodeSet:s,maxBufferLength:r=n,reused:l=[],minRepeatType:a=s.types.length}=t,h=Array.isArray(i)?new f(i,i.length):i,c=s.types,u=0,g=0;function m(t,e,i,n,o){let{id:d,start:f,end:k,size:S}=h,O=g;while(S<0){if(h.next(),-1==S){let e=l[d];return i.push(e),void n.push(f-t)}if(-3==S)return void(u=d);if(-4==S)return void(g=d);throw new RangeError("Unrecognized record size: "+S)}let C,A,T=c[d],D=f-t;if(k-f<=r&&(A=y(h.pos-e,o))){let e=new Uint16Array(A.size-A.skip),i=h.pos-A.size,n=e.length;while(h.pos>i)n=x(A.start,e,n);C=new p(e,k-A.start,s),D=A.start-t}else{let t=h.pos-S;h.next();let e=[],i=[],n=d>=a?d:-1,s=0,o=k;while(h.pos>t)n>=0&&h.id==n&&h.size>=0?(h.end<=o-r&&(w(e,i,f,s,h.end,o,n,O),s=e.length,o=h.end),h.next()):m(f,t,e,i,n);if(n>=0&&s>0&&s<e.length&&w(e,i,f,s,f,o,n,O),e.reverse(),i.reverse(),n>-1&&s>0){let t=v(T);C=M(T,e,i,0,e.length,0,k-f,t,t)}else C=b(T,e,i,k-f,O-k)}i.push(C),n.push(D)}function v(t){return(e,i,n)=>{let s,r,l=0,a=e.length-1;if(a>=0&&(s=e[a])instanceof d){if(!a&&s.type==t&&s.length==n)return s;(r=s.prop(o.lookAhead))&&(l=i[a]+s.length+r)}return b(t,e,i,n,l)}}function w(t,e,i,n,r,o,l,a){let h=[],c=[];while(t.length>n)h.push(t.pop()),c.push(e.pop()+i-r);t.push(b(s.types[l],h,c,o-r,a-o)),e.push(r-i)}function b(t,e,i,n,s=0,r){if(u){let t=[o.contextHash,u];r=r?[t].concat(r):[t]}if(s>25){let t=[o.lookAhead,s];r=r?[t].concat(r):[t]}return new d(t,e,i,n,r)}function y(t,e){let i=h.fork(),n=0,s=0,o=0,l=i.end-r,c={size:0,start:0,skip:0};t:for(let r=i.pos-t;i.pos>r;){let t=i.size;if(i.id==e&&t>=0){c.size=n,c.start=s,c.skip=o,o+=4,n+=4,i.next();continue}let h=i.pos-t;if(t<0||h<r||i.start<l)break;let u=i.id>=a?4:0,d=i.start;i.next();while(i.pos>h){if(i.size<0){if(-3!=i.size)break t;u+=4}else i.id>=a&&(u+=4);i.next()}s=d,n+=t,o+=u}return(e<0||n==t)&&(c.size=n,c.start=s,c.skip=o),c.size>4?c:void 0}function x(t,e,i){let{id:n,start:s,end:r,size:o}=h;if(h.next(),o>=0&&n<a){let l=i;if(o>4){let n=h.pos-(o-4);while(h.pos>n)i=x(t,e,i)}e[--i]=l,e[--i]=r-t,e[--i]=s-t,e[--i]=n}else-3==o?u=n:-4==o&&(g=n);return i}let k=[],S=[];while(h.pos>0)m(t.start||0,t.bufferStart||0,k,S,-1);let O=null!==(e=t.length)&&void 0!==e?e:k.length?S[0]+k[0].length:0;return new d(c[t.topID],k.reverse(),S.reverse(),O)}const C=new WeakMap;function A(t,e){if(!t.isAnonymous||e instanceof p||e.type!=t)return 1;let i=C.get(e);if(null==i){i=1;for(let n of e.children){if(n.type!=t||!(n instanceof d)){i=1;break}i+=A(t,n)}C.set(e,i)}return i}function M(t,e,i,n,s,r,o,l,a){let h=0;for(let p=n;p<s;p++)h+=A(t,e[p]);let c=Math.ceil(1.5*h/8),u=[],d=[];function f(e,i,n,s,o){for(let l=n;l<s;){let n=l,h=i[l],p=A(t,e[l]);for(l++;l<s;l++){let i=A(t,e[l]);if(p+i>=c)break;p+=i}if(l==n+1){if(p>c){let t=e[n];f(t.children,t.positions,0,t.children.length,i[n]+o);continue}u.push(e[n])}else{let s=i[l-1]+e[l-1].length-h;u.push(M(t,e,i,n,l,h,s,null,a))}d.push(h+o-r)}}return f(e,i,n,s,0),(l||a)(u,d,o)}class T{constructor(t,e,i,n,s=!1,r=!1){this.from=t,this.to=e,this.tree=i,this.offset=n,this.open=(s?1:0)|(r?2:0)}get openStart(){return(1&this.open)>0}get openEnd(){return(2&this.open)>0}static addTree(t,e=[],i=!1){let n=[new T(0,t.length,t,0,!1,i)];for(let s of e)s.to>t.length&&n.push(s);return n}static applyChanges(t,e,i=128){if(!e.length)return t;let n=[],s=1,r=t.length?t[0]:null;for(let o=0,l=0,a=0;;o++){let h=o<e.length?e[o]:null,c=h?h.fromA:1e9;if(c-l>=i)while(r&&r.from<c){let e=r;if(l>=e.from||c<=e.to||a){let t=Math.max(e.from,l)-a,i=Math.min(e.to,c)-a;e=t>=i?null:new T(t,i,e.tree,e.offset+a,o>0,!!h)}if(e&&n.push(e),r.to>c)break;r=s<t.length?t[s++]:null}if(!h)break;l=h.toA,a=h.toA-h.toB}return n}}class D{startParse(t,e,i){return"string"==typeof t&&(t=new P(t)),i=i?i.length?i.map(t=>new r(t.from,t.to)):[new r(0,0)]:[new r(0,t.length)],this.createParse(t,e||[],i)}parse(t,e,i){let n=this.startParse(t,e,i);for(;;){let t=n.advance();if(t)return t}}}class P{constructor(t){this.string=t}get length(){return this.string.length}chunk(t){return this.string.slice(t)}get lineChunks(){return!1}read(t,e){return this.string.slice(t,e)}}new o({perNode:!0})},ae49:function(t,e,i){"use strict";i.d(e,"a",(function(){return l}));const n="ͼ",s="undefined"==typeof Symbol?"__"+n:Symbol.for(n),r="undefined"==typeof Symbol?"__styleSet"+Math.floor(1e8*Math.random()):Symbol("styleSet"),o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:{};class l{constructor(t,e){this.rules=[];let{finish:i}=e||{};function n(t){return/^@/.test(t)?[t]:t.split(/,\s*/)}function s(t,e,r,o){let l=[],a=/^@(\w+)\b/.exec(t[0]),h=a&&"keyframes"==a[1];if(a&&null==e)return r.push(t[0]+";");for(let i in e){let o=e[i];if(/&/.test(i))s(i.split(/,\s*/).map(e=>t.map(t=>e.replace(/&/,t))).reduce((t,e)=>t.concat(e)),o,r);else if(o&&"object"==typeof o){if(!a)throw new RangeError("The value of a property ("+i+") should be a primitive value.");s(n(i),o,l,h)}else null!=o&&l.push(i.replace(/_.*/,"").replace(/[A-Z]/g,t=>"-"+t.toLowerCase())+": "+o+";")}(l.length||h)&&r.push((!i||a||o?t:t.map(i)).join(", ")+" {"+l.join(" ")+"}")}for(let r in t)s(n(r),t[r],this.rules)}getRules(){return this.rules.join("\n")}static newName(){let t=o[s]||1;return o[s]=t+1,n+t.toString(36)}static mount(t,e){(t[r]||new h(t)).mount(Array.isArray(e)?e:[e])}}let a=null;class h{constructor(t){if(!t.head&&t.adoptedStyleSheets&&"undefined"!=typeof CSSStyleSheet){if(a)return t.adoptedStyleSheets=[a.sheet].concat(t.adoptedStyleSheets),t[r]=a;this.sheet=new CSSStyleSheet,t.adoptedStyleSheets=[this.sheet].concat(t.adoptedStyleSheets),a=this}else{this.styleTag=(t.ownerDocument||t).createElement("style");let e=t.head||t;e.insertBefore(this.styleTag,e.firstChild)}this.modules=[],t[r]=this}mount(t){let e=this.sheet,i=0,n=0;for(let s=0;s<t.length;s++){let r=t[s],o=this.modules.indexOf(r);if(o<n&&o>-1&&(this.modules.splice(o,1),n--,o=-1),-1==o){if(this.modules.splice(n++,0,r),e)for(let t=0;t<r.rules.length;t++)e.insertRule(r.rules[t],i++)}else{while(n<o)i+=this.modules[n++].rules.length;i+=r.rules.length,n++}}if(!e){let t="";for(let e=0;e<this.modules.length;e++)t+=this.modules[e].getRules()+"\n";this.styleTag.textContent=t}}}},b99a:function(t,e,i){"use strict";i.d(e,"a",(function(){return v})),i.d(e,"b",(function(){return d})),i.d(e,"c",(function(){return p})),i.d(e,"d",(function(){return g})),i.d(e,"e",(function(){return l})),i.d(e,"f",(function(){return m})),i.d(e,"g",(function(){return f}));let n="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(t=>t?parseInt(t,36):1);for(let M=1;M<n.length;M++)n[M]+=n[M-1];function s(t){for(let e=1;e<n.length;e+=2)if(n[e]>t)return n[e-1]<=t;return!1}function r(t){return t>=127462&&t<=127487}const o=8205;function l(t,e,i=!0,n=!0){return(i?a:h)(t,e,n)}function a(t,e,i){if(e==t.length)return e;e&&c(t.charCodeAt(e))&&u(t.charCodeAt(e-1))&&e--;let n=d(t,e);e+=p(n);while(e<t.length){let l=d(t,e);if(n==o||l==o||i&&s(l))e+=p(l),n=l;else{if(!r(l))break;{let i=0,n=e-2;while(n>=0&&r(d(t,n)))i++,n-=2;if(i%2==0)break;e+=2}}}return e}function h(t,e,i){while(e>0){let n=a(t,e-2,i);if(n<e)return n;e--}return 0}function c(t){return t>=56320&&t<57344}function u(t){return t>=55296&&t<56320}function d(t,e){let i=t.charCodeAt(e);if(!u(i)||e+1==t.length)return i;let n=t.charCodeAt(e+1);return c(n)?n-56320+(i-55296<<10)+65536:i}function f(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t)))}function p(t){return t<65536?1:2}function g(t,e,i=t.length){let n=0;for(let s=0;s<i;)9==t.charCodeAt(s)?(n+=e-n%e,s++):(n++,s=l(t,s));return n}function m(t,e,i,n){for(let s=0,r=0;;){if(r>=e)return s;if(s==t.length)break;r+=9==t.charCodeAt(s)?i-r%i:1,s=l(t,s)}return!0===n?-1:t.length}class v{constructor(){}lineAt(t){if(t<0||t>this.length)throw new RangeError(`Invalid position ${t} in document of length ${this.length}`);return this.lineInner(t,!1,1,0)}line(t){if(t<1||t>this.lines)throw new RangeError(`Invalid line number ${t} in ${this.lines}-line document`);return this.lineInner(t,!0,1,0)}replace(t,e,i){let n=[];return this.decompose(0,t,n,2),i.length&&i.decompose(0,i.length,n,3),this.decompose(e,this.length,n,1),b.from(n,this.length-(e-t)+i.length)}append(t){return this.replace(this.length,this.length,t)}slice(t,e=this.length){let i=[];return this.decompose(t,e,i,0),b.from(i,e-t)}eq(t){if(t==this)return!0;if(t.length!=this.length||t.lines!=this.lines)return!1;let e=this.scanIdentical(t,1),i=this.length-this.scanIdentical(t,-1),n=new S(this),s=new S(t);for(let r=e,o=e;;){if(n.next(r),s.next(r),r=0,n.lineBreak!=s.lineBreak||n.done!=s.done||n.value!=s.value)return!1;if(o+=n.value.length,n.done||o>=i)return!0}}iter(t=1){return new S(this,t)}iterRange(t,e=this.length){return new O(this,t,e)}iterLines(t,e){let i;if(null==t)i=this.iter();else{null==e&&(e=this.lines+1);let n=this.line(t).from;i=this.iterRange(n,Math.max(n,e==this.lines+1?this.length:e<=1?0:this.line(e-1).to))}return new C(i)}toString(){return this.sliceString(0)}toJSON(){let t=[];return this.flatten(t),t}static of(t){if(0==t.length)throw new RangeError("A document must have at least one line");return 1!=t.length||t[0]?t.length<=32?new w(t):b.from(w.split(t,[])):v.empty}}class w extends v{constructor(t,e=y(t)){super(),this.text=t,this.length=e}get lines(){return this.text.length}get children(){return null}lineInner(t,e,i,n){for(let s=0;;s++){let r=this.text[s],o=n+r.length;if((e?i:o)>=t)return new A(n,o,i,r);n=o+1,i++}}decompose(t,e,i,n){let s=t<=0&&e>=this.length?this:new w(k(this.text,t,e),Math.min(e,this.length)-Math.max(0,t));if(1&n){let t=i.pop(),e=x(s.text,t.text.slice(),0,s.length);if(e.length<=32)i.push(new w(e,t.length+s.length));else{let t=e.length>>1;i.push(new w(e.slice(0,t)),new w(e.slice(t)))}}else i.push(s)}replace(t,e,i){if(!(i instanceof w))return super.replace(t,e,i);let n=x(this.text,x(i.text,k(this.text,0,t)),e),s=this.length+i.length-(e-t);return n.length<=32?new w(n,s):b.from(w.split(n,[]),s)}sliceString(t,e=this.length,i="\n"){let n="";for(let s=0,r=0;s<=e&&r<this.text.length;r++){let o=this.text[r],l=s+o.length;s>t&&r&&(n+=i),t<l&&e>s&&(n+=o.slice(Math.max(0,t-s),e-s)),s=l+1}return n}flatten(t){for(let e of this.text)t.push(e)}scanIdentical(){return 0}static split(t,e){let i=[],n=-1;for(let s of t)i.push(s),n+=s.length+1,32==i.length&&(e.push(new w(i,n)),i=[],n=-1);return n>-1&&e.push(new w(i,n)),e}}class b extends v{constructor(t,e){super(),this.children=t,this.length=e,this.lines=0;for(let i of t)this.lines+=i.lines}lineInner(t,e,i,n){for(let s=0;;s++){let r=this.children[s],o=n+r.length,l=i+r.lines-1;if((e?l:o)>=t)return r.lineInner(t,e,i,n);n=o+1,i=l+1}}decompose(t,e,i,n){for(let s=0,r=0;r<=e&&s<this.children.length;s++){let o=this.children[s],l=r+o.length;if(t<=l&&e>=r){let s=n&((r<=t?1:0)|(l>=e?2:0));r>=t&&l<=e&&!s?i.push(o):o.decompose(t-r,e-r,i,s)}r=l+1}}replace(t,e,i){if(i.lines<this.lines)for(let n=0,s=0;n<this.children.length;n++){let r=this.children[n],o=s+r.length;if(t>=s&&e<=o){let l=r.replace(t-s,e-s,i),a=this.lines-r.lines+l.lines;if(l.lines<a>>4&&l.lines>a>>6){let s=this.children.slice();return s[n]=l,new b(s,this.length-(e-t)+i.length)}return super.replace(s,o,l)}s=o+1}return super.replace(t,e,i)}sliceString(t,e=this.length,i="\n"){let n="";for(let s=0,r=0;s<this.children.length&&r<=e;s++){let o=this.children[s],l=r+o.length;r>t&&s&&(n+=i),t<l&&e>r&&(n+=o.sliceString(t-r,e-r,i)),r=l+1}return n}flatten(t){for(let e of this.children)e.flatten(t)}scanIdentical(t,e){if(!(t instanceof b))return 0;let i=0,[n,s,r,o]=e>0?[0,0,this.children.length,t.children.length]:[this.children.length-1,t.children.length-1,-1,-1];for(;;n+=e,s+=e){if(n==r||s==o)return i;let l=this.children[n],a=t.children[s];if(l!=a)return i+l.scanIdentical(a,e);i+=l.length+1}}static from(t,e=t.reduce((t,e)=>t+e.length+1,-1)){let i=0;for(let d of t)i+=d.lines;if(i<32){let i=[];for(let e of t)e.flatten(i);return new w(i,e)}let n=Math.max(32,i>>5),s=n<<1,r=n>>1,o=[],l=0,a=-1,h=[];function c(t){let e;if(t.lines>s&&t instanceof b)for(let i of t.children)c(i);else t.lines>r&&(l>r||!l)?(u(),o.push(t)):t instanceof w&&l&&(e=h[h.length-1])instanceof w&&t.lines+e.lines<=32?(l+=t.lines,a+=t.length+1,h[h.length-1]=new w(e.text.concat(t.text),e.length+1+t.length)):(l+t.lines>n&&u(),l+=t.lines,a+=t.length+1,h.push(t))}function u(){0!=l&&(o.push(1==h.length?h[0]:b.from(h,a)),a=-1,l=h.length=0)}for(let d of t)c(d);return u(),1==o.length?o[0]:new b(o,e)}}function y(t){let e=-1;for(let i of t)e+=i.length+1;return e}function x(t,e,i=0,n=1e9){for(let s=0,r=0,o=!0;r<t.length&&s<=n;r++){let l=t[r],a=s+l.length;a>=i&&(a>n&&(l=l.slice(0,n-s)),s<i&&(l=l.slice(i-s)),o?(e[e.length-1]+=l,o=!1):e.push(l)),s=a+1}return e}function k(t,e,i){return x(t,[""],e,i)}v.empty=new w([""],0);class S{constructor(t,e=1){this.dir=e,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[t],this.offsets=[e>0?1:(t instanceof w?t.text.length:t.children.length)<<1]}nextInner(t,e){for(this.done=this.lineBreak=!1;;){let i=this.nodes.length-1,n=this.nodes[i],s=this.offsets[i],r=s>>1,o=n instanceof w?n.text.length:n.children.length;if(r==(e>0?o:0)){if(0==i)return this.done=!0,this.value="",this;e>0&&this.offsets[i-1]++,this.nodes.pop(),this.offsets.pop()}else if((1&s)==(e>0?0:1)){if(this.offsets[i]+=e,0==t)return this.lineBreak=!0,this.value="\n",this;t--}else if(n instanceof w){let s=n.text[r+(e<0?-1:0)];if(this.offsets[i]+=e,s.length>Math.max(0,t))return this.value=0==t?s:e>0?s.slice(t):s.slice(0,s.length-t),this;t-=s.length}else{let s=n.children[r+(e<0?-1:0)];t>s.length?(t-=s.length,this.offsets[i]+=e):(e<0&&this.offsets[i]--,this.nodes.push(s),this.offsets.push(e>0?1:(s instanceof w?s.text.length:s.children.length)<<1))}}}next(t=0){return t<0&&(this.nextInner(-t,-this.dir),t=this.value.length),this.nextInner(t,this.dir)}}class O{constructor(t,e,i){this.value="",this.done=!1,this.cursor=new S(t,e>i?-1:1),this.pos=e>i?t.length:0,this.from=Math.min(e,i),this.to=Math.max(e,i)}nextInner(t,e){if(e<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;t+=Math.max(0,e<0?this.pos-this.to:this.from-this.pos);let i=e<0?this.pos-this.from:this.to-this.pos;t>i&&(t=i),i-=t;let{value:n}=this.cursor.next(t);return this.pos+=(n.length+t)*e,this.value=n.length<=i?n:e<0?n.slice(n.length-i):n.slice(0,i),this.done=!this.value,this}next(t=0){return t<0?t=Math.max(t,this.from-this.pos):t>0&&(t=Math.min(t,this.to-this.pos)),this.nextInner(t,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&""!=this.value}}class C{constructor(t){this.inner=t,this.afterBreak=!0,this.value="",this.done=!1}next(t=0){let{done:e,lineBreak:i,value:n}=this.inner.next(t);return e?(this.done=!0,this.value=""):i?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=n,this.afterBreak=!1),this}get lineBreak(){return!1}}"undefined"!=typeof Symbol&&(v.prototype[Symbol.iterator]=function(){return this.iter()},S.prototype[Symbol.iterator]=O.prototype[Symbol.iterator]=C.prototype[Symbol.iterator]=function(){return this});class A{constructor(t,e,i,n){this.from=t,this.to=e,this.number=i,this.text=n}get length(){return this.to-this.from}}},b9b5:function(t,e,i){"use strict";i.d(e,"a",(function(){return F})),i.d(e,"b",(function(){return g})),i.d(e,"c",(function(){return j}));var n=i("9669"),s=i("ae49"),r=i("02d1"),o=i("e1ea"),l=i("caa4"),a=i("c06e");let h=0;class c{constructor(t,e,i){this.set=t,this.base=e,this.modified=i,this.id=h++}static define(t){if(null===t||void 0===t?void 0:t.base)throw new Error("Can not derive from a modified tag");let e=new c([],null,[]);if(e.set.push(e),t)for(let i of t.set)e.set.push(i);return e}static defineModifier(){let t=new d;return e=>e.modified.indexOf(t)>-1?e:d.get(e.base||e,e.modified.concat(t).sort((t,e)=>t.id-e.id))}}let u=0;class d{constructor(){this.instances=[],this.id=u++}static get(t,e){if(!e.length)return t;let i=e[0].instances.find(i=>i.base==t&&f(e,i.modified));if(i)return i;let n=[],s=new c(n,t,e);for(let o of e)o.instances.push(s);let r=p(e);for(let o of t.set)for(let t of r)n.push(d.get(o,t));return s}}function f(t,e){return t.length==e.length&&t.every((t,i)=>t==e[i])}function p(t){let e=[t];for(let i=0;i<t.length;i++)for(let n of p(t.slice(0,i).concat(t.slice(i+1))))e.push(n);return e}function g(t){let e=Object.create(null);for(let i in t){let n=t[i];Array.isArray(n)||(n=[n]);for(let t of i.split(" "))if(t){let i=[],s=2,r=t;for(let e=0;;){if("..."==r&&e>0&&e+3==t.length){s=1;break}let n=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(r);if(!n)throw new RangeError("Invalid path: "+t);if(i.push("*"==n[0]?null:'"'==n[0][0]?JSON.parse(n[0]):n[0]),e+=n[0].length,e==t.length)break;let o=t[e++];if(e==t.length&&"!"==o){s=0;break}if("/"!=o)throw new RangeError("Invalid path: "+t);r=t.slice(e)}let o=i.length-1,l=i[o];if(!l)throw new RangeError("Invalid path: "+t);let a=new y(n,s,o>0?i.slice(0,o):null);e[l]=a.sort(e[l])}}return m.add(e)}const m=new n["b"],v=o["g"].define({combine(t){return t.length?x.combinedMatch(t):null}}),w=o["g"].define({combine(t){return t.length?t[0].match:null}});function b(t){return t.facet(v)||t.facet(w)}class y{constructor(t,e,i,n){this.tags=t,this.mode=e,this.context=i,this.next=n}sort(t){return!t||t.depth<this.depth?(this.next=t,this):(t.next=this.sort(t.next),t)}get depth(){return this.context?this.context.length:0}}class x{constructor(t,e){let i;function n(t){let e=s["a"].newName();return(i||(i=Object.create(null)))["."+e]=t,e}this.map=Object.create(null),this.all="string"==typeof e.all?e.all:e.all?n(e.all):null;for(let s of t){let t=(s.class||n(Object.assign({},s,{tag:null})))+(this.all?" "+this.all:""),e=s.tag;if(Array.isArray(e))for(let i of e)this.map[i.id]=t;else this.map[e.id]=t}this.module=i?new s["a"](i):null,this.scope=e.scope||null,this.match=this.match.bind(this);let o=[S];this.module&&o.push(r["d"].styleModule.of(this.module)),this.extension=o.concat(v.of(this)),this.fallback=o.concat(w.of(this))}match(t,e){if(this.scope&&e!=this.scope)return null;for(let i of t.set){let e=this.map[i.id];if(void 0!==e)return i!=t&&(this.map[t.id]=e),e}return this.map[t.id]=this.all}static combinedMatch(t){if(1==t.length)return t[0].match;let e=t.some(t=>t.scope)?void 0:Object.create(null);return(i,n)=>{let s=e&&e[i.id];if(void 0!==s)return s;let r=null;for(let e of t){let t=e.match(i,n);t&&(r=r?r+" "+t:t)}return e&&(e[i.id]=r),r}}static define(t,e){return new x(t,e||{})}static get(t,e,i){let s=b(t);return s&&s(e,i||n["d"].none)}}class k{constructor(t){this.markCache=Object.create(null),this.tree=Object(l["n"])(t.state),this.decorations=this.buildDeco(t,b(t.state))}update(t){let e=Object(l["n"])(t.state),i=b(t.state),n=i!=t.startState.facet(v);e.length<t.view.viewport.to&&!n&&e.type==this.tree.type?this.decorations=this.decorations.map(t.changes):(e!=this.tree||t.viewportChanged||n)&&(this.tree=e,this.decorations=this.buildDeco(t.view,i))}buildDeco(t,e){if(!e||!this.tree.length)return r["b"].none;let i=new a["b"];for(let{from:n,to:s}of t.visibleRanges)A(this.tree,n,s,e,(t,e,n)=>{i.add(t,e,this.markCache[n]||(this.markCache[n]=r["b"].mark({class:n})))});return i.finish()}}const S=o["i"].high(r["f"].fromClass(k,{decorations:t=>t.decorations})),O=[""];class C{constructor(t,e,i){this.at=t,this.style=e,this.span=i,this.class=""}startSpan(t,e){e!=this.class&&(this.flush(t),t>this.at&&(this.at=t),this.class=e)}flush(t){t>this.at&&this.class&&this.span(this.at,t,this.class)}highlightRange(t,e,i,s,r,o){let{type:l,from:a,to:h}=t;if(a>=i||h<=e)return;O[r]=l.name,l.isTop&&(o=l);let c=s,u=l.prop(m),d=!1;while(u){if(!u.context||M(u.context,O,r)){for(let t of u.tags){let e=this.style(t,o);e&&(c&&(c+=" "),c+=e,1==u.mode?s+=(s?" ":"")+e:0==u.mode&&(d=!0))}break}u=u.next}if(this.startSpan(t.from,c),d)return;let f=t.tree&&t.tree.prop(n["b"].mounted);if(f&&f.overlay){let n=t.node.enter(f.overlay[0].from+a,1),l=t.firstChild();for(let u=0,d=a;;u++){let p=u<f.overlay.length?f.overlay[u]:null,g=p?p.from+a:h,m=Math.max(e,d),v=Math.min(i,g);if(m<v&&l)while(t.from<v)if(this.highlightRange(t,m,v,s,r+1,o),this.startSpan(Math.min(i,t.to),c),t.to>=g||!t.nextSibling())break;if(!p||g>i)break;d=p.to+a,d>e&&(this.highlightRange(n.cursor,Math.max(e,p.from+a),Math.min(i,d),s,r,f.tree.type),this.startSpan(d,c))}l&&t.parent()}else if(t.firstChild()){do{if(!(t.to<=e)){if(t.from>=i)break;this.highlightRange(t,e,i,s,r+1,o),this.startSpan(Math.min(i,t.to),c)}}while(t.nextSibling());t.parent()}}}function A(t,e,i,n,s){let r=new C(e,n,s);r.highlightRange(t.cursor(),e,i,"",0,t.type),r.flush(i)}function M(t,e,i){if(t.length>i-1)return!1;for(let n=i-1,s=t.length-1;s>=0;s--,n--){let i=t[s];if(i&&i!=e[n])return!1}return!0}const T=c.define,D=T(),P=T(),_=T(P),E=T(P),R=T(),B=T(R),N=T(R),L=T(),I=T(L),V=T(),z=T(),H=T(),W=T(H),q=T(),j={comment:D,lineComment:T(D),blockComment:T(D),docComment:T(D),name:P,variableName:T(P),typeName:_,tagName:T(_),propertyName:E,attributeName:T(E),className:T(P),labelName:T(P),namespace:T(P),macroName:T(P),literal:R,string:B,docString:T(B),character:T(B),attributeValue:T(B),number:N,integer:T(N),float:T(N),bool:T(R),regexp:T(R),escape:T(R),color:T(R),url:T(R),keyword:V,self:T(V),null:T(V),atom:T(V),unit:T(V),modifier:T(V),operatorKeyword:T(V),controlKeyword:T(V),definitionKeyword:T(V),moduleKeyword:T(V),operator:z,derefOperator:T(z),arithmeticOperator:T(z),logicOperator:T(z),bitwiseOperator:T(z),compareOperator:T(z),updateOperator:T(z),definitionOperator:T(z),typeOperator:T(z),controlOperator:T(z),punctuation:H,separator:T(H),bracket:W,angleBracket:T(W),squareBracket:T(W),paren:T(W),brace:T(W),content:L,heading:I,heading1:T(I),heading2:T(I),heading3:T(I),heading4:T(I),heading5:T(I),heading6:T(I),contentSeparator:T(L),list:T(L),quote:T(L),emphasis:T(L),strong:T(L),link:T(L),monospace:T(L),strikethrough:T(L),inserted:T(),deleted:T(),changed:T(),invalid:T(),meta:q,documentMeta:T(q),annotation:T(q),processingInstruction:T(q),definition:c.defineModifier(),constant:c.defineModifier(),function:c.defineModifier(),standard:c.defineModifier(),local:c.defineModifier(),special:c.defineModifier()},F=x.define([{tag:j.link,textDecoration:"underline"},{tag:j.heading,textDecoration:"underline",fontWeight:"bold"},{tag:j.emphasis,fontStyle:"italic"},{tag:j.strong,fontWeight:"bold"},{tag:j.strikethrough,textDecoration:"line-through"},{tag:j.keyword,color:"#708"},{tag:[j.atom,j.bool,j.url,j.contentSeparator,j.labelName],color:"#219"},{tag:[j.literal,j.inserted],color:"#164"},{tag:[j.string,j.deleted],color:"#a11"},{tag:[j.regexp,j.escape,j.special(j.string)],color:"#e40"},{tag:j.definition(j.variableName),color:"#00f"},{tag:j.local(j.variableName),color:"#30a"},{tag:[j.typeName,j.namespace],color:"#085"},{tag:j.className,color:"#167"},{tag:[j.special(j.variableName),j.macroName],color:"#256"},{tag:j.definition(j.propertyName),color:"#00c"},{tag:j.comment,color:"#940"},{tag:j.meta,color:"#7a757a"},{tag:j.invalid,color:"#f00"}]);j.link,j.heading,j.emphasis,j.strong,j.keyword,j.atom,j.bool,j.url,j.labelName,j.inserted,j.deleted,j.literal,j.string,j.number,j.regexp,j.escape,j.string,j.variableName,j.variableName,j.variableName,j.variableName,j.propertyName,j.typeName,j.namespace,j.className,j.macroName,j.propertyName,j.operator,j.comment,j.meta,j.invalid,j.punctuation},c06e:function(t,e,i){"use strict";i.d(e,"a",(function(){return a})),i.d(e,"b",(function(){return c})),i.d(e,"c",(function(){return s}));var n=i("e1ea");class s{eq(t){return this==t}range(t,e=t){return new r(t,e,this)}}s.prototype.startSide=s.prototype.endSide=0,s.prototype.point=!1,s.prototype.mapMode=n["h"].TrackDel;class r{constructor(t,e,i){this.from=t,this.to=e,this.value=i}}function o(t,e){return t.from-e.from||t.value.startSide-e.value.startSide}class l{constructor(t,e,i,n){this.from=t,this.to=e,this.value=i,this.maxPoint=n}get length(){return this.to[this.to.length-1]}findIndex(t,e,i,n=0){let s=i?this.to:this.from;for(let r=n,o=s.length;;){if(r==o)return r;let n=r+o>>1,l=s[n]-t||(i?this.value[n].endSide:this.value[n].startSide)-e;if(n==r)return l>=0?r:o;l>=0?o=n:r=n+1}}between(t,e,i,n){for(let s=this.findIndex(e,-1e9,!0),r=this.findIndex(i,1e9,!1,s);s<r;s++)if(!1===n(this.from[s]+t,this.to[s]+t,this.value[s]))return!1}map(t,e){let i=[],n=[],s=[],r=-1,o=-1;for(let l=0;l<this.value.length;l++){let a,h,c=this.value[l],u=this.from[l]+t,d=this.to[l]+t;if(u==d){let t=e.mapPos(u,c.startSide,c.mapMode);if(null==t)continue;if(a=h=t,c.startSide!=c.endSide&&(h=e.mapPos(u,c.endSide),h<a))continue}else if(a=e.mapPos(u,c.startSide),h=e.mapPos(d,c.endSide),a>h||a==h&&c.startSide>0&&c.endSide<=0)continue;(h-a||c.endSide-c.startSide)<0||(r<0&&(r=a),c.point&&(o=Math.max(o,h-a)),i.push(c),n.push(a-r),s.push(h-r))}return{mapped:i.length?new l(n,s,i,o):null,pos:r}}}class a{constructor(t,e,i=a.empty,n){this.chunkPos=t,this.chunk=e,this.nextLayer=i,this.maxPoint=n}get length(){let t=this.chunk.length-1;return t<0?0:Math.max(this.chunkEnd(t),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let t=this.nextLayer.size;for(let e of this.chunk)t+=e.value.length;return t}chunkEnd(t){return this.chunkPos[t]+this.chunk[t].length}update(t){let{add:e=[],sort:i=!1,filterFrom:n=0,filterTo:s=this.length}=t,l=t.filter;if(0==e.length&&!l)return this;if(i&&(e=e.slice().sort(o)),this.isEmpty)return e.length?a.of(e):this;let h=new d(this,null,-1).goto(0),u=0,f=[],p=new c;while(h.value||u<e.length)if(u<e.length&&(h.from-e[u].from||h.startSide-e[u].value.startSide)>=0){let t=e[u++];p.addInner(t.from,t.to,t.value)||f.push(t)}else 1==h.rangeIndex&&h.chunkIndex<this.chunk.length&&(u==e.length||this.chunkEnd(h.chunkIndex)<e[u].from)&&(!l||n>this.chunkEnd(h.chunkIndex)||s<this.chunkPos[h.chunkIndex])&&p.addChunk(this.chunkPos[h.chunkIndex],this.chunk[h.chunkIndex])?h.nextChunk():((!l||n>h.to||s<h.from||l(h.from,h.to,h.value))&&(p.addInner(h.from,h.to,h.value)||f.push(new r(h.from,h.to,h.value))),h.next());return p.finishInner(this.nextLayer.isEmpty&&!f.length?a.empty:this.nextLayer.update({add:f,filter:l,filterFrom:n,filterTo:s}))}map(t){if(t.empty||this.isEmpty)return this;let e=[],i=[],n=-1;for(let r=0;r<this.chunk.length;r++){let s=this.chunkPos[r],o=this.chunk[r],l=t.touchesRange(s,s+o.length);if(!1===l)n=Math.max(n,o.maxPoint),e.push(o),i.push(t.mapPos(s));else if(!0===l){let{mapped:r,pos:l}=o.map(s,t);r&&(n=Math.max(n,r.maxPoint),e.push(r),i.push(l))}}let s=this.nextLayer.map(t);return 0==e.length?s:new a(i,e,s,n)}between(t,e,i){if(!this.isEmpty){for(let n=0;n<this.chunk.length;n++){let s=this.chunkPos[n],r=this.chunk[n];if(e>=s&&t<=s+r.length&&!1===r.between(s,t-s,e-s,i))return}this.nextLayer.between(t,e,i)}}iter(t=0){return f.from([this]).goto(t)}get isEmpty(){return this.nextLayer==this}static iter(t,e=0){return f.from(t).goto(e)}static compare(t,e,i,n,s=-1){let r=t.filter(t=>t.maxPoint>0||!t.isEmpty&&t.maxPoint>=s),o=e.filter(t=>t.maxPoint>0||!t.isEmpty&&t.maxPoint>=s),l=u(r,o,i),a=new g(r,l,s),h=new g(o,l,s);i.iterGaps((t,e,i)=>m(a,t,h,e,i,n)),i.empty&&0==i.length&&m(a,0,h,0,0,n)}static eq(t,e,i=0,n){null==n&&(n=1e9);let s=t.filter(t=>!t.isEmpty&&e.indexOf(t)<0),r=e.filter(e=>!e.isEmpty&&t.indexOf(e)<0);if(s.length!=r.length)return!1;if(!s.length)return!0;let o=u(s,r),l=new g(s,o,0).goto(i),a=new g(r,o,0).goto(i);for(;;){if(l.to!=a.to||!v(l.active,a.active)||l.point&&(!a.point||!l.point.eq(a.point)))return!1;if(l.to>n)return!0;l.next(),a.next()}}static spans(t,e,i,n,s=-1){var r;let o=new g(t,null,s,null===(r=n.filterPoint)||void 0===r?void 0:r.bind(n)).goto(e),l=e,a=o.openStart;for(;;){let t=Math.min(o.to,i);if(o.point?(n.point(l,t,o.point,o.activeForPoint(o.to),a),a=o.openEnd(t)+(o.to>t?1:0)):t>l&&(n.span(l,t,o.active,a),a=o.openEnd(t)),o.to>i)break;l=o.to,o.next()}return a}static of(t,e=!1){let i=new c;for(let n of t instanceof r?[t]:e?h(t):t)i.add(n.from,n.to,n.value);return i.finish()}}function h(t){if(t.length>1)for(let e=t[0],i=1;i<t.length;i++){let n=t[i];if(o(e,n)>0)return t.slice().sort(o);e=n}return t}a.empty=new a([],[],null,-1),a.empty.nextLayer=a.empty;class c{constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}finishChunk(t){this.chunks.push(new l(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,t&&(this.from=[],this.to=[],this.value=[])}add(t,e,i){this.addInner(t,e,i)||(this.nextLayer||(this.nextLayer=new c)).add(t,e,i)}addInner(t,e,i){let n=t-this.lastTo||i.startSide-this.last.endSide;if(n<=0&&(t-this.lastFrom||i.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return!(n<0)&&(250==this.from.length&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=t),this.from.push(t-this.chunkStart),this.to.push(e-this.chunkStart),this.last=i,this.lastFrom=t,this.lastTo=e,this.value.push(i),i.point&&(this.maxPoint=Math.max(this.maxPoint,e-t)),!0)}addChunk(t,e){if((t-this.lastTo||e.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,e.maxPoint),this.chunks.push(e),this.chunkPos.push(t);let i=e.value.length-1;return this.last=e.value[i],this.lastFrom=e.from[i]+t,this.lastTo=e.to[i]+t,!0}finish(){return this.finishInner(a.empty)}finishInner(t){if(this.from.length&&this.finishChunk(!1),0==this.chunks.length)return t;let e=new a(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(t):t,this.setMaxPoint);return this.from=null,e}}function u(t,e,i){let n=new Map;for(let r of t)for(let t=0;t<r.chunk.length;t++)r.chunk[t].maxPoint<=0&&n.set(r.chunk[t],r.chunkPos[t]);let s=new Set;for(let r of e)for(let t=0;t<r.chunk.length;t++){let e=n.get(r.chunk[t]);null==e||(i?i.mapPos(e):e)!=r.chunkPos[t]||(null===i||void 0===i?void 0:i.touchesRange(e,e+r.chunk[t].length))||s.add(r.chunk[t])}return s}class d{constructor(t,e,i,n=0){this.layer=t,this.skip=e,this.minPoint=i,this.rank=n}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(t,e=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(t,e,!1),this}gotoInner(t,e,i){while(this.chunkIndex<this.layer.chunk.length){let e=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(e)||this.layer.chunkEnd(this.chunkIndex)<t||e.maxPoint<this.minPoint))break;this.chunkIndex++,i=!1}if(this.chunkIndex<this.layer.chunk.length){let n=this.layer.chunk[this.chunkIndex].findIndex(t-this.layer.chunkPos[this.chunkIndex],e,!0);(!i||this.rangeIndex<n)&&this.setRangeIndex(n)}this.next()}forward(t,e){(this.to-t||this.endSide-e)<0&&this.gotoInner(t,e,!0)}next(){for(;;){if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}{let t=this.layer.chunkPos[this.chunkIndex],e=this.layer.chunk[this.chunkIndex],i=t+e.from[this.rangeIndex];if(this.from=i,this.to=t+e.to[this.rangeIndex],this.value=e.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}}setRangeIndex(t){if(t==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)while(this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]))this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=t}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(t){return this.from-t.from||this.startSide-t.startSide||this.to-t.to||this.endSide-t.endSide}}class f{constructor(t){this.heap=t}static from(t,e=null,i=-1){let n=[];for(let s=0;s<t.length;s++)for(let r=t[s];!r.isEmpty;r=r.nextLayer)r.maxPoint>=i&&n.push(new d(r,e,i,s));return 1==n.length?n[0]:new f(n)}get startSide(){return this.value?this.value.startSide:0}goto(t,e=-1e9){for(let i of this.heap)i.goto(t,e);for(let i=this.heap.length>>1;i>=0;i--)p(this.heap,i);return this.next(),this}forward(t,e){for(let i of this.heap)i.forward(t,e);for(let i=this.heap.length>>1;i>=0;i--)p(this.heap,i);(this.to-t||this.value.endSide-e)<0&&this.next()}next(){if(0==this.heap.length)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let t=this.heap[0];this.from=t.from,this.to=t.to,this.value=t.value,this.rank=t.rank,t.value&&t.next(),p(this.heap,0)}}}function p(t,e){for(let i=t[e];;){let n=1+(e<<1);if(n>=t.length)break;let s=t[n];if(n+1<t.length&&s.compare(t[n+1])>=0&&(s=t[n+1],n++),i.compare(s)<0)break;t[n]=i,t[e]=s,e=n}}class g{constructor(t,e,i,n=(()=>!0)){this.minPoint=i,this.filterPoint=n,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=f.from(t,e,i)}goto(t,e=-1e9){return this.cursor.goto(t,e),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=t,this.endSide=e,this.openStart=-1,this.next(),this}forward(t,e){while(this.minActive>-1&&(this.activeTo[this.minActive]-t||this.active[this.minActive].endSide-e)<0)this.removeActive(this.minActive);this.cursor.forward(t,e)}removeActive(t){w(this.active,t),w(this.activeTo,t),w(this.activeRank,t),this.minActive=y(this.active,this.activeTo)}addActive(t){let e=0,{value:i,to:n,rank:s}=this.cursor;while(e<this.activeRank.length&&this.activeRank[e]<=s)e++;b(this.active,e,i),b(this.activeTo,e,n),b(this.activeRank,e,s),t&&b(t,e,this.cursor.from),this.minActive=y(this.active,this.activeTo)}next(){let t=this.to,e=this.point;this.point=null;let i=this.openStart<0?[]:null,n=0;for(;;){let s=this.minActive;if(s>-1&&(this.activeTo[s]-this.cursor.from||this.active[s].endSide-this.cursor.startSide)<0){if(this.activeTo[s]>t){this.to=this.activeTo[s],this.endSide=this.active[s].endSide;break}this.removeActive(s),i&&w(i,s)}else{if(!this.cursor.value){this.to=this.endSide=1e9;break}if(this.cursor.from>t){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}{let s=this.cursor.value;if(s.point)if(e&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{if(this.filterPoint(this.cursor.from,this.cursor.to,this.cursor.value,this.cursor.rank)){this.point=s,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=s.endSide,this.cursor.from<t&&(n=1),this.cursor.next(),this.to>t&&this.forward(this.to,this.endSide);break}this.cursor.next()}else this.addActive(i),this.cursor.next()}}}if(i){let e=0;while(e<i.length&&i[e]<t)e++;this.openStart=e+n}}activeForPoint(t){if(!this.active.length)return this.active;let e=[];for(let i=this.active.length-1;i>=0;i--){if(this.activeRank[i]<this.pointRank)break;(this.activeTo[i]>t||this.activeTo[i]==t&&this.active[i].endSide>=this.point.endSide)&&e.push(this.active[i])}return e.reverse()}openEnd(t){let e=0;for(let i=this.activeTo.length-1;i>=0&&this.activeTo[i]>t;i--)e++;return e}}function m(t,e,i,n,s,r){t.goto(e),i.goto(n);let o=n+s,l=n,a=n-e;for(;;){let e=t.to+a-i.to||t.endSide-i.endSide,n=e<0?t.to+a:i.to,s=Math.min(n,o);if(t.point||i.point?t.point&&i.point&&(t.point==i.point||t.point.eq(i.point))&&v(t.activeForPoint(t.to+a),i.activeForPoint(i.to))||r.comparePoint(l,s,t.point,i.point):s>l&&!v(t.active,i.active)&&r.compareRange(l,s,t.active,i.active),n>o)break;l=n,e<=0&&t.next(),e>=0&&i.next()}}function v(t,e){if(t.length!=e.length)return!1;for(let i=0;i<t.length;i++)if(t[i]!=e[i]&&!t[i].eq(e[i]))return!1;return!0}function w(t,e){for(let i=e,n=t.length-1;i<n;i++)t[i]=t[i+1];t.pop()}function b(t,e,i){for(let n=t.length-1;n>=e;n--)t[n+1]=t[n];t[e]=i}function y(t,e){let i=-1,n=1e9;for(let s=0;s<e.length;s++)(e[s]-n||t[s].endSide-t[i].endSide)<0&&(i=s,n=e[s]);return i}},caa4:function(t,e,i){"use strict";i.d(e,"a",(function(){return M})),i.d(e,"b",(function(){return u})),i.d(e,"c",(function(){return x})),i.d(e,"d",(function(){return V})),i.d(e,"e",(function(){return q})),i.d(e,"f",(function(){return F})),i.d(e,"g",(function(){return O})),i.d(e,"h",(function(){return A})),i.d(e,"i",(function(){return T})),i.d(e,"j",(function(){return H})),i.d(e,"k",(function(){return C})),i.d(e,"l",(function(){return S})),i.d(e,"m",(function(){return y})),i.d(e,"n",(function(){return d}));var n=i("9669"),s=i("e1ea"),r=i("02d1"),o=i("b99a");const l=new n["b"];function a(t){return s["g"].define({combine:t?e=>e.concat(t):void 0})}class h{constructor(t,e,i,n=[]){this.data=t,this.topNode=i,s["f"].prototype.hasOwnProperty("tree")||Object.defineProperty(s["f"].prototype,"tree",{get(){return d(this)}}),this.parser=e,this.extension=[y.of(this),s["f"].languageData.of((t,e,i)=>t.facet(c(t,e,i)))].concat(n)}isActiveAt(t,e,i=-1){return c(t,e,i)==this.data}findRegions(t){let e=t.facet(y);if((null===e||void 0===e?void 0:e.data)==this.data)return[{from:0,to:t.doc.length}];if(!e||!e.allowsNesting)return[];let i=[],s=(t,e)=>{if(t.prop(l)==this.data)return void i.push({from:e,to:e+t.length});let r=t.prop(n["b"].mounted);if(r){if(r.tree.prop(l)==this.data){if(r.overlay)for(let t of r.overlay)i.push({from:t.from+e,to:t.to+e});else i.push({from:e,to:e+t.length});return}if(r.overlay){let t=i.length;if(s(r.tree,r.overlay[0].from+e),i.length>t)return}}for(let i=0;i<t.children.length;i++){let r=t.children[i];r instanceof n["f"]&&s(r,t.positions[i]+e)}};return s(d(t),0),i}get allowsNesting(){return!0}}function c(t,e,i){let n=t.facet(y);if(!n)return null;let s=n.data;if(n.allowsNesting)for(let r=d(t).topNode;r;r=r.enter(e,i,!0,!1))s=r.type.prop(l)||s;return s}h.setState=s["j"].define();class u extends h{constructor(t,e){super(t,e,e.topNode),this.parser=e}static define(t){let e=a(t.languageData);return new u(e,t.parser.configure({props:[l.add(t=>t.isTop?e:void 0)]}))}configure(t){return new u(this.data,this.parser.configure(t))}get allowsNesting(){return this.parser.wrappers.length>0}}function d(t){let e=t.field(h.state,!1);return e?e.tree:n["f"].empty}class f{constructor(t,e=t.length){this.doc=t,this.length=e,this.cursorPos=0,this.string="",this.cursor=t.iter()}syncTo(t){return this.string=this.cursor.next(t-this.cursorPos).value,this.cursorPos=t+this.string.length,this.cursorPos-this.string.length}chunk(t){return this.syncTo(t),this.string}get lineChunks(){return!0}read(t,e){let i=this.cursorPos-this.string.length;return t<i||e>=this.cursorPos?this.doc.sliceString(t,e):this.string.slice(t-i,e-i)}}let p=null;class g{constructor(t,e,i=[],n,s,r,o,l){this.parser=t,this.state=e,this.fragments=i,this.tree=n,this.treeLen=s,this.viewport=r,this.skipped=o,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}startParse(){return this.parser.startParse(new f(this.state.doc),this.fragments)}work(t,e){return null!=e&&e>=this.state.doc.length&&(e=void 0),this.tree!=n["f"].empty&&this.isDone(null!==e&&void 0!==e?e:this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var i;let s=Date.now()+t;for(this.parse||(this.parse=this.startParse()),null!=e&&(null==this.parse.stoppedAt||this.parse.stoppedAt>e)&&e<this.state.doc.length&&this.parse.stopAt(e);;){let t=this.parse.advance();if(t){if(this.fragments=this.withoutTempSkipped(n["g"].addTree(t,this.fragments,null!=this.parse.stoppedAt)),this.treeLen=null!==(i=this.parse.stoppedAt)&&void 0!==i?i:this.state.doc.length,this.tree=t,this.parse=null,!(this.treeLen<(null!==e&&void 0!==e?e:this.state.doc.length)))return!0;this.parse=this.startParse()}if(Date.now()>s)return!1}})}takeTree(){let t,e;this.parse&&(t=this.parse.parsedPos)>=this.treeLen&&((null==this.parse.stoppedAt||this.parse.stoppedAt>t)&&this.parse.stopAt(t),this.withContext(()=>{while(!(e=this.parse.advance()));}),this.treeLen=t,this.tree=e,this.fragments=this.withoutTempSkipped(n["g"].addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(t){let e=p;p=this;try{return t()}finally{p=e}}withoutTempSkipped(t){for(let e;e=this.tempSkipped.pop();)t=m(t,e.from,e.to);return t}changes(t,e){let{fragments:i,tree:s,treeLen:r,viewport:o,skipped:l}=this;if(this.takeTree(),!t.empty){let e=[];if(t.iterChangedRanges((t,i,n,s)=>e.push({fromA:t,toA:i,fromB:n,toB:s})),i=n["g"].applyChanges(i,e),s=n["f"].empty,r=0,o={from:t.mapPos(o.from,-1),to:t.mapPos(o.to,1)},this.skipped.length){l=[];for(let e of this.skipped){let i=t.mapPos(e.from,1),n=t.mapPos(e.to,-1);i<n&&l.push({from:i,to:n})}}}return new g(this.parser,e,i,s,r,o,l,this.scheduleOn)}updateViewport(t){if(this.viewport.from==t.from&&this.viewport.to==t.to)return!1;this.viewport=t;let e=this.skipped.length;for(let i=0;i<this.skipped.length;i++){let{from:e,to:n}=this.skipped[i];e<t.to&&n>t.from&&(this.fragments=m(this.fragments,e,n),this.skipped.splice(i--,1))}return!(this.skipped.length>=e)&&(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(t,e){this.skipped.push({from:t,to:e})}static getSkippingParser(t){return new class extends n["e"]{createParse(e,i,s){let r=s[0].from,o=s[s.length-1].to,l={parsedPos:r,advance(){let e=p;if(e){for(let t of s)e.tempSkipped.push(t);t&&(e.scheduleOn=e.scheduleOn?Promise.all([e.scheduleOn,t]):t)}return this.parsedPos=o,new n["f"](n["d"].none,[],[],o-r)},stoppedAt:null,stopAt(){}};return l}}}isDone(t){t=Math.min(t,this.state.doc.length);let e=this.fragments;return this.treeLen>=t&&e.length&&0==e[0].from&&e[0].to>=t}static get(){return p}}function m(t,e,i){return n["g"].applyChanges(t,[{fromA:e,toA:i,fromB:e,toB:i}])}class v{constructor(t){this.context=t,this.tree=t.tree}apply(t){if(!t.docChanged)return this;let e=this.context.changes(t.changes,t.state),i=this.context.treeLen==t.startState.doc.length?void 0:Math.max(t.changes.mapPos(this.context.treeLen),e.viewport.to);return e.work(20,i)||e.takeTree(),new v(e)}static init(t){let e=Math.min(3e3,t.doc.length),i=new g(t.facet(y).parser,t,[],n["f"].empty,0,{from:0,to:e},[],null);return i.work(20,e)||i.takeTree(),new v(i)}}h.state=s["k"].define({create:v.init,update(t,e){for(let i of e.effects)if(i.is(h.setState))return i.value;return e.startState.facet(y)!=e.state.facet(y)?v.init(e.state):t.apply(e)}});let w=t=>{let e=setTimeout(()=>t(),500);return()=>clearTimeout(e)};"undefined"!=typeof requestIdleCallback&&(w=t=>{let e=-1,i=setTimeout(()=>{e=requestIdleCallback(t,{timeout:400})},100);return()=>e<0?clearTimeout(i):cancelIdleCallback(e)});const b=r["f"].fromClass(class{constructor(t){this.view=t,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(t){let e=this.view.state.field(h.state).context;(e.updateViewport(t.view.viewport)||this.view.viewport.to>e.treeLen)&&this.scheduleWork(),t.docChanged&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(e)}scheduleWork(){if(this.working)return;let{state:t}=this.view,e=t.field(h.state);e.tree==e.context.tree&&e.context.isDone(t.doc.length)||(this.working=w(this.work))}work(t){this.working=null;let e=Date.now();if(this.chunkEnd<e&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=e+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:i,viewport:{to:n}}=this.view,s=i.field(h.state);if(s.tree==s.context.tree&&s.context.isDone(n+1e5))return;let r=Math.min(this.chunkBudget,100,t?Math.max(25,t.timeRemaining()-5):1e9),o=s.context.treeLen<n&&i.doc.length>n+1e3,l=s.context.work(r,n+(o?0:1e5));this.chunkBudget-=Date.now()-e,(l||this.chunkBudget<=0)&&(s.context.takeTree(),this.view.dispatch({effects:h.setState.of(new v(s.context))})),this.chunkBudget>0&&(!l||o)&&this.scheduleWork(),this.checkAsyncSchedule(s.context)}checkAsyncSchedule(t){t.scheduleOn&&(this.workScheduled++,t.scheduleOn.then(()=>this.scheduleWork()).catch(t=>Object(r["l"])(this.view.state,t)).then(()=>this.workScheduled--),t.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return this.working||this.workScheduled>0}},{eventHandlers:{focus(){this.scheduleWork()}}}),y=s["g"].define({combine(t){return t.length?t[0]:null},enables:[h.state,b]});class x{constructor(t,e=[]){this.language=t,this.support=e,this.extension=[t,e]}}const k=s["g"].define(),S=s["g"].define({combine:t=>{if(!t.length)return"  ";if(!/^(?: +|\t+)$/.test(t[0]))throw new Error("Invalid indent unit: "+JSON.stringify(t[0]));return t[0]}});function O(t){let e=t.facet(S);return 9==e.charCodeAt(0)?t.tabSize*e.length:e.length}function C(t,e){let i="",n=t.tabSize;if(9==t.facet(S).charCodeAt(0))while(e>=n)i+="\t",e-=n;for(let s=0;s<e;s++)i+=" ";return i}function A(t,e){t instanceof s["f"]&&(t=new M(t));for(let n of t.state.facet(k)){let i=n(t,e);if(null!=i)return i}let i=d(t.state);return i?D(t,i,e):null}class M{constructor(t,e={}){this.state=t,this.options=e,this.unit=O(t)}lineAt(t,e=1){let i=this.state.doc.lineAt(t),{simulateBreak:n,simulateDoubleBreak:s}=this.options;return null!=n&&n>=i.from&&n<=i.to?s&&n==t?{text:"",from:t}:(e<0?n<t:n<=t)?{text:i.text.slice(n-i.from),from:n}:{text:i.text.slice(0,n-i.from),from:i.from}:i}textAfterPos(t,e=1){if(this.options.simulateDoubleBreak&&t==this.options.simulateBreak)return"";let{text:i,from:n}=this.lineAt(t,e);return i.slice(t-n,Math.min(i.length,t+100-n))}column(t,e=1){let{text:i,from:n}=this.lineAt(t,e),s=this.countColumn(i,t-n),r=this.options.overrideIndentation?this.options.overrideIndentation(n):-1;return r>-1&&(s+=r-this.countColumn(i,i.search(/\S|$/))),s}countColumn(t,e=t.length){return Object(o["d"])(t,this.state.tabSize,e)}lineIndent(t,e=1){let{text:i,from:n}=this.lineAt(t,e),s=this.options.overrideIndentation;if(s){let t=s(n);if(t>-1)return t}return this.countColumn(i,i.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const T=new n["b"];function D(t,e,i){return E(e.resolveInner(i).enterUnfinishedNodesBefore(i),i,t)}function P(t){return t.pos==t.options.simulateBreak&&t.options.simulateDoubleBreak}function _(t){let e=t.type.prop(T);if(e)return e;let i,s=t.firstChild;if(s&&(i=s.type.prop(n["b"].closedBy))){let e=t.lastChild,n=e&&i.indexOf(e.name)>-1;return t=>I(t,!0,1,void 0,n&&!P(t)?e.from:void 0)}return null==t.parent?R:null}function E(t,e,i){for(;t;t=t.parent){let n=_(t);if(n)return n(new B(i,e,t))}return null}function R(){return 0}class B extends M{constructor(t,e,i){super(t.state,t.options),this.base=t,this.pos=e,this.node=i}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){let t=this.state.doc.lineAt(this.node.from);for(;;){let e=this.node.resolve(t.from);while(e.parent&&e.parent.from==e.from)e=e.parent;if(N(e,this.node))break;t=this.state.doc.lineAt(e.from)}return this.lineIndent(t.from)}continue(){let t=this.node.parent;return t?E(t,this.pos,this.base):0}}function N(t,e){for(let i=e;i;i=i.parent)if(t==i)return!0;return!1}function L(t){let e=t.node,i=e.childAfter(e.from),n=e.lastChild;if(!i)return null;let s=t.options.simulateBreak,r=t.state.doc.lineAt(i.from),o=null==s||s<=r.from?r.to:Math.min(r.to,s);for(let l=i.to;;){let t=e.childAfter(l);if(!t||t==n)return null;if(!t.type.isSkipped)return t.from<o?i:null;l=t.to}}function I(t,e,i,n,s){let r=t.textAfter,o=r.match(/^\s*/)[0].length,l=n&&r.slice(o,o+n.length)==n||s==t.pos+o,a=e?L(t):null;return a?l?t.column(a.from):t.column(a.to):t.baseIndent+(l?0:t.unit*i)}function V({except:t,units:e=1}={}){return i=>{let n=t&&t.test(i.textAfter);return i.baseIndent+(n?0:e*i.unit)}}const z=200;function H(){return s["f"].transactionFilter.of(t=>{if(!t.docChanged||!t.isUserEvent("input.type"))return t;let e=t.startState.languageDataAt("indentOnInput",t.startState.selection.main.head);if(!e.length)return t;let i=t.newDoc,{head:n}=t.newSelection.main,s=i.lineAt(n);if(n>s.from+z)return t;let r=i.sliceString(s.from,n);if(!e.some(t=>t.test(r)))return t;let{state:o}=t,l=-1,a=[];for(let{head:h}of o.selection.ranges){let t=o.doc.lineAt(h);if(t.from==l)continue;l=t.from;let e=A(o,t.from);if(null==e)continue;let i=/^\s*/.exec(t.text)[0],n=C(o,e);i!=n&&a.push({from:t.from,to:t.from+i.length,insert:n})}return a.length?[t,{changes:a,sequential:!0}]:t})}const W=s["g"].define(),q=new n["b"];function j(t,e,i){let n=d(t);if(0==n.length)return null;let s=n.resolveInner(i),r=null;for(let o=s;o;o=o.parent){if(o.to<=i||o.from>i)continue;if(r&&o.from<e)break;let n=o.type.prop(q);if(n){let s=n(o,t);s&&s.from<=i&&s.from>=e&&s.to>i&&(r=s)}}return r}function F(t,e,i){for(let n of t.facet(W)){let s=n(t,e,i);if(s)return s}return j(t,e,i)}},d457:function(t,e,i){"use strict";i.d(e,"a",(function(){return st})),i.d(e,"b",(function(){return u})),i.d(e,"c",(function(){return rt})),i.d(e,"d",(function(){return d}));var n=i("e1ea"),s=i("b99a"),r=i("02d1"),o=i("7cad"),l=i("caa4");class a{constructor(t,e,i){this.state=t,this.pos=e,this.explicit=i,this.abortListeners=[]}tokenBefore(t){let e=Object(l["n"])(this.state).resolveInner(this.pos,-1);while(e&&t.indexOf(e.name)<0)e=e.parent;return e?{from:e.from,to:this.pos,text:this.state.sliceDoc(e.from,this.pos),type:e.type}:null}matchBefore(t){let e=this.state.doc.lineAt(this.pos),i=Math.max(e.from,this.pos-250),n=e.text.slice(i-e.from,this.pos-e.from),s=n.search(g(t,!1));return s<0?null:{from:i+s,to:this.pos,text:n.slice(s)}}get aborted(){return null==this.abortListeners}addEventListener(t,e){"abort"==t&&this.abortListeners&&this.abortListeners.push(e)}}function h(t){let e=Object.keys(t).join(""),i=/\w/.test(e);return i&&(e=e.replace(/\w/g,"")),`[${i?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function c(t){let e=Object.create(null),i=Object.create(null);for(let{label:s}of t){e[s[0]]=!0;for(let t=1;t<s.length;t++)i[s[t]]=!0}let n=h(e)+h(i)+"*$";return[new RegExp("^"+n),new RegExp(n)]}function u(t){let e=t.map(t=>"string"==typeof t?{label:t}:t),[i,n]=e.every(t=>/^\w+$/.test(t.label))?[/\w*$/,/\w+$/]:c(e);return t=>{let s=t.matchBefore(n);return s||t.explicit?{from:s?s.from:t.pos,options:e,span:i}:null}}function d(t,e){return i=>{for(let e=Object(l["n"])(i.state).resolveInner(i.pos,-1);e;e=e.parent)if(t.indexOf(e.name)>-1)return null;return e(i)}}class f{constructor(t,e,i){this.completion=t,this.source=e,this.match=i}}function p(t){return t.selection.main.head}function g(t,e){var i;let{source:n}=t,s=e&&"^"!=n[0],r="$"!=n[n.length-1];return s||r?new RegExp(`${s?"^":""}(?:${n})${r?"$":""}`,null!==(i=t.flags)&&void 0!==i?i:t.ignoreCase?"i":""):t}const m=n["a"].define();function v(t,e){let i=e.completion.apply||e.completion.label,n=e.source;"string"==typeof i?t.dispatch({changes:{from:n.from,to:n.to,insert:i},selection:{anchor:n.from+i.length},userEvent:"input.complete",annotations:m.of(e.completion)}):i(t,e.completion,n.from,n.to)}const w=new WeakMap;function b(t){if(!Array.isArray(t))return t;let e=w.get(t);return e||w.set(t,e=u(t)),e}class y{constructor(t){this.pattern=t,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[];for(let e=0;e<t.length;){let i=Object(s["b"])(t,e),n=Object(s["c"])(i);this.chars.push(i);let r=t.slice(e,e+n),o=r.toUpperCase();this.folded.push(Object(s["b"])(o==r?r.toLowerCase():o,0)),e+=n}this.astral=t.length!=this.chars.length}match(t){if(0==this.pattern.length)return[0];if(t.length<this.pattern.length)return null;let{chars:e,folded:i,any:n,precise:r,byWord:o}=this;if(1==e.length){let n=Object(s["b"])(t,0);return n==e[0]?[0,0,Object(s["c"])(n)]:n==i[0]?[-200,0,Object(s["c"])(n)]:null}let l=t.indexOf(this.pattern);if(0==l)return[0,0,this.pattern.length];let a=e.length,h=0;if(l<0){for(let r=0,o=Math.min(t.length,200);r<o&&h<a;){let o=Object(s["b"])(t,r);o!=e[h]&&o!=i[h]||(n[h++]=r),r+=Object(s["c"])(o)}if(h<a)return null}let c=0,u=0,d=!1,f=0,p=-1,g=-1,m=/[a-z]/.test(t),v=!0;for(let w=0,b=Math.min(t.length,200),y=0;w<b&&u<a;){let n=Object(s["b"])(t,w);l<0&&(c<a&&n==e[c]&&(r[c++]=w),f<a&&(n==e[f]||n==i[f]?(0==f&&(p=w),g=w+1,f++):f=0));let h,b=n<255?n>=48&&n<=57||n>=97&&n<=122?2:n>=65&&n<=90?1:0:(h=Object(s["g"])(n))!=h.toLowerCase()?1:h!=h.toUpperCase()?2:0;(!w||1==b&&m||0==y&&0!=b)&&(e[u]==n||i[u]==n&&(d=!0)?o[u++]=w:o.length&&(v=!1)),y=b,w+=Object(s["c"])(n)}return u==a&&0==o[0]&&v?this.result((d?-200:0)-100,o,t):f==a&&0==p?[-200-t.length,0,g]:l>-1?[-700-t.length,l,l+this.pattern.length]:f==a?[-900-t.length,p,g]:u==a?this.result((d?-200:0)-100-700+(v?0:-1100),o,t):2==e.length?null:this.result((n[0]?-700:0)-200-1100,n,t)}result(t,e,i){let n=[t-i.length],r=1;for(let o of e){let t=o+(this.astral?Object(s["c"])(Object(s["b"])(i,o)):1);r>1&&n[r-1]==o?n[r-1]=t:(n[r++]=o,n[r++]=t)}return n}}const x=n["g"].define({combine(t){return Object(n["m"])(t,{activateOnTyping:!0,override:null,maxRenderedOptions:100,defaultKeymap:!0,optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[]},{defaultKeymap:(t,e)=>t&&e,icons:(t,e)=>t&&e,optionClass:(t,e)=>i=>k(t(i),e(i)),addToOptions:(t,e)=>t.concat(e)})}});function k(t,e){return t?e?t+" "+e:t:e}function S(t){let e=t.addToOptions.slice();return t.icons&&e.push({render(t){let e=document.createElement("div");return e.classList.add("cm-completionIcon"),t.type&&e.classList.add(...t.type.split(/\s+/g).map(t=>"cm-completionIcon-"+t)),e.setAttribute("aria-hidden","true"),e},position:20}),e.push({render(t,e,i){let n=document.createElement("span");n.className="cm-completionLabel";let{label:s}=t,r=0;for(let o=1;o<i.length;){let t=i[o++],e=i[o++];t>r&&n.appendChild(document.createTextNode(s.slice(r,t)));let l=n.appendChild(document.createElement("span"));l.appendChild(document.createTextNode(s.slice(t,e))),l.className="cm-completionMatchedText",r=e}return r<s.length&&n.appendChild(document.createTextNode(s.slice(r))),n},position:50},{render(t){if(!t.detail)return null;let e=document.createElement("span");return e.className="cm-completionDetail",e.textContent=t.detail,e},position:80}),e.sort((t,e)=>t.position-e.position).map(t=>t.render)}function O(t,e){let i=document.createElement("div");i.className="cm-tooltip cm-completionInfo";let{info:n}=t.completion;if("string"==typeof n)i.textContent=n;else{let s=n(t.completion);s.then?s.then(t=>i.appendChild(t),t=>Object(r["l"])(e.state,t,"completion info")):i.appendChild(s)}return i}function C(t,e,i){if(t<=i)return{from:0,to:t};if(e<=t>>1){let t=Math.floor(e/i);return{from:t*i,to:(t+1)*i}}let n=Math.floor((t-e)/i);return{from:t-(n+1)*i,to:t-n*i}}class A{constructor(t,e){this.view=t,this.stateField=e,this.info=null,this.placeInfo={read:()=>this.measureInfo(),write:t=>this.positionInfo(t),key:this};let i=t.state.field(e),{options:n,selected:s}=i.open,r=t.state.facet(x);this.optionContent=S(r),this.optionClass=r.optionClass,this.range=C(n.length,s,r.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.dom.addEventListener("mousedown",e=>{for(let i,s=e.target;s&&s!=this.dom;s=s.parentNode)if("LI"==s.nodeName&&(i=/-(\d+)$/.exec(s.id))&&+i[1]<n.length)return v(t,n[+i[1]]),void e.preventDefault()}),this.list=this.dom.appendChild(this.createListBox(n,i.id,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfo)})}mount(){this.updateSel()}update(t){t.state.field(this.stateField)!=t.startState.field(this.stateField)&&this.updateSel()}positioned(){this.info&&this.view.requestMeasure(this.placeInfo)}updateSel(){let t=this.view.state.field(this.stateField),e=t.open;if((e.selected<this.range.from||e.selected>=this.range.to)&&(this.range=C(e.options.length,e.selected,this.view.state.facet(x).maxRenderedOptions),this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e.options,t.id,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfo)})),this.updateSelectedOption(e.selected)){this.info&&(this.info.remove(),this.info=null);let t=e.options[e.selected];t.completion.info&&(this.info=this.dom.appendChild(O(t,this.view)),this.view.requestMeasure(this.placeInfo))}}updateSelectedOption(t){let e=null;for(let i=this.list.firstChild,n=this.range.from;i;i=i.nextSibling,n++)n==t?i.hasAttribute("aria-selected")||(i.setAttribute("aria-selected","true"),e=i):i.hasAttribute("aria-selected")&&i.removeAttribute("aria-selected");return e&&T(this.list,e),e}measureInfo(){let t=this.dom.querySelector("[aria-selected]");if(!t||!this.info)return null;let e=this.dom.getBoundingClientRect(),i=this.info.getBoundingClientRect(),n=t.getBoundingClientRect();if(n.top>Math.min(innerHeight,e.bottom)-10||n.bottom<Math.max(0,e.top)+10)return null;let s=Math.max(0,Math.min(n.top,innerHeight-i.height))-e.top,o=this.view.textDirection==r["c"].RTL,l=e.left,a=innerWidth-e.right;return o&&l<Math.min(i.width,a)?o=!1:!o&&a<Math.min(i.width,l)&&(o=!0),{top:s,left:o}}positionInfo(t){this.info&&(this.info.style.top=(t?t.top:-1e6)+"px",t&&(this.info.classList.toggle("cm-completionInfo-left",t.left),this.info.classList.toggle("cm-completionInfo-right",!t.left)))}createListBox(t,e,i){const n=document.createElement("ul");n.id=e,n.setAttribute("role","listbox");for(let s=i.from;s<i.to;s++){let{completion:i,match:r}=t[s];const o=n.appendChild(document.createElement("li"));o.id=e+"-"+s,o.setAttribute("role","option");let l=this.optionClass(i);l&&(o.className=l);for(let t of this.optionContent){let e=t(i,this.view.state,r);e&&o.appendChild(e)}}return i.from&&n.classList.add("cm-completionListIncompleteTop"),i.to<t.length&&n.classList.add("cm-completionListIncompleteBottom"),n}}function M(t){return e=>new A(e,t)}function T(t,e){let i=t.getBoundingClientRect(),n=e.getBoundingClientRect();n.top<i.top?t.scrollTop-=i.top-n.top:n.bottom>i.bottom&&(t.scrollTop+=n.bottom-i.bottom)}const D=300;function P(t){return 100*(t.boost||0)+(t.apply?10:0)+(t.info?5:0)+(t.type?1:0)}function _(t,e){let i=[],n=0;for(let o of t)if(o.hasResult())if(!1===o.result.filter)for(let t of o.result.options)i.push(new f(t,o,[1e9-n++]));else{let t,n=new y(e.sliceDoc(o.from,o.to));for(let e of o.result.options)(t=n.match(e.label))&&(null!=e.boost&&(t[0]+=e.boost),i.push(new f(e,o,t)))}i.sort(V);let s=[],r=null;for(let o of i.sort(V)){if(s.length==D)break;r&&r.label==o.completion.label&&r.detail==o.completion.detail&&r.type==o.completion.type&&r.apply==o.completion.apply?P(o.completion)>P(r)&&(s[s.length-1]=o):s.push(o),r=o.completion}return s}class E{constructor(t,e,i,n,s){this.options=t,this.attrs=e,this.tooltip=i,this.timestamp=n,this.selected=s}setSelected(t,e){return t==this.selected||t>=this.options.length?this:new E(this.options,L(e,t),this.tooltip,this.timestamp,t)}static build(t,e,i,n,s){let r=_(t,e);if(!r.length)return null;let o=0;if(n&&n.selected){let t=n.options[n.selected].completion;for(let e=0;e<r.length&&!o;e++)r[e].completion==t&&(o=e)}return new E(r,L(i,o),{pos:t.reduce((t,e)=>e.hasResult()?Math.min(t,e.from):t,1e8),create:M(U),above:s.aboveCursor},n?n.timestamp:Date.now(),o)}map(t){return new E(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:t.mapPos(this.tooltip.pos)}),this.timestamp,this.selected)}}class R{constructor(t,e,i){this.active=t,this.id=e,this.open=i}static start(){return new R(I,"cm-ac-"+Math.floor(2e6*Math.random()).toString(36),null)}update(t){let{state:e}=t,i=e.facet(x),n=i.override||e.languageDataAt("autocomplete",p(e)).map(b),s=n.map(e=>{let n=this.active.find(t=>t.source==e)||new H(e,this.active.some(t=>0!=t.state)?1:0);return n.update(t,i)});s.length==this.active.length&&s.every((t,e)=>t==this.active[e])&&(s=this.active);let r=t.selection||s.some(e=>e.hasResult()&&t.changes.touchesRange(e.from,e.to))||!B(s,this.active)?E.build(s,e,this.id,this.open,i):this.open&&t.docChanged?this.open.map(t.changes):this.open;!r&&s.every(t=>1!=t.state)&&s.some(t=>t.hasResult())&&(s=s.map(t=>t.hasResult()?new H(t.source,0):t));for(let o of t.effects)o.is(Q)&&(r=r&&r.setSelected(o.value,this.id));return s==this.active&&r==this.open?this:new R(s,this.id,r)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:N}}function B(t,e){if(t==e)return!0;for(let i=0,n=0;;){while(i<t.length&&!t[i].hasResult)i++;while(n<e.length&&!e[n].hasResult)n++;let s=i==t.length,r=n==e.length;if(s||r)return s==r;if(t[i++].result!=e[n++].result)return!1}}const N={"aria-autocomplete":"list","aria-expanded":"false"};function L(t,e){return{"aria-autocomplete":"list","aria-expanded":"true","aria-activedescendant":t+"-"+e,"aria-controls":t}}const I=[];function V(t,e){let i=e.match[0]-t.match[0];return i||t.completion.label.localeCompare(e.completion.label)}function z(t){return t.isUserEvent("input.type")?"input":t.isUserEvent("delete.backward")?"delete":null}class H{constructor(t,e,i=-1){this.source=t,this.state=e,this.explicitPos=i}hasResult(){return!1}update(t,e){let i=z(t),n=this;i?n=n.handleUserEvent(t,i,e):t.docChanged?n=n.handleChange(t):t.selection&&0!=n.state&&(n=new H(n.source,0));for(let s of t.effects)if(s.is(q))n=new H(n.source,1,s.value?p(t.state):-1);else if(s.is(j))n=new H(n.source,0);else if(s.is(F))for(let t of s.value)t.source==n.source&&(n=t);return n}handleUserEvent(t,e,i){return"delete"!=e&&i.activateOnTyping?new H(this.source,1):this.map(t.changes)}handleChange(t){return t.changes.touchesRange(p(t.startState))?new H(this.source,0):this.map(t.changes)}map(t){return t.empty||this.explicitPos<0?this:new H(this.source,this.state,t.mapPos(this.explicitPos))}}class W extends H{constructor(t,e,i,n,s,r){super(t,2,e),this.result=i,this.from=n,this.to=s,this.span=r}hasResult(){return!0}handleUserEvent(t,e,i){let n=t.changes.mapPos(this.from),s=t.changes.mapPos(this.to,1),r=p(t.state);if((this.explicitPos<0?r<=n:r<this.from)||r>s||"delete"==e&&p(t.startState)==this.from)return new H(this.source,"input"==e&&i.activateOnTyping?1:0);let o=this.explicitPos<0?-1:t.changes.mapPos(this.explicitPos);return this.span&&(n==s||this.span.test(t.state.sliceDoc(n,s)))?new W(this.source,o,this.result,n,s,this.span):new H(this.source,1,o)}handleChange(t){return t.changes.touchesRange(this.from,this.to)?new H(this.source,0):this.map(t.changes)}map(t){return t.empty?this:new W(this.source,this.explicitPos<0?-1:t.mapPos(this.explicitPos),this.result,t.mapPos(this.from),t.mapPos(this.to,1),this.span)}}const q=n["j"].define(),j=n["j"].define(),F=n["j"].define({map(t,e){return t.map(t=>t.map(e))}}),Q=n["j"].define(),U=n["k"].define({create(){return R.start()},update(t,e){return t.update(e)},provide:t=>[o["c"].from(t,t=>t.tooltip),r["d"].contentAttributes.from(t,t=>t.attrs)]}),K=75;function $(t,e="option"){return i=>{let n=i.state.field(U,!1);if(!n||!n.open||Date.now()-n.open.timestamp<K)return!1;let s,r=1;"page"==e&&(s=Object(o["a"])(i,n.open.tooltip))&&(r=Math.max(2,Math.floor(s.dom.offsetHeight/s.dom.querySelector("li").offsetHeight)-1));let l=n.open.selected+r*(t?1:-1),{length:a}=n.open.options;return l<0?l="page"==e?0:a-1:l>=a&&(l="page"==e?a-1:0),i.dispatch({effects:Q.of(l)}),!0}}const G=t=>{let e=t.state.field(U,!1);return!(t.state.readOnly||!e||!e.open||Date.now()-e.open.timestamp<K)&&(v(t,e.open.options[e.open.selected]),!0)},X=t=>{let e=t.state.field(U,!1);return!!e&&(t.dispatch({effects:q.of(!0)}),!0)},J=t=>{let e=t.state.field(U,!1);return!(!e||!e.active.some(t=>0!=t.state))&&(t.dispatch({effects:j.of(null)}),!0)};class Y{constructor(t,e){this.active=t,this.context=e,this.time=Date.now(),this.updates=[],this.done=void 0}}const Z=50,tt=50,et=1e3,it=r["f"].fromClass(class{constructor(t){this.view=t,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.composing=0;for(let e of t.state.field(U).active)1==e.state&&this.startQuery(e)}update(t){let e=t.state.field(U);if(!t.selectionSet&&!t.docChanged&&t.startState.field(U)==e)return;let i=t.transactions.some(t=>(t.selection||t.docChanged)&&!z(t));for(let s=0;s<this.running.length;s++){let e=this.running[s];if(i||e.updates.length+t.transactions.length>tt&&e.time-Date.now()>et){for(let t of e.context.abortListeners)try{t()}catch(n){Object(r["l"])(this.view.state,n)}e.context.abortListeners=null,this.running.splice(s--,1)}else e.updates.push(...t.transactions)}if(this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),this.debounceUpdate=e.active.some(t=>1==t.state&&!this.running.some(e=>e.active.source==t.source))?setTimeout(()=>this.startUpdate(),Z):-1,0!=this.composing)for(let s of t.transactions)"input"==z(s)?this.composing=2:2==this.composing&&s.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1;let{state:t}=this.view,e=t.field(U);for(let i of e.active)1!=i.state||this.running.some(t=>t.active.source==i.source)||this.startQuery(i)}startQuery(t){let{state:e}=this.view,i=p(e),n=new a(e,i,t.explicitPos==i),s=new Y(t,n);this.running.push(s),Promise.resolve(t.source(n)).then(t=>{s.context.aborted||(s.done=t||null,this.scheduleAccept())},t=>{this.view.dispatch({effects:j.of(null)}),Object(r["l"])(this.view.state,t)})}scheduleAccept(){this.running.every(t=>void 0!==t.done)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),Z))}accept(){var t;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],i=this.view.state.facet(x);for(let n=0;n<this.running.length;n++){let s=this.running[n];if(void 0===s.done)continue;if(this.running.splice(n--,1),s.done){let n=new W(s.active.source,s.active.explicitPos,s.done,s.done.from,null!==(t=s.done.to)&&void 0!==t?t:p(s.updates.length?s.updates[0].startState:this.view.state),s.done.span&&!1!==s.done.filter?g(s.done.span,!0):null);for(let t of s.updates)n=n.update(t,i);if(n.hasResult()){e.push(n);continue}}let r=this.view.state.field(U).active.find(t=>t.source==s.active.source);if(r&&1==r.state)if(null==s.done){let t=new H(s.active.source,0);for(let e of s.updates)t=t.update(e,i);1!=t.state&&e.push(t)}else this.startQuery(r)}e.length&&this.view.dispatch({effects:F.of(e)})}},{eventHandlers:{compositionstart(){this.composing=1},compositionend(){3==this.composing&&setTimeout(()=>this.view.dispatch({effects:q.of(!1)}),20),this.composing=0}}}),nt=r["d"].baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",listStyle:"none",margin:0,padding:0,"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer",padding:"1px 3px",lineHeight:1.2}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"···"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"300px"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'ƒ'"}},".cm-completionIcon-class":{"&:after":{content:"'○'"}},".cm-completionIcon-interface":{"&:after":{content:"'◌'"}},".cm-completionIcon-variable":{"&:after":{content:"'𝑥'"}},".cm-completionIcon-constant":{"&:after":{content:"'𝐶'"}},".cm-completionIcon-type":{"&:after":{content:"'𝑡'"}},".cm-completionIcon-enum":{"&:after":{content:"'∪'"}},".cm-completionIcon-property":{"&:after":{content:"'□'"}},".cm-completionIcon-keyword":{"&:after":{content:"'🔑︎'"}},".cm-completionIcon-namespace":{"&:after":{content:"'▢'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});function st(t={}){return[U,x.of(t),it,ot,nt]}const rt=[{key:"Ctrl-Space",run:X},{key:"Escape",run:J},{key:"ArrowDown",run:$(!0)},{key:"ArrowUp",run:$(!1)},{key:"PageDown",run:$(!0,"page")},{key:"PageUp",run:$(!1,"page")},{key:"Enter",run:G}],ot=n["i"].highest(r["k"].computeN([x],t=>t.facet(x).defaultKeymap?[rt]:[]))},df7c:function(t,e,i){(function(t){function i(t,e){for(var i=0,n=t.length-1;n>=0;n--){var s=t[n];"."===s?t.splice(n,1):".."===s?(t.splice(n,1),i++):i&&(t.splice(n,1),i--)}if(e)for(;i--;i)t.unshift("..");return t}function n(t){"string"!==typeof t&&(t+="");var e,i=0,n=-1,s=!0;for(e=t.length-1;e>=0;--e)if(47===t.charCodeAt(e)){if(!s){i=e+1;break}}else-1===n&&(s=!1,n=e+1);return-1===n?"":t.slice(i,n)}function s(t,e){if(t.filter)return t.filter(e);for(var i=[],n=0;n<t.length;n++)e(t[n],n,t)&&i.push(t[n]);return i}e.resolve=function(){for(var e="",n=!1,r=arguments.length-1;r>=-1&&!n;r--){var o=r>=0?arguments[r]:t.cwd();if("string"!==typeof o)throw new TypeError("Arguments to path.resolve must be strings");o&&(e=o+"/"+e,n="/"===o.charAt(0))}return e=i(s(e.split("/"),(function(t){return!!t})),!n).join("/"),(n?"/":"")+e||"."},e.normalize=function(t){var n=e.isAbsolute(t),o="/"===r(t,-1);return t=i(s(t.split("/"),(function(t){return!!t})),!n).join("/"),t||n||(t="."),t&&o&&(t+="/"),(n?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(s(t,(function(t,e){if("string"!==typeof t)throw new TypeError("Arguments to path.join must be strings");return t})).join("/"))},e.relative=function(t,i){function n(t){for(var e=0;e<t.length;e++)if(""!==t[e])break;for(var i=t.length-1;i>=0;i--)if(""!==t[i])break;return e>i?[]:t.slice(e,i-e+1)}t=e.resolve(t).substr(1),i=e.resolve(i).substr(1);for(var s=n(t.split("/")),r=n(i.split("/")),o=Math.min(s.length,r.length),l=o,a=0;a<o;a++)if(s[a]!==r[a]){l=a;break}var h=[];for(a=l;a<s.length;a++)h.push("..");return h=h.concat(r.slice(l)),h.join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){if("string"!==typeof t&&(t+=""),0===t.length)return".";for(var e=t.charCodeAt(0),i=47===e,n=-1,s=!0,r=t.length-1;r>=1;--r)if(e=t.charCodeAt(r),47===e){if(!s){n=r;break}}else s=!1;return-1===n?i?"/":".":i&&1===n?"/":t.slice(0,n)},e.basename=function(t,e){var i=n(t);return e&&i.substr(-1*e.length)===e&&(i=i.substr(0,i.length-e.length)),i},e.extname=function(t){"string"!==typeof t&&(t+="");for(var e=-1,i=0,n=-1,s=!0,r=0,o=t.length-1;o>=0;--o){var l=t.charCodeAt(o);if(47!==l)-1===n&&(s=!1,n=o+1),46===l?-1===e?e=o:1!==r&&(r=1):-1!==e&&(r=-1);else if(!s){i=o+1;break}}return-1===e||-1===n||0===r||1===r&&e===n-1&&e===i+1?"":t.slice(e,n)};var r="b"==="ab".substr(-1)?function(t,e,i){return t.substr(e,i)}:function(t,e,i){return e<0&&(e=t.length+e),t.substr(e,i)}}).call(this,i("4362"))},e1ea:function(t,e,i){"use strict";i.d(e,"a",(function(){return j})),i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return l})),i.d(e,"d",(function(){return it})),i.d(e,"e",(function(){return g})),i.d(e,"f",(function(){return lt})),i.d(e,"g",(function(){return b})),i.d(e,"h",(function(){return r})),i.d(e,"i",(function(){return T})),i.d(e,"j",(function(){return U})),i.d(e,"k",(function(){return C})),i.d(e,"l",(function(){return K})),i.d(e,"m",(function(){return at}));var n=i("b99a");const s=/\r\n?|\n/;var r=function(t){return t[t["Simple"]=0]="Simple",t[t["TrackDel"]=1]="TrackDel",t[t["TrackBefore"]=2]="TrackBefore",t[t["TrackAfter"]=3]="TrackAfter",t}(r||(r={}));class o{constructor(t){this.sections=t}get length(){let t=0;for(let e=0;e<this.sections.length;e+=2)t+=this.sections[e];return t}get newLength(){let t=0;for(let e=0;e<this.sections.length;e+=2){let i=this.sections[e+1];t+=i<0?this.sections[e]:i}return t}get empty(){return 0==this.sections.length||2==this.sections.length&&this.sections[1]<0}iterGaps(t){for(let e=0,i=0,n=0;e<this.sections.length;){let s=this.sections[e++],r=this.sections[e++];r<0?(t(i,n,s),n+=s):n+=r,i+=s}}iterChangedRanges(t,e=!1){c(this,t,e)}get invertedDesc(){let t=[];for(let e=0;e<this.sections.length;){let i=this.sections[e++],n=this.sections[e++];n<0?t.push(i,n):t.push(n,i)}return new o(t)}composeDesc(t){return this.empty?t:t.empty?this:d(this,t)}mapDesc(t,e=!1){return t.empty?this:u(this,t,e)}mapPos(t,e=-1,i=r.Simple){let n=0,s=0;for(let o=0;o<this.sections.length;){let l=this.sections[o++],a=this.sections[o++],h=n+l;if(a<0){if(h>t)return s+(t-n);s+=l}else{if(i!=r.Simple&&h>=t&&(i==r.TrackDel&&n<t&&h>t||i==r.TrackBefore&&n<t||i==r.TrackAfter&&h>t))return null;if(h>t||h==t&&e<0&&!l)return t==n||e<0?s:s+a;s+=a}n=h}if(t>n)throw new RangeError(`Position ${t} is out of range for changeset of length ${n}`);return s}touchesRange(t,e=t){for(let i=0,n=0;i<this.sections.length&&n<=e;){let s=this.sections[i++],r=this.sections[i++],o=n+s;if(r>=0&&n<=e&&o>=t)return!(n<t&&o>e)||"cover";n=o}return!1}toString(){let t="";for(let e=0;e<this.sections.length;){let i=this.sections[e++],n=this.sections[e++];t+=(t?" ":"")+i+(n>=0?":"+n:"")}return t}toJSON(){return this.sections}static fromJSON(t){if(!Array.isArray(t)||t.length%2||t.some(t=>"number"!=typeof t))throw new RangeError("Invalid JSON representation of ChangeDesc");return new o(t)}}class l extends o{constructor(t,e){super(t),this.inserted=e}apply(t){if(this.length!=t.length)throw new RangeError("Applying change set to a document with the wrong length");return c(this,(e,i,n,s,r)=>t=t.replace(n,n+(i-e),r),!1),t}mapDesc(t,e=!1){return u(this,t,e,!0)}invert(t){let e=this.sections.slice(),i=[];for(let s=0,r=0;s<e.length;s+=2){let o=e[s],l=e[s+1];if(l>=0){e[s]=l,e[s+1]=o;let a=s>>1;while(i.length<a)i.push(n["a"].empty);i.push(o?t.slice(r,r+o):n["a"].empty)}r+=o}return new l(e,i)}compose(t){return this.empty?t:t.empty?this:d(this,t,!0)}map(t,e=!1){return t.empty?this:u(this,t,e,!0)}iterChanges(t,e=!1){c(this,t,e)}get desc(){return new o(this.sections)}filter(t){let e=[],i=[],n=[],s=new f(this);t:for(let r=0,o=0;;){let l=r==t.length?1e9:t[r++];while(o<l||o==l&&0==s.len){if(s.done)break t;let t=Math.min(s.len,l-o);a(n,t,-1);let r=-1==s.ins?-1:0==s.off?s.ins:0;a(e,t,r),r>0&&h(i,e,s.text),s.forward(t),o+=t}let c=t[r++];while(o<c){if(s.done)break t;let t=Math.min(s.len,c-o);a(e,t,-1),a(n,t,-1==s.ins?-1:0==s.off?s.ins:0),s.forward(t),o+=t}}return{changes:new l(e,i),filtered:new o(n)}}toJSON(){let t=[];for(let e=0;e<this.sections.length;e+=2){let i=this.sections[e],n=this.sections[e+1];n<0?t.push(i):0==n?t.push([i]):t.push([i].concat(this.inserted[e>>1].toJSON()))}return t}static of(t,e,i){let r=[],o=[],c=0,u=null;function d(t=!1){if(!t&&!r.length)return;c<e&&a(r,e-c,-1);let i=new l(r,o);u=u?u.compose(i.map(u)):i,r=[],o=[],c=0}function f(t){if(Array.isArray(t))for(let e of t)f(e);else if(t instanceof l){if(t.length!=e)throw new RangeError(`Mismatched change set length (got ${t.length}, expected ${e})`);d(),u=u?u.compose(t.map(u)):t}else{let{from:l,to:u=l,insert:f}=t;if(l>u||l<0||u>e)throw new RangeError(`Invalid change range ${l} to ${u} (in doc of length ${e})`);let p=f?"string"==typeof f?n["a"].of(f.split(i||s)):f:n["a"].empty,g=p.length;if(l==u&&0==g)return;l<c&&d(),l>c&&a(r,l-c,-1),a(r,u-l,g),h(o,r,p),c=u}}return f(t),d(!u),u}static empty(t){return new l(t?[t,-1]:[],[])}static fromJSON(t){if(!Array.isArray(t))throw new RangeError("Invalid JSON representation of ChangeSet");let e=[],i=[];for(let s=0;s<t.length;s++){let r=t[s];if("number"==typeof r)e.push(r,-1);else{if(!Array.isArray(r)||"number"!=typeof r[0]||r.some((t,e)=>e&&"string"!=typeof t))throw new RangeError("Invalid JSON representation of ChangeSet");if(1==r.length)e.push(r[0],0);else{while(i.length<s)i.push(n["a"].empty);i[s]=n["a"].of(r.slice(1)),e.push(r[0],i[s].length)}}}return new l(e,i)}}function a(t,e,i,n=!1){if(0==e&&i<=0)return;let s=t.length-2;s>=0&&i<=0&&i==t[s+1]?t[s]+=e:0==e&&0==t[s]?t[s+1]+=i:n?(t[s]+=e,t[s+1]+=i):t.push(e,i)}function h(t,e,i){if(0==i.length)return;let s=e.length-2>>1;if(s<t.length)t[t.length-1]=t[t.length-1].append(i);else{while(t.length<s)t.push(n["a"].empty);t.push(i)}}function c(t,e,i){let s=t.inserted;for(let r=0,o=0,l=0;l<t.sections.length;){let a=t.sections[l++],h=t.sections[l++];if(h<0)r+=a,o+=a;else{let c=r,u=o,d=n["a"].empty;for(;;){if(c+=a,u+=h,h&&s&&(d=d.append(s[l-2>>1])),i||l==t.sections.length||t.sections[l+1]<0)break;a=t.sections[l++],h=t.sections[l++]}e(r,c,o,u,d),r=c,o=u}}}function u(t,e,i,n=!1){let s=[],r=n?[]:null,c=new f(t),u=new f(e);for(let d=0,f=0;;)if(-1==c.ins)d+=c.len,c.next();else if(-1==u.ins&&f<d){let t=Math.min(u.len,d-f);u.forward(t),a(s,t,-1),f+=t}else if(u.ins>=0&&(c.done||f<d||f==d&&(u.len<c.len||u.len==c.len&&!i))){a(s,u.ins,-1);while(d>f&&!c.done&&d+c.len<f+u.len)d+=c.len,c.next();f+=u.len,u.next()}else{if(!(c.ins>=0)){if(c.done&&u.done)return r?new l(s,r):new o(s);throw new Error("Mismatched change set lengths")}{let t=0,e=d+c.len;for(;;)if(u.ins>=0&&f>d&&f+u.len<e)t+=u.ins,f+=u.len,u.next();else{if(!(-1==u.ins&&f<e))break;{let i=Math.min(u.len,e-f);t+=i,u.forward(i),f+=i}}a(s,t,c.ins),r&&h(r,s,c.text),d=e,c.next()}}}function d(t,e,i=!1){let n=[],s=i?[]:null,r=new f(t),c=new f(e);for(let u=!1;;){if(r.done&&c.done)return s?new l(n,s):new o(n);if(0==r.ins)a(n,r.len,0,u),r.next();else if(0!=c.len||c.done){if(r.done||c.done)throw new Error("Mismatched change set lengths");{let t=Math.min(r.len2,c.len),e=n.length;if(-1==r.ins){let e=-1==c.ins?-1:c.off?0:c.ins;a(n,t,e,u),s&&e&&h(s,n,c.text)}else-1==c.ins?(a(n,r.off?0:r.len,t,u),s&&h(s,n,r.textBit(t))):(a(n,r.off?0:r.len,c.off?0:c.ins,u),s&&!c.off&&h(s,n,c.text));u=(r.ins>t||c.ins>=0&&c.len>t)&&(u||n.length>e),r.forward2(t),c.forward(t)}}else a(n,0,c.ins,u),s&&h(s,n,c.text),c.next()}}class f{constructor(t){this.set=t,this.i=0,this.next()}next(){let{sections:t}=this.set;this.i<t.length?(this.len=t[this.i++],this.ins=t[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return-2==this.ins}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:t}=this.set,e=this.i-2>>1;return e>=t.length?n["a"].empty:t[e]}textBit(t){let{inserted:e}=this.set,i=this.i-2>>1;return i>=e.length&&!t?n["a"].empty:e[i].slice(this.off,null==t?void 0:this.off+t)}forward(t){t==this.len?this.next():(this.len-=t,this.off+=t)}forward2(t){-1==this.ins?this.forward(t):t==this.ins?this.next():(this.ins-=t,this.off+=t)}}class p{constructor(t,e,i){this.from=t,this.to=e,this.flags=i}get anchor(){return 16&this.flags?this.to:this.from}get head(){return 16&this.flags?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return 4&this.flags?-1:8&this.flags?1:0}get bidiLevel(){let t=3&this.flags;return 3==t?null:t}get goalColumn(){let t=this.flags>>5;return 33554431==t?void 0:t}map(t,e=-1){let i,n;return this.empty?i=n=t.mapPos(this.from,e):(i=t.mapPos(this.from,1),n=t.mapPos(this.to,-1)),i==this.from&&n==this.to?this:new p(i,n,this.flags)}extend(t,e=t){if(t<=this.anchor&&e>=this.anchor)return g.range(t,e);let i=Math.abs(t-this.anchor)>Math.abs(e-this.anchor)?t:e;return g.range(this.anchor,i)}eq(t){return this.anchor==t.anchor&&this.head==t.head}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(t){if(!t||"number"!=typeof t.anchor||"number"!=typeof t.head)throw new RangeError("Invalid JSON representation for SelectionRange");return g.range(t.anchor,t.head)}}class g{constructor(t,e=0){this.ranges=t,this.mainIndex=e}map(t,e=-1){return t.empty?this:g.create(this.ranges.map(i=>i.map(t,e)),this.mainIndex)}eq(t){if(this.ranges.length!=t.ranges.length||this.mainIndex!=t.mainIndex)return!1;for(let e=0;e<this.ranges.length;e++)if(!this.ranges[e].eq(t.ranges[e]))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return 1==this.ranges.length?this:new g([this.main])}addRange(t,e=!0){return g.create([t].concat(this.ranges),e?0:this.mainIndex+1)}replaceRange(t,e=this.mainIndex){let i=this.ranges.slice();return i[e]=t,g.create(i,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(t=>t.toJSON()),main:this.mainIndex}}static fromJSON(t){if(!t||!Array.isArray(t.ranges)||"number"!=typeof t.main||t.main>=t.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new g(t.ranges.map(t=>p.fromJSON(t)),t.main)}static single(t,e=t){return new g([g.range(t,e)],0)}static create(t,e=0){if(0==t.length)throw new RangeError("A selection needs at least one range");for(let i=0,n=0;n<t.length;n++){let s=t[n];if(s.empty?s.from<=i:s.from<i)return m(t.slice(),e);i=s.to}return new g(t,e)}static cursor(t,e=0,i,n){return new p(t,t,(0==e?0:e<0?4:8)|(null==i?3:Math.min(2,i))|(null!==n&&void 0!==n?n:33554431)<<5)}static range(t,e,i){let n=(null!==i&&void 0!==i?i:33554431)<<5;return e<t?new p(e,t,24|n):new p(t,e,n|(e>t?4:0))}}function m(t,e=0){let i=t[e];t.sort((t,e)=>t.from-e.from),e=t.indexOf(i);for(let n=1;n<t.length;n++){let i=t[n],s=t[n-1];if(i.empty?i.from<=s.to:i.from<s.to){let r=s.from,o=Math.max(i.to,s.to);n<=e&&e--,t.splice(--n,2,i.anchor>i.head?g.range(o,r):g.range(r,o))}}return new g(t,e)}function v(t,e){for(let i of t.ranges)if(i.to>e)throw new RangeError("Selection points outside of document")}let w=0;class b{constructor(t,e,i,n,s){this.combine=t,this.compareInput=e,this.compare=i,this.isStatic=n,this.extensions=s,this.id=w++,this.default=t([])}static define(t={}){return new b(t.combine||(t=>t),t.compareInput||((t,e)=>t===e),t.compare||(t.combine?(t,e)=>t===e:y),!!t.static,t.enables)}of(t){return new x([],this,0,t)}compute(t,e){if(this.isStatic)throw new Error("Can't compute a static facet");return new x(t,this,1,e)}computeN(t,e){if(this.isStatic)throw new Error("Can't compute a static facet");return new x(t,this,2,e)}from(t,e){return e||(e=t=>t),this.compute([t],i=>e(i.field(t)))}}function y(t,e){return t==e||t.length==e.length&&t.every((t,i)=>t===e[i])}class x{constructor(t,e,i,n){this.dependencies=t,this.facet=e,this.type=i,this.value=n,this.id=w++}dynamicSlot(t){var e;let i=this.value,n=this.facet.compareInput,s=this.id,r=t[s]>>1,o=2==this.type,l=!1,a=!1,h=[];for(let c of this.dependencies)"doc"==c?l=!0:"selection"==c?a=!0:0==(1&(null!==(e=t[c.id])&&void 0!==e?e:1))&&h.push(t[c.id]);return{create(t){return t.values[r]=i(t),1},update(t,e){if(l&&e.docChanged||a&&(e.docChanged||e.selection)||h.some(e=>(1&B(t,e))>0)){let e=i(t);if(o?!k(e,t.values[r],n):!n(e,t.values[r]))return t.values[r]=e,1}return 0},reconfigure(t,e){let l=i(t),a=e.config.address[s];if(null!=a){let i=N(e,a);if(o?k(l,i,n):n(l,i))return t.values[r]=i,0}return t.values[r]=l,1}}}}function k(t,e,i){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!i(t[n],e[n]))return!1;return!0}function S(t,e,i){let n=i.map(e=>t[e.id]),s=i.map(t=>t.type),r=n.filter(t=>!(1&t)),o=t[e.id]>>1;function l(t){let i=[];for(let e=0;e<n.length;e++){let r=N(t,n[e]);if(2==s[e])for(let t of r)i.push(t);else i.push(r)}return e.combine(i)}return{create(t){for(let e of n)B(t,e);return t.values[o]=l(t),1},update(t,i){if(!r.some(e=>1&B(t,e)))return 0;let n=l(t);return e.compare(n,t.values[o])?0:(t.values[o]=n,1)},reconfigure(t,s){let r=n.some(e=>1&B(t,e)),a=s.config.facets[e.id],h=s.facet(e);if(a&&!r&&y(i,a))return t.values[o]=h,0;let c=l(t);return e.compare(c,h)?(t.values[o]=h,0):(t.values[o]=c,1)}}}const O=b.define({static:!0});class C{constructor(t,e,i,n,s){this.id=t,this.createF=e,this.updateF=i,this.compareF=n,this.spec=s,this.provides=void 0}static define(t){let e=new C(w++,t.create,t.update,t.compare||((t,e)=>t===e),t);return t.provide&&(e.provides=t.provide(e)),e}create(t){let e=t.facet(O).find(t=>t.field==this);return((null===e||void 0===e?void 0:e.create)||this.createF)(t)}slot(t){let e=t[this.id]>>1;return{create:t=>(t.values[e]=this.create(t),1),update:(t,i)=>{let n=t.values[e],s=this.updateF(n,i);return this.compareF(n,s)?0:(t.values[e]=s,1)},reconfigure:(t,i)=>null!=i.config.address[this.id]?(t.values[e]=i.field(this),0):(t.values[e]=this.create(t),1)}}init(t){return[this,O.of({field:this,create:t})]}get extension(){return this}}const A={lowest:4,low:3,default:2,high:1,highest:0};function M(t){return e=>new D(e,t)}const T={lowest:M(A.lowest),low:M(A.low),default:M(A.default),high:M(A.high),highest:M(A.highest),fallback:M(A.lowest),extend:M(A.high),override:M(A.highest)};class D{constructor(t,e){this.inner=t,this.prec=e}}class P{of(t){return new _(this,t)}reconfigure(t){return P.reconfigure.of({compartment:this,extension:t})}get(t){return t.config.compartments.get(this)}}class _{constructor(t,e){this.compartment=t,this.inner=e}}class E{constructor(t,e,i,n,s,r){this.base=t,this.compartments=e,this.dynamicSlots=i,this.address=n,this.staticValues=s,this.facets=r,this.statusTemplate=[];while(this.statusTemplate.length<i.length)this.statusTemplate.push(0)}staticFacet(t){let e=this.address[t.id];return null==e?t.default:this.staticValues[e>>1]}static resolve(t,e,i){let n=[],s=Object.create(null),r=new Map;for(let u of R(t,e,r))u instanceof C?n.push(u):(s[u.facet.id]||(s[u.facet.id]=[])).push(u);let o=Object.create(null),l=[],a=[];for(let u of n)o[u.id]=a.length<<1,a.push(t=>u.slot(t));let h=null===i||void 0===i?void 0:i.config.facets;for(let u in s){let t=s[u],e=t[0].facet,n=h&&h[u]||[];if(t.every(t=>0==t.type))if(o[e.id]=l.length<<1|1,y(n,t))l.push(i.facet(e));else{let n=e.combine(t.map(t=>t.value));l.push(i&&e.compare(n,i.facet(e))?i.facet(e):n)}else{for(let e of t)0==e.type?(o[e.id]=l.length<<1|1,l.push(e.value)):(o[e.id]=a.length<<1,a.push(t=>e.dynamicSlot(t)));o[e.id]=a.length<<1,a.push(i=>S(i,e,t))}}let c=a.map(t=>t(o));return new E(t,r,c,o,l,s)}}function R(t,e,i){let n=[[],[],[],[],[]],s=new Map;function r(t,o){let l=s.get(t);if(null!=l){if(l>=o)return;let e=n[l].indexOf(t);e>-1&&n[l].splice(e,1),t instanceof _&&i.delete(t.compartment)}if(s.set(t,o),Array.isArray(t))for(let e of t)r(e,o);else if(t instanceof _){if(i.has(t.compartment))throw new RangeError("Duplicate use of compartment in extensions");let n=e.get(t.compartment)||t.inner;i.set(t.compartment,n),r(n,o)}else if(t instanceof D)r(t.inner,t.prec);else if(t instanceof C)n[o].push(t),t.provides&&r(t.provides,o);else if(t instanceof x)n[o].push(t),t.facet.extensions&&r(t.facet.extensions,o);else{let e=t.extension;if(!e)throw new Error(`Unrecognized extension value in extension set (${t}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);r(e,o)}}return r(t,A.default),n.reduce((t,e)=>t.concat(e))}function B(t,e){if(1&e)return 2;let i=e>>1,n=t.status[i];if(4==n)throw new Error("Cyclic dependency between fields and/or facets");if(2&n)return n;t.status[i]=4;let s=t.computeSlot(t,t.config.dynamicSlots[i]);return t.status[i]=2|s}function N(t,e){return 1&e?t.config.staticValues[e>>1]:t.values[e>>1]}const L=b.define(),I=b.define({combine:t=>t.some(t=>t),static:!0}),V=b.define({combine:t=>t.length?t[0]:void 0,static:!0}),z=b.define(),H=b.define(),W=b.define(),q=b.define({combine:t=>!!t.length&&t[0]});class j{constructor(t,e){this.type=t,this.value=e}static define(){return new F}}class F{of(t){return new j(this,t)}}class Q{constructor(t){this.map=t}of(t){return new U(this,t)}}class U{constructor(t,e){this.type=t,this.value=e}map(t){let e=this.type.map(this.value,t);return void 0===e?void 0:e==this.value?this:new U(this.type,e)}is(t){return this.type==t}static define(t={}){return new Q(t.map||(t=>t))}static mapEffects(t,e){if(!t.length)return t;let i=[];for(let n of t){let t=n.map(e);t&&i.push(t)}return i}}U.reconfigure=U.define(),U.appendConfig=U.define();class K{constructor(t,e,i,n,s,r){this.startState=t,this.changes=e,this.selection=i,this.effects=n,this.annotations=s,this.scrollIntoView=r,this._doc=null,this._state=null,i&&v(i,e.newLength),s.some(t=>t.type==K.time)||(this.annotations=s.concat(K.time.of(Date.now())))}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(t){for(let e of this.annotations)if(e.type==t)return e.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(t){let e=this.annotation(K.userEvent);return!(!e||!(e==t||e.length>t.length&&e.slice(0,t.length)==t&&"."==e[t.length]))}}function $(t,e){let i=[];for(let n=0,s=0;;){let r,o;if(n<t.length&&(s==e.length||e[s]>=t[n]))r=t[n++],o=t[n++];else{if(!(s<e.length))return i;r=e[s++],o=e[s++]}!i.length||i[i.length-1]<r?i.push(r,o):i[i.length-1]<o&&(i[i.length-1]=o)}}function G(t,e,i){var n;let s,r,o;return i?(s=e.changes,r=l.empty(e.changes.length),o=t.changes.compose(e.changes)):(s=e.changes.map(t.changes),r=t.changes.mapDesc(e.changes,!0),o=t.changes.compose(s)),{changes:o,selection:e.selection?e.selection.map(r):null===(n=t.selection)||void 0===n?void 0:n.map(s),effects:U.mapEffects(t.effects,s).concat(U.mapEffects(e.effects,r)),annotations:t.annotations.length?t.annotations.concat(e.annotations):e.annotations,scrollIntoView:t.scrollIntoView||e.scrollIntoView}}function X(t,e,i){let n=e.selection,s=et(e.annotations);return e.userEvent&&(s=s.concat(K.userEvent.of(e.userEvent))),{changes:e.changes instanceof l?e.changes:l.of(e.changes||[],i,t.facet(V)),selection:n&&(n instanceof g?n:g.single(n.anchor,n.head)),effects:et(e.effects),annotations:s,scrollIntoView:!!e.scrollIntoView}}function J(t,e,i){let n=X(t,e.length?e[0]:{},t.doc.length);e.length&&!1===e[0].filter&&(i=!1);for(let r=1;r<e.length;r++){!1===e[r].filter&&(i=!1);let s=!!e[r].sequential;n=G(n,X(t,e[r],s?n.changes.newLength:t.doc.length),s)}let s=new K(t,n.changes,n.selection,n.effects,n.annotations,n.scrollIntoView);return Z(i?Y(s):s)}function Y(t){let e=t.startState,i=!0;for(let s of e.facet(z)){let e=s(t);if(!1===e){i=!1;break}Array.isArray(e)&&(i=!0===i?e:$(i,e))}if(!0!==i){let n,s;if(!1===i)s=t.changes.invertedDesc,n=l.empty(e.doc.length);else{let e=t.changes.filter(i);n=e.changes,s=e.filtered.invertedDesc}t=new K(e,n,t.selection&&t.selection.map(s),U.mapEffects(t.effects,s),t.annotations,t.scrollIntoView)}let n=e.facet(H);for(let s=n.length-1;s>=0;s--){let i=n[s](t);t=i instanceof K?i:Array.isArray(i)&&1==i.length&&i[0]instanceof K?i[0]:J(e,et(i),!1)}return t}function Z(t){let e=t.startState,i=e.facet(W),n=t;for(let s=i.length-1;s>=0;s--){let r=i[s](t);r&&Object.keys(r).length&&(n=G(t,X(e,r,t.changes.newLength),!0))}return n==t?t:new K(e,t.changes,t.selection,n.effects,n.annotations,n.scrollIntoView)}K.time=j.define(),K.userEvent=j.define(),K.addToHistory=j.define(),K.remote=j.define();const tt=[];function et(t){return null==t?tt:Array.isArray(t)?t:[t]}var it=function(t){return t[t["Word"]=0]="Word",t[t["Space"]=1]="Space",t[t["Other"]=2]="Other",t}(it||(it={}));const nt=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let st;try{st=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch(ht){}function rt(t){if(st)return st.test(t);for(let e=0;e<t.length;e++){let i=t[e];if(/\w/.test(i)||i>""&&(i.toUpperCase()!=i.toLowerCase()||nt.test(i)))return!0}return!1}function ot(t){return e=>{if(!/\S/.test(e))return it.Space;if(rt(e))return it.Word;for(let i=0;i<t.length;i++)if(e.indexOf(t[i])>-1)return it.Word;return it.Other}}class lt{constructor(t,e,i,n,s,r){this.config=t,this.doc=e,this.selection=i,this.values=n,this.status=t.statusTemplate.slice(),this.computeSlot=s,r&&(r._state=this);for(let o=0;o<this.config.dynamicSlots.length;o++)B(this,o<<1);this.computeSlot=null}field(t,e=!0){let i=this.config.address[t.id];if(null!=i)return B(this,i),N(this,i);if(e)throw new RangeError("Field is not present in this state")}update(...t){return J(this,t,!0)}applyTransaction(t){let e,i=this.config,{base:n,compartments:s}=i;for(let r of t.effects)r.is(P.reconfigure)?(i&&(s=new Map,i.compartments.forEach((t,e)=>s.set(e,t)),i=null),s.set(r.value.compartment,r.value.extension)):r.is(U.reconfigure)?(i=null,n=r.value):r.is(U.appendConfig)&&(i=null,n=et(n).concat(r.value));if(i)e=t.startState.values.slice();else{i=E.resolve(n,s,this);let t=new lt(i,this.doc,this.selection,i.dynamicSlots.map(()=>null),(t,e)=>e.reconfigure(t,this),null);e=t.values}new lt(i,t.newDoc,t.newSelection,e,(e,i)=>i.update(e,t),t)}replaceSelection(t){return"string"==typeof t&&(t=this.toText(t)),this.changeByRange(e=>({changes:{from:e.from,to:e.to,insert:t},range:g.cursor(e.from+t.length)}))}changeByRange(t){let e=this.selection,i=t(e.ranges[0]),n=this.changes(i.changes),s=[i.range],r=et(i.effects);for(let o=1;o<e.ranges.length;o++){let i=t(e.ranges[o]),l=this.changes(i.changes),a=l.map(n);for(let t=0;t<o;t++)s[t]=s[t].map(a);let h=n.mapDesc(l,!0);s.push(i.range.map(h)),n=n.compose(a),r=U.mapEffects(r,a).concat(U.mapEffects(et(i.effects),h))}return{changes:n,selection:g.create(s,e.mainIndex),effects:r}}changes(t=[]){return t instanceof l?t:l.of(t,this.doc.length,this.facet(lt.lineSeparator))}toText(t){return n["a"].of(t.split(this.facet(lt.lineSeparator)||s))}sliceDoc(t=0,e=this.doc.length){return this.doc.sliceString(t,e,this.lineBreak)}facet(t){let e=this.config.address[t.id];return null==e?t.default:(B(this,e),N(this,e))}toJSON(t){let e={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(t)for(let i in t){let n=t[i];n instanceof C&&(e[i]=n.spec.toJSON(this.field(t[i]),this))}return e}static fromJSON(t,e={},i){if(!t||"string"!=typeof t.doc)throw new RangeError("Invalid JSON representation for EditorState");let n=[];if(i)for(let s in i){let e=i[s],r=t[s];n.push(e.init(t=>e.spec.fromJSON(r,t)))}return lt.create({doc:t.doc,selection:g.fromJSON(t.selection),extensions:e.extensions?n.concat([e.extensions]):n})}static create(t={}){let e=E.resolve(t.extensions||[],new Map),i=t.doc instanceof n["a"]?t.doc:n["a"].of((t.doc||"").split(e.staticFacet(lt.lineSeparator)||s)),r=t.selection?t.selection instanceof g?t.selection:g.single(t.selection.anchor,t.selection.head):g.single(0);return v(r,i.length),e.staticFacet(I)||(r=r.asSingle()),new lt(e,i,r,e.dynamicSlots.map(()=>null),(t,e)=>e.create(t),null)}get tabSize(){return this.facet(lt.tabSize)}get lineBreak(){return this.facet(lt.lineSeparator)||"\n"}get readOnly(){return this.facet(q)}phrase(t){for(let e of this.facet(lt.phrases))if(Object.prototype.hasOwnProperty.call(e,t))return e[t];return t}languageDataAt(t,e,i=-1){let n=[];for(let s of this.facet(L))for(let r of s(this,e,i))Object.prototype.hasOwnProperty.call(r,t)&&n.push(r[t]);return n}charCategorizer(t){return ot(this.languageDataAt("wordChars",t).join(""))}wordAt(t){let{text:e,from:i,length:s}=this.doc.lineAt(t),r=this.charCategorizer(t),o=t-i,l=t-i;while(o>0){let t=Object(n["e"])(e,o,!1);if(r(e.slice(t,o))!=it.Word)break;o=t}while(l<s){let t=Object(n["e"])(e,l);if(r(e.slice(l,t))!=it.Word)break;l=t}return o==l?null:g.range(o+i,l+i)}}function at(t,e,i={}){let n={};for(let s of t)for(let t of Object.keys(s)){let e=s[t],r=n[t];if(void 0===r)n[t]=e;else if(r===e||void 0===e);else{if(!Object.hasOwnProperty.call(i,t))throw new Error("Config merge conflict for field "+t);n[t]=i[t](r,e)}}for(let s in e)void 0===n[s]&&(n[s]=e[s]);return n}lt.allowMultipleSelections=I,lt.tabSize=b.define({combine:t=>t.length?t[0]:4}),lt.lineSeparator=V,lt.readOnly=q,lt.phrases=b.define(),lt.languageData=L,lt.changeFilter=z,lt.transactionFilter=H,lt.transactionExtender=W,P.reconfigure=U.define()}}]);
//# sourceMappingURL=chunk-e2b1a048.62606c16.js.map